!function(){var{console:e,wxConsole:t,wxNativeConsole:i,__wxConfig:a,__errorTracer__:n,Reporter:o,Foundation:r,WeixinJSBridge:s,IS_APP:l,IS_APPSERVICE_SDK:d,IS_WAGAME:c,IS_WORKER:u,wxRunOnDebug:h,__appServiceSDKAD__:p}=globalThis.getAdGlobalVar();(()=>{var i={153:e=>{e.exports=function(e,t,i,a,n){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,a){return a(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o},e.exports.__esModule=!0,e.exports.default=e.exports},644:e=>{function t(e,t,i,a,n,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(a,n)}e.exports=function(e){return function(){var i=this,a=arguments;return new Promise((function(n,o){var r=e.apply(i,a);function s(e){t(r,n,o,s,l,"next",e)}function l(e){t(r,n,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},425:e=>{e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},707:e=>{e.exports=function(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})},e.exports.__esModule=!0,e.exports.default=e.exports},25:e=>{e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},e.exports.__esModule=!0,e.exports.default=e.exports},29:(e,t,i)=>{var a=i(425);function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},850:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:i()}}();function t(){if(n(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!r("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return n(/\?>\s*/),e}}function i(){var e=n(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(o()||r(">")||r("?>")||r("/>"));){var l=a();if(!l)return s;s.attributes[l.name]=l.value}if(n(/^\s*\/>\s*/))return s;for(n(/\??>\s*/),s.content=function(){var e=n(/^([^<]*)/);return e?e[1]:""}();t=i();)s.children.push(t);return n(/^<\/[\w-:.]+>\s*/),s}}function a(){var e,t=n(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function n(t){var i=e.match(t);if(i)return e=e.slice(i[0].length),i}function o(){return 0==e.length}function r(t){return 0==e.indexOf(t)}}}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return i[e](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var i=s(29),r=s.n(i),l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function d(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function h(t,i){e.warn(`[Event] ${t} listeners of event ${i} have been added, possibly causing memory leak.`)}function f(e){this._events={},this._newListener=!1,this._removeListener=!1,u.call(this,e)}f.prototype.delimiter=".",f.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},f.prototype.event="",f.prototype.once=function(e,t){return this._once(e,t,!1)},f.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},f.prototype._once=function(e,t,i){return this._many(e,1,t,i),this},f.prototype.many=function(e,t,i){return this._many(e,t,i,!1)},f.prototype.prependMany=function(e,t,i){return this._many(e,t,i,!0)},f.prototype._many=function(e,t,i,a){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&n.off(e,o),i.apply(this,arguments)}return o._origin=i,this._on(e,o,a),n},f.prototype.emit=function(){this._events||d.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,i,a,n,o,r=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),r>3)for(t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,r){case 1:o[a].call(this,e);break;case 2:o[a].call(this,e,arguments[1]);break;case 3:o[a].call(this,e,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,r){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(r-1),n=1;n<r;n++)t[n-1]=arguments[n];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(r>3)for(t=new Array(r-1),n=1;n<r;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,r){case 1:o[a].call(this);break;case 2:o[a].call(this,arguments[1]);break;case 3:o[a].call(this,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},f.prototype.emitAsync=function(){this._events||d.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,a,n,o,r=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),n=1;n<s;n++)t[n]=arguments[n];for(a=0,i=this._all.length;a<i;a++)switch(this.event=e,s){case 1:r.push(this._all[a].call(this,e));break;case 2:r.push(this._all[a].call(this,e,arguments[1]));break;case 3:r.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:r.push(this._all[a].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,s){case 1:r.push(o.call(this));break;case 2:r.push(o.call(this,arguments[1]));break;case 3:r.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];r.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,s){case 1:r.push(o[a].call(this));break;case 2:r.push(o[a].call(this,arguments[1]));break;case 3:r.push(o[a].call(this,arguments[1],arguments[2]));break;default:r.push(o[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(r)},f.prototype.on=function(e,t){return this._on(e,t,!1)},f.prototype.prependListener=function(e,t){return this._on(e,t,!0)},f.prototype.onAny=function(e){return this._onAny(e,!1)},f.prototype.prependAny=function(e){return this._onAny(e,!0)},f.prototype.addListener=f.prototype.on,f.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},f.prototype._on=function(e,t,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||d.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,h.call(this,this._events[e].length,e))):this._events[e]=t,this},f.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,a=[];if(!this._events[e])return this;i=this._events[e],a.push({_listeners:i});for(var n=0;n<a.length;n++){if(i=a[n]._listeners,l(i)){for(var o=-1,r=0,s=i.length;r<s;r++)if(i[r]===t||i[r].listener&&i[r].listener===t||i[r]._origin&&i[r]._origin===t){o=r;break}if(o<0)continue;return this._events[e].splice(o,1),0===i.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var i=Object.keys(t);for(var a in i){var n=i[a],o=t[n];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[n]),0===Object.keys(o).length&&delete t[n])}}}(this.listenerTree),this},f.prototype.offAny=function(e){var t,i=0,a=0;if(e&&this._all&&this._all.length>0){for(i=0,a=(t=this._all).length;i<a;i++)if(e===t[i])return t.splice(i,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(i=0,a=t.length;i<a;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},f.prototype.removeListener=f.prototype.off,f.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||d.call(this),this):(this._events&&delete this._events[e],this)},f.prototype.listeners=function(e){return this._events||d.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},f.prototype.eventNames=function(){return Object.keys(this._events)},f.prototype.listenerCount=function(e){return this.listeners(e).length},f.prototype.listenersAny=function(){return this._all?this._all:[]};var g=f;class m{constructor(e={maxListeners:2e3}){this.emitter=new g(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=n.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}var y=p,{onMethod:v}=y,_=new m;var E=s(644),b=s.n(E),x=s(850),w=s.n(x),T=s(153),C=s.n(T),A=(()=>(a.onReady((()=>{A!==a&&void 0!==A&&Object.assign(A,a)})),a))(),D=A,I=(()=>D.platform)(),S=(()=>"devtools"===I)(),k=(()=>"android"===I)(),P=(()=>"ios"===I)();function R(){var e=D.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function O(){return"boolean"==typeof c?c:4===D.appType}function N(e=""){return new Promise(((t,i)=>{var a="",n="";k&&D.clientVersion>=654316032?y.invokeMethod("getDeviceInfo",{waidPkg:e,success(e){a=e.waid||"",n=e.imei||"",t({waid:a,imei:n})},fail(e){i(e)}}):t({waid:a,imei:n})}))}var L=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:i=1e3,minScale:a=0,side:n})=>{var o,r,s,l=e.width/e.height,d=t.width/t.height,c=e.width/t.width,u=e.height/t.height,h=l>d?u:c;return"width"===n?h=c:"height"===n&&(h=u),o=h,r=a,s=i,h=Math.min(Math.max(r,o),s),t.width*=h,t.height*=h,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:h,outer:e,inner:t}},M=(e=0)=>new Promise((t=>{setTimeout(t,e)})),B=(e,t)=>{for(var i="",a=0,n=0;n<e.length;n++){if((a+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)>t){i+="...";break}i+=e[n]}return i},V=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),W=Object.assign,F=e=>(t={})=>new Promise(((i,a)=>{e(W(t,{success:i,fail:a}))})),{invokeMethod:H}=y,U=e=>e&&"object"==typeof e&&!Array.isArray(e),G=(e,...t)=>{if(!t.length)return e;var i=t.shift();if(U(e)&&U(i))for(var a in i)U(i[a])?(e[a]||Object.assign(e,{[a]:{}}),G(e[a],i[a])):Object.assign(e,{[a]:i[a]});return G(e,...t)},z=()=>{var e=new Date,t=e.getMonth()+1,i=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(i>9?"":"0")+i].join("")},j=e=>{if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0},$=(e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e},Y=(e,t,i)=>{"string"==typeof t&&(t=t.split("."));for(var a=e,n=0;a&&n<t.length;)a=a[t[n]],n+=1;return a||i},q=e=>{var t=0,i=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{H("measureText",Object.assign({},i,{complete(e){t=e.width||0}}))}catch(e){}return t};Object.prototype.hasOwnProperty;function X(e){if("string"!=typeof e)return e;var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?`${t}?${i}`:t}function K(e){if(!S||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),i=t[1]||"",a=i.length>0?"&":"";e=`${t[0]}?${i}${a}devtools_ignore=true`}return e}var{invokeMethod:J,beforeInvoke:Z}=y,{invokeMethod:Q,invokeOperateWXDataPromise:ee,_invokeMethod:te}=y,ie=F((({url:e,adInfo:t,adUxInfo:i,success:a,fail:n,complete:o})=>{var r={url:e,adInfo:t,scene:85,success:a,fail:n,complete:o};i&&(r.adUxInfo=i),Q("private_openUrl",r)})),ae=F((({canvasInfo:e,posType:t,success:i,fail:a,complete:n})=>{var o,s,l,d;Q("openADCanvas",r()(r()({canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t,env:null==D||null===(o=D.host)||void 0===o?void 0:o.env,app_appid:null==D||null===(s=D.host)||void 0===s?void 0:s.appId,host_version:null==D||null===(l=D.host)||void 0===l?void 0:l.version})},e.canvas_dynamic_info&&{canvasDynamicInfo:e.canvas_dynamic_info}),{},{adInfoXml:(d=e.ad_info_xml,0===(d=d||"").length?"":d.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:i,fail:a,complete:n}))})),ne=F((({appId:e,path:t,traceid:i,aid:a,adInfo:n,adUxInfo:o,success:r,fail:s,complete:l})=>{var d=`${i}:${a}`,c={appId:e,path:X(t).trim(),scene:1095,sourcetype:1,sceneNote:d,adInfo:n,success:r,fail:s,complete:l};o&&(c.adUxInfo=o),Q("navigateToMiniProgram",c)})),oe=F(((e=!0,t,i=!1)=>(a={})=>{if(Z("adOperateWXData",a,{apiName:""})){var n={data:{api_name:a.apiName,data:a.reqData||{},operate_directly:e},isImportant:!0===i,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};J("adOperateWXData",Object.assign({},n,a),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){k&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data?e.data=JSON.parse(e.data.data):e.data={}}})}})(!1,"adOperateWXDataForAd")),re=(e={})=>ee(Object.assign({},e,{sdkApiName:"operateWXDataForAd"}));function se(e){te("showSplashAd",e)}function le(e){te("splashAdFirstStepViewLayoutStateChange",e)}function de(e){te("splashAdAllViewLayoutStateChange",e)}var ce=y.readdir,ue=y.stat,he=y.unlink,pe=y.writeFile,fe=y.readFileSync,ge=y.access,me=y.accessSync,ye=e=>Number(e).toString()===e,ve=(e,t)=>t.reduce(((t,i)=>(t[i]=e[i],t)),{}),_e=e=>e&&"object"==typeof e&&!Array.isArray(e);function Ee(e,...t){if(!t.length)return e;var i=t.shift();if(_e(e)&&_e(i))for(var a of Object.keys(i))_e(i[a])?(e[a]||Object.assign(e,{[a]:{}}),Ee(e[a],i[a])):Object.assign(e,{[a]:i[a]});return Ee(e,...t)}var be=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,o=0;n&&o<a.length;)n=n[a[o]],o+=1;return n||i},xe=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...xe(t)):e.push(t),e)),[]),we=e=>JSON.parse(JSON.stringify(e)),Te=e=>Object.keys(e),Ce=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var i;try{i=e[t]}catch(e){}"object"!=typeof i&&"function"!=typeof i||Object.isFrozen(i)||Ce(i)}))},Ae="TIMEOUT_REJECT",De=(e,t)=>Promise.race([e,new Promise(((e,i)=>{setTimeout((()=>{i(Ae)}),t)}))]),Ie="hideAd",Se="setStyle",ke="reportIdKey",Pe="triggerEvent",Re="setExprVar",Oe="videoToggleMuted",Ne="videoPlay",Le="videoPause",Me="videoStop",Be="buttonSetText",Ve="reloadAd",We="reportMMData",Fe="endPageHide",He="imageSetSrc",Ue="textSetText",Ge="animate",ze="triggerBtnClick",je="changeMultiShow",$e="landAd",Ye="splashSkipAd",qe="addChildren",Xe="reportAdMonitorData",Ke="rewardedVideoDynamic",Je="evaluateExpr",Ze="checkLiveStatus",Qe="slide",et="animationend",tt="appEnterForeground",it="appEnterBackground",at="containerTap",nt="adButtonTap",ot="viewableExposure",rt="exposure",st="showhalf",lt="hidehalf",dt="splashAdFirstRender",ct="splashAdMenuView",ut="liveStatusChange",ht="buttonTap",pt="relationFetched",ft="videoEnded",gt="videoPause",mt="videoPlay",yt="videoTimeUpdate",vt="mutedChange",_t="feedbackBtnTap",Et="tagTap",bt="dislikeTap",xt="dislikeReasonTap",wt="replay",Tt="show",Ct="hide",At="videodislike",Dt="showChange",It="unitTap",St="rewardedVideoPlay",kt="rewardedVideoReWarded",Pt="rewardedVideoTimeUpdate",Rt="rewardedVideoShowFlooringPage",Ot="rewardedVideoHandleDynamicDone",Nt="rewardedVideoWindowResize",Lt="rewardedVideoShow",Mt={SHOWFEEDBACK:"showFeedback",ADSHOWHALF:"adShowHalf",ADHIDEHALF:"adHideHalf",TRIGGEREVENT:"triggerEvent",REPORTVIDEOPLAY:"reportVideoPlay",APPENTERBACKGROUND:"appEnterBackground",ADVIDEOPAUSE:"adVideoPause",ADVIDEOPLAY:"adVideoPlay",FEEDBACKBTNTAP:"feedbackBtnTap",FEEDBACKREPORT:"feedbackReport",BTNTAP:"btnTap",CHANGEADBTNTEXT:"changedAdBtnText",ENDPAGEINIT:"endPageInit",SHOWENDPAGE:"showEndPage",REPORTENDPAGE:"reportEndPage",APPENTERFOREGROUND:"appEnterForeground",ENDPAGEHIDE:"endPageHide",ENDPAGESHOW:"endPageShow",REPORTMMDATA:"reportMMData",HIDEAD:"hideAd",REPORTTIMEPOINT:"reportTimePoint",CHANGEMULTISHOW:"changeMultiShow",CHECKEXPOSURE:"checkExposure",LANDAD:"landAd",CHANGECOUNTDOWN:"changeCountdown",SPLASHSKIPAD:"splashSkipAd",REPORTADMONITORDATA:"reportAdMonitorData",REWARDEDVIDEODYNAMIC:"rewardedVideoDynamic"},Bt=1,Vt=2,Wt=3,Ft=1,Ht=2,Ut=3,Gt=1,zt=2,jt=3,$t=4,Yt=1,qt=2,Xt=1,Kt=2,Jt=1,Zt=2,Qt=0,ei=1,ti=2,ii=1,ai=2,ni=(e,t)=>({idKey:e,idKeyGroup:t}),oi=924,ri=1288,si=1390,li=1764,di=1963,ci=e=>ni(e,oi),ui={AD_BANNER_LOAD_ERROR:ci(5),AD_VIDEO_LOAD_ERROR:ci(10),REWARDED_VIDEO_PARSE_ERROR:ci(11),REWARDED_VIDEO_RENDER_ERROR:ci(12),REWARDED_VIDEO_LOAD_ERROR:ci(13),REWARDED_VIDEO_FOLLOW_SUCCESS:ci(14),OPEN_URL_ERROR:ci(21),OPEN_WXAPP_ERROR:ci(22),OPEN_CANVAS_ERROR:ci(23),ADD_CONTACT_ERROR:ci(24),LAUNCH_APP_ERROR:ci(25),OPEN_WEBAPPSTORE_ERROR:ci(26),ADD_DOWNLOAD_TASK_ERROR:ci(28),CLICK_REPORT_ERROR:ci(32),EXPOSURE_REPORT_ERROR:ci(33),FOLLOW_REPORT_ERROR:ci(34),REWARDED_VIDEO_ANIMATE_ERROR:ci(35),INTERSTITIALAD_ANIMATE_ERROR:ci(36),AD_FOLLOWED:ci(37),AD_INSTALLED:ci(38),AD_INTERSTITIAL_LOAD_ERROR:ci(39),INTERSTITIAL_AD_RENDER_ERROR:ci(40),INTERSTITIAL_FOLLOW_SUCCESS:ci(41),INTERSTITIAL_SHOW_FAIL1:ci(42),INTERSTITIAL_SHOW_FAIL2:ci(43),INTERSTITIAL_SHOW_FAIL3:ci(44),INTERSTITIAL_SHOW_FAIL5:ci(45),INTERSTITIAL_SHOW_SUCCESS:ci(46),INTERSTITIAL_LIMIT_TIME:ci(49),REWARDED_VIDEO_INSTANCE_BROKEN:ci(50),PRELOAD_MINIENV_SUCCESS:ci(86),PRELOAD_MINIENV_ERROR:ci(87),AD_GRID_LOAD_SUCCESS:ci(88),AD_GRID_LOAD_COUNT_ERROR:ci(89),AD_GRID_LOAD_ERROR:ci(90),PREDOWNLOAD_SUCCESS:ci(96),PREDOWNLOAD_ERROR:ci(97),INTERSTITIAL_VIDEO_LOAD:ci(98),INTERSTITIAL_VIDEO_PLAY:ci(99),INTERSTITIAL_IMAGE_LOAD:ci(100),INTERSTITIAL_VIDEO_LOAD_ERROR:ci(101),INTERSTITIAL_VIDEO_REPORT_ERROR:ci(102),INTERSTITIAL_VIDEO_PLAY_SUCCESS:ci(103),INTERSTITIAL_VIDEO_PLAY_SUCCESS_END:ci(104),INTERSTITIAL_VIDEO_PRELOAD_SUCCESS:ci(106),REWARDED_VIDEO_OTHER_SHOW_ERROR:ci(105),INTERSTITIAL_VIDEO_PRELOAD_ERROR:ci(107),INTERSTITIAL_RENDER_SUCCESS:ci(108),INTERSTITIAL_RENDER_ERROR:ci(109),INTERSTITIAL_RENDER_ERROR_ALTERNATE:ci(110),BATCHLOAD_SUCCESS:ci(112),BATCHLOAD_ERROR:ci(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:ci(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:ci(115),INTERSTITIAL_RELATION_FETCH_ERROR:ci(116),BIND_GUIDE_SUCCESS:ci(119),BIND_GUIDE_ERROR:ci(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:ci(121),INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK:ci(123),INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK:ci(124),INTERSTITIAL_NO_CONTAINER:ci(125),INTERSTITIAL_HIDE_ERROR:ci(126),RIGHTBUTTON_HIDE_ERROR:ci(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:ci(128),GET_DEVICEINFO_ERROR:ci(129),THIRD_ERROR:ci(130),GET_DEVICEINFO_SUCCESS:ci(131),GET_WAID_SUCCESS:ci(132),GET_WAID_ERROR:ci(133),READ_ADINFOS_ERROR:ci(134),AD_FETCH_SUCCESS:ci(135),REWARDED_VIDEO_PRELOAD_ERROR:ci(136),REWARDED_VIDEO_PRELOAD_SUCCESS:ci(137),READ_ADINFOS_SUCCESS:ci(138),ANALYSE_DEBUG_REPORT_ERROR:ci(139),PRELOAD_CALL_ERROR:ci(140),PRELOAD_LOAD_ERROR:ci(141),PRELOAD_LOAD_SUCCESS:ci(142),PRELOAD_USE_SUCCESS:ci(143),PRELOAD_USE_ERROR:ci(144),PRELOAD_DOWNLOAD_SUCCESS:ci(145),PRELOAD_DOWNLOAD_ERROR:ci(146),REPORT_VIDEO_FAILED:ci(147),REWARD_GAUSS_EXISTS:ci(148),REWARD_USE_GAUSS:ci(149),REWARD_USE_EXPAND_STYLE:ci(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:ci(151),REWARDED_VIDEO_KEEP_ALIVE:ci(152),INTERSTITIAL_KEEP_ALIVE:ci(153),REWARDED_VIDEO_END:ci(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:ci(156),OPEN_CHANNELS_ACTIVITY_FAILED:ci(157),OPEN_CHANNELS_LIVE_SUCCESS:ci(158),OPEN_CHANNELS_LIVE_FAILED:ci(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:ci(160),OPEN_CHANNELS_USER_PROFILE_FAILED:ci(161),REWARD_CHANNELS_CALLBACK_SUCCESS:ci(162),REWARD_CHANNELS_CALLBACK_FAILED:ci(163),H5_PRELOAD_CARD_CLICKED:ci(164),H5_PRELOAD_BUTTON_CLICKED:ci(165),H5_PRELOAD_SUCCESS:ci(166),H5_PRELOAD_FAILED:ci(167),H5_PRELOAD_PLAYABLE_CLICKED:ci(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:ci(169),GET_CHANNELS_LIVE_STATUS_FAILED:ci(170),REWARDED_VIDEO_DURATION_ZERO:ci(171),REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR:ci(173),INTERSTITIAL_TEMPLATE_RENDER_SUCCESS:ci(178),INTERSTITIAL_TEMPLATE_RENDER_FAILED:ci(179),INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR:ci(180),OPEN_WEBSTORE_ERROR:ci(181),AD_FETCH_ERROR:ci(182),CHECK_FLOW_ERROR:ci(183),CHECK_AD_SKIP_CARD_SUCCESS:ci(188),COPY_GIFT_CODE_SUCCESS:ci(189),COPY_GIFT_CODE_FAIL:ci(190),OPEN_MACHINE_MKT_SUCCESS:ci(191),OPEN_MACHINE_MKT_ERROR:ci(192),OPEN_SHOP_SCHEME_SUCCESS:ci(193),OPEN_SHOP_SCHEME_ERROR:ci(194),UPDATE_ADINFOXML_ERROR:ci(195),IS_SWITCHED_HIDETEMPLATE:ci(196),IS_SWITCHED_CHECKEXPOSURE:ci(197),REWARDEDVIDEO_ANTIFRAUD:ci(198),INTERSTITIAL_NO_VIDEO:ci(199),INTERSTITIAL_JUDGE_SWITCH:ci(202),INTERSTITIAL_JUDGE_SWITCH_CLOSE:ci(203),REWARDEDVIDEO_SHARE_VALUE:ci(204),REWARDEDVIDEO_NO_SHARE_VALUE:ci(205),INTERSTITIAL_SHOW_BUT_NOT_READY:ci(206),INTERSTITIAL_SHOW_BUT_NOT_READY_TEMPLATE:ci(207),REWARDEDVIDEO_POPUP_SHOW_SUCCESS:ci(208),REWARDEDVIDEO_POPUP_SHOW_FAIL:ci(209),REWARDEDVIDEO_POPUP_CLICK_CONFIRM:ci(210),REWARDEDVIDEO_POPUP_CLICK_CANCEL:ci(211),REWARDED_ADDITION_FETCH_SUCCESS:ci(212),REWARDED_ADDITION_FETCH_FAILED:ci(213),REWARDED_ADDITION_FETCH_ALL_SUCCESS:ci(214),REWARDED_ADDITION_FETCH_ALL_FAILED:ci(215),REWARDED_VIDEO_ADDITION_PRELOAD_ERROR:ci(216),REWARDED_VIDEO_FEED_SLIDE_TIPS_SHOW:ci(217),REWARDED_VIDEO_FEED_SLIDE:ci(218),REWARDED_VIDEO_FEED_EXPOSURE:ci(219),REWARDED_VIDEO_FEED_CLICK:ci(220),REWARDED_VIDEO_FEED_CLOSE:ci(221),INTERSTITIAL_ONEKEY_FOLLOW:ci(223),REPORT_SHARE_BEHAVIOR_SUCCESS:ci(224),REPORT_SHARE_BEHAVIOR_FAILED:ci(225),REPORT_CAROUSEL_INDEX_ERROR:ci(226),REWARDED_VIDEO_ENDED_ERROR:ci(227),INTERSTITIAL_SHOWTEMPLATE_NO_VIDEO:ci(228),INTERSTITIAL_HIDETEMPLATE_NO_VIDEO:ci(229),REWARDED_VIDEO_FEED_REPLAY:ci(230),REWARDED_VIDEO_PLAYABLE_FETCHED:ci(234),REWARDED_VIDEO_PLAYABLE_SHOWED:ci(235),REWARDED_VIDEO_PLAYABLE_DURATION:ci(236),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_SUCCESS:ci(237),REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_FAILED:ci(238),REWARDED_VIDEO_PLAYABLE_INSERT_SUCCESS:ci(239),REWARDED_VIDEO_PLAYABLE_INSERT_FAILED:ci(240),REWARDED_VIDEO_PLAYABLE_REMOVE_FAILED:ci(241),REWARDED_VIDEO_PLAYABLE_STATUS_CHANGE:ci(242),OPEN_ENDED_CHANNELS_LIVE:ci(243),REWARDED_VIDEO_VALIDATE_INDENTIFY_FAILED:ci(244),REWARDED_VIDEO_LAND_CLICK:ci(246),REWRADED_VIDEO_FEED_INTERVAL_ERROR:ci(247)},hi=e=>ni(e,ri),pi={dataLoadSuccess:hi(0),dataLoadFail:hi(1),dataPreloadSuccess:hi(2),dataPreloadFail:hi(3),handleDataFail:hi(4),launchAcceptShouldShow:hi(5),menuAcceptShouldShow:hi(6),readFileFail:hi(7),launchShowSplashAdSuccess:hi(8),menuShowSplashAdSuccess:hi(9),showSplashAdFail:hi(10),firstRenderFail:hi(11),firstInsertFail:hi(12),secondRenderFail:hi(13),secondInsertFail:hi(14),iosThirdInsertFail:hi(15),checkAdStateFail:hi(16),adOfflineClose:hi(17),readFileDataFail:hi(18),firstShowSuccess:hi(19),showSplashAdMenuSuccess:hi(20),showSplashAdMenuFail:hi(21),secondShowSuccess:hi(22),removeFileDataFail:hi(23),landingPageFail:hi(24),frequencyControlFail:hi(25),frequencyControlReturn:hi(26),bulkCopyFileFail:hi(27),getAdInfosFail:hi(28),getAidFail:hi(29),setExposureTagFail:hi(30),NO_ADINFOS:hi(31),NO_AID:hi(32),MATERIAL_NOT_READY:hi(33),CHECK_AD_STATUS_ERROR:hi(34),CRT_ORIENTATION_NOT_SURE:hi(35),EXPOSURE_TIMES_LIMIT:hi(36),START_CHECK_AD_STATUS:hi(37),CHECK_AD_STATUS_SUCCESS:hi(38),OTHER_ADS_EMIT_FETCH:hi(39),WRITE_ADINFOS_SUCCESS:hi(40),WRITE_ADINFOS_FAIL:hi(41),downloadFirstMaterialFail:hi(52),HANDLE_MATERIAL_FAIL:hi(53),LOCAL_SELECT_BEGIN:hi(54),LOCAL_SELECT_OUTDATE:hi(55),LOCAL_SELECT_NO_AID:hi(56),LOCAL_SELECT_NO_FILE:hi(57),LOCAL_SELECT_SUCCESS:hi(58)},fi=e=>ni(e,si),gi={LOAD_FAILED:fi(1),PRELOAD_SUCCESS:fi(2),PRELOAD_FAILED:fi(3),PARSE_FAILED:fi(4),TPL_RENDER_SUCCESS:fi(5),TPL_PARSE_FAILED:fi(6),TPL_LOAD_FAILED:fi(7),AD_LIMIT_TIME:fi(8),AD_LIMIT_BOUNDARY:fi(9),RELATION_FETCH_ERROR:fi(10),SHOW_FAILED1:fi(11),SHOW_FAILED2:fi(12),AD_VIDEO_LOAD_FAILED:fi(13),FOLLOW_SUCCESS:fi(14),FOLLOW_FAILED:fi(15),RENDER_SUCCESS:fi(16),RENDER_FAILED:fi(17),REFETCH_SUCCESS:fi(18),REFETCH_FAILED:fi(19),LOAD_SUCCESS:fi(20),WIDTH_GET_ERROR:fi(21),ORIGIN_EXPOSURE_ERROR:fi(22),VIEWABLE_EXPOSURE_ERROR:fi(23)},mi=e=>ni(e,li),yi={PARSE_ERROR:mi(1),CALL_ERROR:mi(2),HAS_UUID:mi(3),EXPURL_ERROR:mi(4),EXPOSURE_NOFEEDBACK:mi(5),CLICK_NOFEEDBACK:mi(6),DEST_ERROR:mi(7),CLICK_INOF_ERROR:mi(8),CLICK_DATA:mi(9),EXPOSURE_DATA:mi(10)},vi=e=>ni(e,di),_i={ANIMATION_CARD_EXPOSURE:vi(0),ANIMATION_CARD_VIDEO_END:vi(1),ANIMATION_CARD_EXPOSURE_LOOP:vi(2),ANIMATION_CARD_VIDEO_END_LOOP:vi(3)},Ei=2001,bi=2002,xi=2003,wi=0,Ti=4,Ci=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],Ai={DEST_TYPE_AD:0,DEST_TYPE_OUTER:1,DEST_TYPE_APPDETAIL:2,DEST_TYPE_BIZ:3,DEST_TYPE_APPINFO_PAGE:4,DEST_TYPE_WECHAT_SHOP:5,DEST_TYPE_WECHAT_APPLET:6,DEST_TYPE_CANVAS:9,DEST_TYPE_CHANNELS:101,DEST_TYPE_CHANNELS_LIVE:102,DEST_TYPE_CHANNELS_USER_PROFILE:103,DEST_TYPE_CHANNELS_HALF_CARD:104,DEST_TYPE_ONEKEY_ATTENTION:40024},Di={CRT_SIZE_WX_APPLICATION:532,APP_VIDEO:538,PIC_TIME5:555,CRT_SIZE_WX_APPLICATION_CARD:556,CRT_SIZE_WX_APPLICATION_X:567,CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_WX_APPLICATION_NEW:608,CRT_SIZE_PIC_MOMENT:666,CRT_SIZE_TABLE_SCREEN_IMAGE:701,CRT_SIZE_AMS_PIC_169:711,CRT_SIZE_AMS_PIC_916:712,CRT_SIZE_AMS_VIDEO_169:720,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_VIDEO_TIME6:888,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_INSERT_VIDEO:913,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT:928,CRT_SIZE_MULTI_POS_VEDIO:929,CRT_SIZE_MULTI_POS_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_VERTICAL_VIDEO:1064,CRT_SIZE_VERTICAL_VIDEO_916:1480,VIDEO_TIME15:1515,CRT_SIZE_CARD_COMPT_IMAGE:1707,CRT_SIZE_CARD_COMPT_VIDEO:1708},Ii={ANDROID:12,IOS:19,WE_CHAT:23,MINI_GAME:46,WE_CHAT_CARD:36,WE_CHAT_SHOP:30,PRODUCTTYPE_WECHAT_PAY_COUPON:47,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31,WE_CHAT_APP:38,LBS:37,LEAD_AD:43,JD_URL:25},Si=8,ki={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},Pi={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},Ri=[Di.CRT_SIZE_WX_APPLICATION,Di.CRT_SIZE_WX_APPLICATION_NEW,Di.CRT_SIZE_WX_APPLICATION_X,Di.CRT_SIZE_WX_APPLICATION_CARD,Di.CRT_SIZE_REWARD_VEDIO169,Di.CRT_SIZE_REWARD_VEDIO916,Di.CRT_SIZE_TABLE_SCREEN_IMAGE,Di.CRT_SIZE_AMS_PIC_169,Di.CRT_SIZE_AMS_PIC_916,Di.CRT_SIZE_AMS_VIDEO_169,Di.CRT_SIZE_REWARD_LANDINGPAGE,Di.CRT_SIZE_INSERT_VIDEO,Di.CRT_SIZE_MULTI_POS_NEW_PIC,Di.CRT_SIZE_MULTI_POS_VEDIO,Di.CRT_SIZE_MULTI_POS_GRID,Di.CRT_SIZE_BIG_PIC,Di.CRT_SIZE_SPLASH_AD,Di.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,Di.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Di.APP_VIDEO,Di.CRT_SIZE_PIC_MOMENT,Di.CRT_SIZE_VIDEO_TIME6,Di.CRT_SIZE_VERTICAL_VIDEO,Di.CRT_SIZE_VERTICAL_VIDEO_916,Di.CRT_SIZE_CARD_COMPT_IMAGE,Di.CRT_SIZE_CARD_COMPT_VIDEO],Oi=2008,Ni=2009,Li=2010,Mi=2011,Bi=2012,Vi=2013,Wi=2,Fi=1,Hi=2,Ui={NONE:1,ON_AIR:2,ENDED:3,IN_PREPARE:4},Gi=3,zi=4,ji=3,$i=Di,Yi={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141"},qi={banner:3,rewardedVideoAd:1,interstitialAd:4,grid:7,splashAd:8,customAd:9},Xi={banner:"showed",rewardedVideoAd:"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},Ki={rewardedVideoAd:3,banner:4,interstitialAd:5,grid:6,customAd:7},Ji={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_reward_use_gauss_blur_android_system_version",109766:"widget_gray_reward_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips",110562:"widget_gray_interstitial_template",112296:"widget_gray_banner_exposure_toggle",113524:"widget_gray_rewarded_video_effect_guide",116004:"widget_gray_rewarded_video_effect_guide_level2",116070:"widget_gray_land_after_addContact",118004:"widget_gray_splash_wait_fetch",118010:"widget_gray_wxapp_code_preload",118518:"widget_gray_splash_outed_date_setting",119760:"widget_gray_splash_local_outed_date_setting",119762:"widget_gray_splash_use_local",120808:"widget_gray_check_fetch_catch",121264:"widget_gray_splash_local_black",121318:"widget_gray_splash_timeout",121377:"widget_gray_splash_offline_ad",121449:"widget_gray_splash_new_timeout",118410:"widget_gray_rewarded_video_feed_time",118408:"widget_gray_rewarded_video_slide_duration",118476:"widget_gray_rewarded_video_feed_max_fail_count",118478:"widget_gray_rewarded_video_feed_request_count",118504:"widget_gray_rewarded_video_feed_min_count",118914:"widget_gray_rewarded_video_feed_end_immediately",119186:"widget_gray_rewarded_video_feed_min_duration",119298:"widget_gray_rewarded_video_feed_probability",120834:"widget_gray_rewarded_video_feed_new_style",120138:"widget_gray_rewarded_video_feed_animate_start_time",118796:"widget_gray_custom_exposure_area_detect",119904:"widget_gray_ranking_score",120410:"widget_gray_interstitial_video_disable_preload",120409:"widget_gray_rewarded_video_disable_preload",121145:"widget_gray_rewarded_video_animation_page",121146:"widget_gray_rewarded_video_animation_page_video_duration",121147:"widget_gray_rewarded_video_animation_page_show_time",121148:"widget_gray_rewarded_video_animation_page_video_loop"},Zi={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},Qi="wxfile://ad",ea="wxfile://ad/adinfos.txt",ta={splashAd:1288,customAd:1390},ia=2,aa=3,na=4,oa={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,LANDING_COUNTDOWN_FAIL:44,EXPOSURE_SHOWAD_SUCCESS:45,EXPOSURE_SHOWAD_FAIL:46,EXPOSURE_SHOWAD_UNKNOWN:47,CLOSE_SHOWAD_SUCCESS:48,CLOSE_SHOWAD_FAIL:49,CLOSE_SHOWAD_UNKNOWN:50,CLOSE_COUNTDOWN_FAIL:51,LOCAL_SELECT_BEGIN:54,LOCAL_SELECT_OUTDATE:55,LOCAL_SELECT_NO_AID:56,LOCAL_SELECT_NO_FILE:57,LOCAL_SELECT_SUCCESS:58,EXP_NOT_SHOW:59,EXP_SHOW:60,SHOW_SPLASH_FAIL:10,SHOW_AD_BY_ONLINE:61,SHOW_AD_BY_CHECK_AD:62,SHOW_AD_BY_LOCAL_SELECT:63,NOT_SHOW_ONLINE_NO_FILE:64,CHECK_AD_BEGIN:65,ONLINE_AD_BEGIN:66,CHECK_AD_SUCCESS:67,CHECK_AD_RESULT_SUCCESS:68,ONLINE_AD_SUCCESS:69,ONLINE_AD_RESULT_SUCCESS:70,LOCAL_AD_SUCCESS:71,CHECK_AD_FAIL:72,ONLINE_AD_FAIL:73,USE_ONLINE:74,USE_CHECK_AD:75,NO_MATERIAL_BEFORE_SHOW:76,GET_ADMSG_SUCCESS:77,GET_ADMSG_FAIL:78,OFFLINE_AD:79,CHECK_AD_TIMEOUT:80,ONLINE_AD_TIMEOUT:81,GET_WETEST_CONFIG_SUCCESS:82,GET_WETEST_CONFIG_FAIL:83,FETCH_BEGIN:84,FETCH_SUCCESS:85,LOCAL_SELECT_BLACK_LIST:86,LOCAL_SELECT_TIME_OUT:87,SHOW_AD_BY_PRELOAD:88,SHOW_AD_BY_PRELOAD_FAIL:89,NEW_TIMEOUT_CLOSE_AD:90},ra={banner:5,rewardedVideoAd:6,interstitialAd:8,customAd:9,cpsShopAd:11,grid:13,splashAd:14},sa={click:1,exposure:0},la={showed:0,viewable:1,incentiveVideoCard:2},da={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5},ca={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007,MATERIAL_RETRY_FAIL:2008,LOCAL_SELECT_NO_FILE:2009,LOCAL_SELECT_OUTDATE:2010,EXP_NOT_SHOW:2011},ua={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"},ha=e=>{var t={};try{for(var i of e=JSON.parse(e))i.hasOwnProperty("exp_para")&&i.exp_para.forEach((e=>{ye(e.value)?t[e.name]=Number(e.value):t[e.name]=e.value}));for(var a in t)Ji[a]&&(t[Ji[a]]=t[a]);return t}catch(e){return{}}},pa=(e={},t=!0)=>oe({apiName:"webapi_getadvert",reqData:{action:"CheckAdIsOnline",request_data:JSON.stringify(e)},requestInQueue:t}),fa=({aid:e,buttonText:t=""})=>re({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t})}}).then((e=>{if(!e.data)throw new Error("get_ad_metric no result");try{var{data:t}=e,i=JSON.parse(t.result),{ad_metric_count:a,desc_text:n}=i||{};return null==a||null==n||a<50?null:{count:(o=a,o<1e4?o.toString():`${(o/1e4).toFixed(1)}万`),descText:n}}catch(e){throw new Error("get_ad_metric invalid result")}var o})).catch((()=>{throw new Error("get_ad_metric request failed")})),ga={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}]},ma=e=>{var t=ga[e.toString()];return t?t.concat([]):[]},ya=()=>{var e=y.getInitScreenSize();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":D.deviceOrientation&&/^landscape/.test(D.deviceOrientation)?"landscape":D.deviceOrientation||"portrait"},va="",_a=I,Ea="",ba="",xa="",wa="",Ta="",Ca="",Aa=!0,Da="";D.onReady((()=>{va=ya()||"";var e=y.getStableSystemInfo();Ea=e.system,ba=e.version,xa=e.SDKVersion,Ta=e.model,Ca=e.brand,Aa=O();try{Da=D.accountInfo.appId,wa=__libVersionInfo__.updateTime}catch(e){}}));var Ia=(e,i)=>{var a=ma(e);if(a&&0!==a.length)return i=Object.assign({publisher_appid:Da,appid:Da,orig_weapp_id:"",network_type:"",wechat_version:ba,platform:_a,system_version:Ea,device_orientation:va,wxapp_lib_version:xa,wxapp_lib_time:wa,machine_type:Ta,ad_platform:Aa?1:0},i),i=Object.assign({DeviceModel:Ta,DeviceBrand:Ca,OsName:_a,OsVersion:Ea},i),a=a.map((e=>({type:e.type,value:(i[e.key]||e.value).toString()}))),y.invokeOperateWXDataPromise({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:a})}}).catch((e=>{t.error(e)}))},Sa=e=>Ia(19213,e),ka=(e,t=!1)=>{var i=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return i+=`<${e.name}>`,e.children.length>0?i+=(e=>e.children&&e.children.length>0?e.children.map((e=>ka(e))).join(""):"")(e):i+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,i+=`</${e.name}>`},Pa=e=>ka(e,!0),{_downloadFileSkipCheckDomain:Ra}=y,Oa=["adinfos.txt","/adinfos.txt","/"],Na=0,La=(e="")=>{if(e)return new Promise(((t,i)=>{he({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||i(e)}})}))},Ma=(e="")=>e?((e="")=>{if(e)return new Promise(((t,i)=>{ue({path:e,recursive:!0,success:t,fail:i})}))})(e).then((e=>{var t=0,i=[],a=[],n=e.stats||[],o=+new Date;for(var r of n){t+=r.stats.size||0,Oa.includes(r.path)||i.push(r.path),o-1e3*r.stats.lastAccessedTime>=6048e5&&!Oa.includes(r.path)&&a.push(r.path)}return{totalSize:t,fileList:i,outedDateFileList:a}})):{totalSize:0,fileList:[],outedDateFileList:[]},Ba=(e={},t="")=>t?R()?Promise.resolve():k||P?new Promise(((i,a)=>{pe({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:i,fail:a})})):Promise.resolve():Promise.resolve(),Va=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,i)=>{ce({dirPath:e,success:t,fail:i})}))})(Qi).then((t=>{var i=t.files;e&&e.map((e=>{var{url:t,filePath:a,fileName:n}=e;return i.includes(n)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((i,a)=>{Ra({url:e,filePath:t,success:i,fail:a})}))})(t,a)}))})):Promise.reject({errMsg:"无数据"}),Wa=e=>{if(e&&"object"==typeof e&&!(Na>0)&&(Na+=1,!R()&&(k||P)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{ue({path:ea,success:e=>{var i;Date.now()-1e3*(null==e||null===(i=e.stats)||void 0===i?void 0:i.lastModifiedTime)>=t&&_.emit("_onEmitSplashAdFetch")},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&Ba({},ea)}})}catch(e){}}},{publish:Fa,subscribe:Ha,invokeOperateWXDataPromise:Ua,_onUserCaptureScreen:Ga,onAppRoute:za,onBeforeUnloadPage:ja,addInnerShareCallbacks:$a,getAdUxInfo:Ya}=y,qa="",Xa=0,Ka="index.html",Ja=new m,Za="_onWxAdUserCaptureScreen",Qa={shareAppMessage:0,shareTimeline:3};D.onReady((()=>{qa=Ya()}));var en={};try{za((e=>{Xa=e.webviewId,en[Xa]||(en[Xa]=!0,Ka=e.path,ja(Xa,(e=>{an(e)})))}))}catch(e){}Ga((()=>{var e=+new Date;qa&&Sa({eventTimeStamp:e,scene:7,uxinfo:qa,url:Ka}),Xa&&Fa(Za,{eventTimeStamp:e,path:Ka},[Xa]),Ja.emit(Za,{eventTimeStamp:e,webviewId:Xa,path:Ka})}));$a(((e,t)=>{if(qa){var i="",a=Qa[e]?Qa[e]:0;"shareAppMessage"===e&&t.shareInfos&&(a=t.shareInfos.length>0?2:1,i=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===a&&"shareAppMessage"===e&&t.shareTickets&&(a=t.shareTickets.length>0?2:1),n={eventTimeStamp:+new Date,shareType:a,tousername:i,uxinfo:qa,url:Ka},Ia(19214,n)}var n}));var tn={};Ha("wxAdDelayReport",((e,t)=>{tn[t]||(tn[t]={}),e.key&&e.value&&(tn[t][e.key]=e.value)}));var an=e=>{if(tn[e]){for(var i in tn[e]){var a=tn[e][i];Ua({sdkApiName:"advertReport",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:a}}).catch((e=>{t.error(e)}))}delete tn[e]}};Ha("checkWxAdFetchLog",(e=>{Wa(e)})),Ha("weappTouchEvent",(e=>{Ja.emit("_onWeappTouchEvent",e)}));Ha("wxAdTakeWelfare",((e={},t)=>{var{id:i}=e;Fa("onWxAdTakeWelfareEvent",{id:i},Object.keys(en))}));var nn=Symbol("signExport"),on=()=>(e,t)=>{e[nn]=e[nn]||new Set,e[nn].add(t)},rn=(e,t)=>{var i=Array.isArray(t)?t:[t];for(var a of i)if(!(a in e)||"function"!=typeof e[a])throw new Error(`${a} is not the function method of the class`);return i.map((t=>e[t]))},sn=(e,t=!1)=>(i,a,n)=>{var o=n.value,r=rn(i,e);n.value=t?b()((function*(...e){var t=yield o.call(this,...e);for(var i of r)yield i.call(this,t);return t})):function(...e){var t=o.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(var t of r)t.call(this,e);return e}));for(var i of r)i.call(this,t);return t}},ln=(e,t=!1)=>(i,a,n)=>{var o=n.value,r=rn(i,e);n.value=t?b()((function*(...e){try{return yield o.call(this,...e)}catch(e){for(var t of r)yield t.call(this,e);throw e}})):function(...e){try{var t=o.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(var t of r)t.call(this,e)})),t}catch(e){for(var i of r)i.call(this,e);throw e}}},dn=e=>{for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==Eo&&t.parent.referComponent;)t=t.parent;return t};class cn{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var i=this;this._stateQueue=this._stateQueue||{};var a=!1;for(var n of Object.keys(e)){e[n]!==this.state[n]&&(a=!0)}a?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(b()((function*(){i._setStateTimer=null;var e=!1;for(var a of Object.keys(i._stateQueue)){var n=i._stateQueue[a];i.state[a]!==n&&(e=!0)}e&&(Wn(i,"updateState",r()(r()({},i.state),i._stateQueue)),Object.assign(i.state,i._stateQueue),Bn(i),oo(dn(i._rootElement)),yield Eo.nextLayout(),null==t||t(i.state,i.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(var e of this._subComponents)e._unmountComponent();Wn(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){for(var e=this;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var i=this;return b()((function*(){var a=i.getElementById(e),n=i._manualStyle;e&&t&&(a&&Object.assign(a.style,t),n[e]=n[e]||{},Object.assign(n[e],t)),yield Promise.resolve();var o=i.getRootComponent();yield o.requestLayout()}))()}requestLayout(){var e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,oo(dn(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),M(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,i){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(i),i}_unbindEvent(e,t,i){var a,n;return!(null===(a=this._eventHandler[e])||void 0===a||null===(n=a[t])||void 0===n||!n.has(i))&&(this._eventHandler[e][t].delete(i),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}cn.isComponent=!0,cn.subComponents={};var un={waiting:"waiting",play:"play",pause:"pause",ended:"ended",timeUpdate:"timeUpdate",error:"error",progress:"progress",fullscreenChange:"fullscreenChange",loadedMetaData:"loadedMetaData"};class hn extends cn{render(){var{props:{children:e}}=this;return e}}hn.isFragment=!0;var{View:pn,Text:fn,Image:gn,Video:mn}=y,yn="Fragment",vn={view:pn,text:fn,image:gn,video:mn},_n=e=>e.name[0]>="A"&&e.name[0]<="Z",En=e=>Object.keys(e.children).map((t=>e.children[t])),bn=new WeakMap,xn=(e,t)=>{var{referComponent:i}=t,a={children:t.children},n="getSubComponentProps",o=[];if(e.getProps){var[r,...s]=e.getProps.split(":");n=r,o=s}for(var l of(Object.assign(a,Wn(i,n,t.name,...o)||{}),Object.keys(e))){var d=e[l];["getProps","children"].includes(l)||(a[l]=d)}return a.children=t.children,a},wn=(e,t,i)=>{if(!i.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return Mn(i,xn(t,e),!1,e.referComponent)},Tn=(e,t=Cn(e))=>{var{referComponent:i}=e,{id:a}=t,n=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),o=r()({},t);a&&(o.name=a),delete o.id,o.style=mo({classList:n,name:a,referComponent:i});var s=null!=o.bubbleEvent,l=new(0,vn[e.name])(o);if(l.isBubbleEventSet=s,Object.assign(l,{classList:n,referComponent:i,key:t.key||null}),a&&i&&i.getEventHandler(a))for(var d of Object.keys(i.getEventHandler(a))){var c=i.getEventHandler(a)[d];if(d in un){if("video"===e.name)for(var u of c){var h=l[`on${d[0].toUpperCase()}${d.slice(1)}`];null==h||h.call(l,u)}}else for(var p of c)l.on(d,p)}return null!=a&&(i._elementMap[a]=l),l},Cn=e=>{var t={};for(var i of Object.keys(e.attributes)){var a=e.attributes[i],n=V(i);t[n]=a,/\{\{.+\}\}/.test(a)||("true"===a?t[n]=!0:"false"===a?t[n]=!1:"id"===n?t.id=V(a):t[n]=a)}return t},An=e=>{var t=e.constructor.subComponents||[],i="function"==typeof t?t():t;return r()(r()({},i),{},{[yn]:hn})},Dn=e=>{if(Array.isArray(e)){var t=e.map((e=>Dn(e))),i={element:null,subComponents:[]};for(var{element:a,subComponents:n}of t)for(var o of(a&&(null===i.element&&(i.element=[]),Array.isArray(a)?i.element.push(...xe(a)):i.element.push(a)),n))i.subComponents.includes(o)||i.subComponents.push(o);return i}if(!e)return{element:null,subComponents:[]};var r,s=An(e.referComponent),l=[],d=Cn(e);if(_n(e)){if(!s[e.name])throw new Error(`component name ${e.name} does not exists`);var c=wn(e,d,s[e.name]);if(!(r=c.getRootElements()))return{element:null,subComponents:[]};l.push(c)}else{var u=Tn(e,d);e.children.forEach((e=>{var{element:t,subComponents:i}=Dn(e);if(t)if(l.push(...i),Array.isArray(t))for(var a of t)u.add(a);else u.add(t)})),r=u}return{element:r,subComponents:l}},In=(e,t)=>{var i=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],a=!1;for(var n of i)void 0===t[n]&&(t[n]=void 0);for(var o of Object.keys(t)){var r=t[o];i.includes(o)&&e[o]!==r&&(e[o]=r,a=!0)}return a},Sn=(e,t,i=null)=>{var a=i;if(e!==t){if(!a){if(!e||!e.parent)throw new Error("can not find element tree without parent");a=e.parent}if(e&&a.remove(e),t)if(Array.isArray(t))for(var n of t)a.add(n);else a.add(t)}},kn=(e,t)=>vn[t.name]&&e?e.constructor===vn[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name,Pn=(e,t)=>{var i=Cn(t),a=t.referComponent,n=An(a),o=e&&kn(e,t);if(!_n(t)){if(!t.children||0===t.children.length)return e&&o?(In(e,i),e):Tn(t,i);if(e&&o)return In(e,i),On(En(e),t.children),e;var{element:r,subComponents:s}=Dn(t);return a.getSubComponents().push(...s),r}var l=null==e?void 0:e.referComponent,d=null==l?void 0:l.constructor;if(l&&d===n[t.name])return Object.assign(l.props,xn(i,t)),Bn(l);var c=a.getSubComponents().indexOf(l);return c>-1&&a.getSubComponents().splice(c,1),l&&Wn(l,"destroy"),null==e||e.remove(),wn(t,i,n[t.name]).getRootElements()},Rn=e=>e.reduce(((e,t)=>(t.name===yn?e.push(...Rn(t.children)):e.push(t),e)),[]),On=(e,t)=>{var i=[],a={};for(var n of e)n.key?a[n.key]=n:i.push(n);for(var o of Rn(t)){var{key:r}=o,s=null;if(r)a[r]&&(s=a[r],delete a[r]);else for(var l of Object.keys(i)){var d=i[+l];if(d&&kn(d,o)){s=d,i.splice(Number(l),1);break}}s||(s=i.shift()||null),e.length&&e[0].parent&&Sn(s,Pn(s,o),e[0].parent)}var c=Object.keys(a).reduce(((e,t)=>(e.push(a[t]),e)),[]);for(var u of[...i,...c])null==u||u.remove()},Nn=(e,t)=>{Array.isArray(e)?e.forEach((e=>Nn(e,t))):(t(e),e.children.forEach((e=>Nn(e,t))))},Ln=(e,t)=>{Nn(e,(e=>{e.referComponent||(e.referComponent=t)}))},Mn=(e,t,i=!0,a=null)=>{var n=new e(t);n.parent=a;var o=n.render(),r="string"==typeof o?w()(o).root:o;Ln(r,n);var{element:s,subComponents:l}=Dn(r);return n._subComponents=l,s&&(n._rootElement=s,Array.isArray(s)?s.forEach((e=>{e.isRootElementOfComponent=!0})):s.isRootElementOfComponent=!0),Wn(n,"ready",s,l),i&&(s&&(Array.isArray(s)?s.forEach((e=>{Eo.add(e),oo(e)})):(Eo.add(s),oo(s))),bn.set(e,n)),n},Bn=(e,t)=>{t&&Object.assign(e.props,t);var i=e.getRootElements(),a=e.render(),n="string"==typeof a?w()(a).root:a;return Ln(n,e),Array.isArray(i)&&Array.isArray(n)?On(i,n):Array.isArray(i)&&!Array.isArray(n)?On(i,[n]):!Array.isArray(i)&&Array.isArray(n)?On([i],n):Array.isArray(i)||Array.isArray(n)||Sn(i,Pn(i,n)),Wn(e,"updatedProps"),i},Vn=e=>{if(!e.isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((e=>Eo.remove(e))):Eo.remove(t),e._unmountComponent(),bn.delete(e.constructor)},Wn=(e,t,...i)=>"function"==typeof e[t]?e[t](...i):null,{getInitScreenSize:Fn}=y,Hn=!1,Un={},{gametext:Gn,Text:zn}=y,jn=["width","height"],$n=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),Yn=(e,t)=>Math.max(e,t),qn=(e,t)=>e+t,Xn=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),Kn=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),Jn=(e,t,i)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+i:parseFloat(e.slice(0,-1))/100*t+i,Zn=(e,t,i,a,n,o)=>{var r,s=e.parent,l=a[i],d=Kn(e)[i],c=t,u=null,h=!1;if(!n&&o>0&&(null==c||o>c)&&(c=o),a.position&&"absolute"===a.position[1]&&null!=c&&(c+=o),l||null==c)l&&"percent"===l[0]&&null!=c?(u=c*l[1]-d,h=!0):l&&"digit"===l[0]&&(u=l[1]-d,h=!0);else if("auto"!==e.style[i])if("absolute"===(null===(r=a.position)||void 0===r?void 0:r[1])){var p=0,f=!1;for(var g of"width"===i?["left","right"]:["top","bottom"])null!=a[g]?"digit"===a[g][0]?p+=Number(a[g][1])||0:"percent"===a[g][0]&&(p+=(Number(a[g][1])||0)*c):f=!0;u=f?null:c-p}else if(n&&$n(s.style.flexDirection,i)&&e.style.flex>0)u=null;else{var m=$n(e.style.flexDirection,i);(e=>wo(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&m&&(h=!0),u=c-d}return null!=u&&(e.autoFitSize[i].size=u),h},Qn=(e,t)=>e.parent&&e.parent!==Eo?e.parent.style[t]:"width"===t?Un.screenWidth:Un.screenHeight,eo=e=>{var t=bo(e),i=Kn(e);e.autoFitSize={width:{size:null,margin:0,padding:i.width},height:{size:null,margin:0,padding:i.height}};var a=e.parent;if(t||a.autoFitSize){var n=vo(mo(e)),o={width:!1,height:!1},r={width:null,height:null};for(var s of jn){var l=n[s],d=t?Qn(e,s):a.autoFitSize[s].size,c=t?0:a.autoFitSize[s].padding;!l&&t&&"height"===s&&(d=null),o[s]=Zn(e,d,s,n,!0,c)}ao(e,n);var u=Kn(e),h="wrap"===e.style.flexWrap,p=[];for(var f of wo(e)){eo(f);var g=Xn(f);if("absolute"!==f.style.position)for(var m of jn){var y=$n(e.style.flexDirection,m);if(h){if(y){var v="width"===m?"height":"width";p.push([(f.autoFitSize[m].size||0)+f.autoFitSize[m].padding+g[m],(f.autoFitSize[v].size||0)+f.autoFitSize[v].padding+g[v]])}}else{var _=y?qn:Yn;null==f.autoFitSize[m].size&&f.autoFitSize[m].padding<=0&&_===qn&&(o[m]=!0),r[m]=_((f.autoFitSize[m].size||0)+f.autoFitSize[m].padding+g[m],r[m]||0)}}}if(h){var E=0,b=0,x=0,w=0,T=$n(e.style.flexDirection,"width")?"width":"height",C="width"===T?"height":"width";for(var[A,D]of(w=o[T]&&null!=e.style[T]?e.style[T]:p.reduce(((e,[t])=>e+t),0),p))x=Math.max(x,D),A+E>w?(b+=x,x=D,E=A):E+=A;b+=x,r[T]=E,r[C]=b}if(e instanceof zn){var I=!1;if("ellipsis"===e.style.textOverflow&&Number(e.style.lineClamp)>=1){var S=to(e);null!=!e.autoFitSize.height.size&&o.height||(I=!0,S>1&&e.style.textAlignMultiline&&(e.style.textAlign=e.style.textAlignMultiline),Object.assign(e.autoFitSize.height,{size:(e.style.lineHeight||e.style.fontSize||0)*S,padding:u.height}))}null!=e.autoFitSize.height.size&&(o.height||I)||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:u.height}),null!=e.autoFitSize.width.size&&o.width||Object.assign(e.autoFitSize.width,{size:Gn.getTextWidth(e.value,e.style.fontSize||14)+3,padding:u.width})}for(var k of jn)o[k]||null===r[k]?u[k]>0&&(e.autoFitSize[k].padding=u[k]):Object.assign(e.autoFitSize[k],{size:null!=r[k]?r[k]:null,padding:u[k]})}},to=e=>{for(var{width:t}=e.style,i=Number(e.style.lineClamp),a=Number(e.style.fontSize),n=e.value||"",o=Gn.getTextWidth("...",a),r=[""],s=0,l=0;s<i&&l<n.length;){var d=s+1===i,c=d?t-o:t;Gn.getTextWidth(r[s]+n[l],a)+a<=c?r[s]+=n[l]:d?(r[s]+="...",s+=1):(s+=1,r.push(n[l])),l+=1}return e._hasEllipsis||(e._hasEllipsis=!0,e.value=r.join("")),r.length},io=e=>{var t=wo(e);for(var i of jn){var a=$n(e.style.flexDirection,i),{size:n}=e.autoFitSize[i],{padding:o}=e.autoFitSize[i];if(null!=n||o){n=n||0;var r=0,s=0;for(var l of t){var{size:d,margin:c,padding:u}=l.autoFitSize[i];"absolute"!==l.style.position&&(null!=d?r+=d+u+c:l.style.flex&&l.style.flex>0&&(s+=Number(l.style.flex)))}for(var h of t){var p,f=vo(mo(h)),g=null;a?g=h.style.flex?(n-r)/Yn(s,1)*h.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(g=n),null==h.autoFitSize[i].size&&g?Zn(h,g,i,f,!1,o):"absolute"===(null===(p=f.position)||void 0===p?void 0:p[1])&&Zn(h,n,i,f,!1,o)}}}for(var m of t)io(m);for(var y of jn){var{size:v,padding:_}=e.autoFitSize[y];null!=v&&e.style[y]!==v+_&&(e.style[y]=v+_)}e instanceof zn&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},ao=(e,t)=>{var i=e.autoFitSize.width.size,a=e.autoFitSize.height.size;for(var n of Object.keys(t)){var o=t[n];"percent"===o[0]?"horizontal"===ro[n]&&null!=i?e.style[n]=o[1]*i:"vertical"===ro[n]&&null!=a&&(e.style[n]=o[1]*a):"normal"===o[0]&&(e.style[n]=o[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=Jn(t.transform[1][0],i||0,e.style.left||0),e.style.top=Jn(t.transform[1][1],a||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},no=e=>{var t=[["width","left"],["height","top"]];for(var i of wo(e))for(var[a,n]of(no(i),t)){var o;if((i.style.position||null!==(o=i.expandAbsoluteSize)&&void 0!==o&&o.has(a))&&"hidden"!==e.style.overflow){var r=(i.style[a]||0)+(i.style[n]||0);r>(e.style[a]||0)&&(e.style[a]=r,e.expandAbsoluteSize||(e.expandAbsoluteSize=new Set),e.expandAbsoluteSize.add(a))}}},oo=e=>{eo(e),io(e),no(e),(e=>{for(var t=[["width","left"],["height","top"]],i=e;i&&i!==Eo&&i.parent!==Eo;){var a=i.parent;if(i.style.hidden)break;for(var[n,o]of t){var r;if((i.style.position||null!==(r=i.expandAbsoluteSize)&&void 0!==r&&r.has(n))&&"hidden"!==e.style.overflow){var s=(i.style[n]||0)+(i.style[o]||0);s>(a.style[n]||0)&&(a.style[n]=s,a.expandAbsoluteSize||(a.expandAbsoluteSize=new Set),a.expandAbsoluteSize.add(n))}}i=a}})(e)},ro={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizonta",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},so=/^\s*#[0-9a-fA-F]{3}\s*$/,lo=/^\s*#[0-9a-fA-F]{3,6}\s*$/,co=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,uo=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,ho=/px$/,po=e=>"number"==typeof e?e:ho.test(e)?Number(e.replace(ho,""))||0:ye(e)?parseInt(e,10):e,fo=e=>{if("string"==typeof e&&so.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},go=(e={})=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(["padding","margin"].includes(i)){var n=Array.isArray(a)?a:(null==a?"":a).toString().split(/\s+/),o=null,r=null,s=null,l=null;switch(n.length){case 0:default:continue;case 1:[o]=n,[r]=n,[s]=n,[l]=n;break;case 2:[o,r]=n,[s,l]=n;break;case 3:[o,r,s]=n,l=r;break;case 4:[o,l,s,r]=n}Object.assign(t,{[`${i}Top`]:po(o),[`${i}Left`]:po(r),[`${i}Bottom`]:po(s),[`${i}Right`]:po(l)})}else if("border"===i){var d=(a||"").toString().split(/\s+/);switch(d.length){case 0:default:continue;case 1:t.borderColor=fo(d[0]);continue;case 2:t.borderWidth=po(d[0]),t.borderColor=fo(d[1]);continue;case 3:t.borderWidth=po(d[0]),t.borderColor=fo(d[2]);continue}}else if("background"===i&&lo.test(e[i]))t.backgroundColor=fo(e[i]);else if("background"===i&&(co.test(e[i])||uo.test(e[i])))t.backgroundColor=e[i];else if("background"===i&&e[i].includes("linear-gradient"))t.backgroundColor=e[i];else if("color"===i&&"string"==typeof a&&uo.test(a)){var[c,u,h,p]=uo.exec(a).slice(1,5).map((e=>Number(e))),f=e=>e.toString(16);t.color=`#${f(c)}${f(u)}${f(h)}`,null==e.opacity&&(t.opacity=Number(p))}else if("display"===i)t.hidden="none"===e[i];else if("rotate"===i){var g=e[i];t.rotate="string"==typeof g?Number(g.replace("deg",""))||0:g}else t[i]=fo(po(e[i]))}return t},mo=e=>{if(e._isTemplate)return e._manualStyle||e.style;var t=e.referComponent;if(!t)return Object.assign({},e.style||{});var i={},a=t.style||{};for(var n of e.classList||[])Object.assign(i,go(a[n])),Object.assign(i,go(a[`.${n}`]));return a[e.name]&&Object.assign(i,go(a[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(i,go(t._manualStyle[e.name])),i},yo={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},vo=e=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(null!=a){var n=a.toString().trim();if((ro[i]||["width","height"].includes(i))&&yo.percent.test(n)){var o=parseFloat(n.slice(0,-1))/100;t[i]=["percent",o]}else if(ye(n))t[i]=["digit",Number(n)];else if("transform"===i&&n.includes("translate")){var r=yo.translate.exec(n);r&&(t[i]=["transform",r.slice(1,3)])}else t[i]="string"==typeof a?["normal",n]:["normal",a]}}return t},{webviewLayout:_o}=y,Eo=_o,bo=e=>{var t,i;return e.parent===Eo||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)&&!(null!==(i=e.parent)&&void 0!==i&&i._isTemplate)||e._isTemplateRoot},xo=e=>Object.keys(e.children).map((t=>e.children[t])),wo=e=>xo(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),To=(e,t,i="downward")=>{for(var a of("downward"===i&&t(e),xo(e)))To(a,t,i);"upward"===i&&t(e)},Co=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var o=a||(i?be(e,i):"");if(o)return o}return null},Ao=63,Do=e=>{var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},Io=e=>{if(!e)return"";var t=String(e),i=[],a=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var n of t)if(n.match(a)){var o=n.codePointAt?n.codePointAt(0):n.charCodeAt(0);o<128?i.push(Do(o)):o<2048?i.push([Do(192+(o>>6)),Do(128+(o&Ao))].join("")):o<65536?i.push([Do(224+(o>>12)),Do(128+(o>>6&Ao)),Do(128+(o&Ao))].join("")):o<2097152&&i.push([Do(240+(o>>18)),Do(128+(o>>12&Ao)),Do(128+(o>>6&Ao)),Do(128+(o&Ao))].join(""))}else i.push(n);return i.join("")},So=e=>{if(!e)return"";for(var t=e=>{if(!e)throw new Error("invalid text")},i=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),a=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16)))),n=0,o="";n<a.length;){var r=a.charCodeAt(n);if(r<128)o+=i(r),n+=1;else if(r>=192&&r<224){t(n+1<a.length),o+=i((31&r)<<6|a.charCodeAt(n+1)&Ao),n+=2}else if(r<240){t(n+2<a.length);var s=a.charCodeAt(n+1),l=a.charCodeAt(n+2);o+=i((15&r)<<12|(s&Ao)<<6|l&Ao),n+=3}else{t(n+3<a.length);var d=a.charCodeAt(n+1),c=a.charCodeAt(n+2),u=a.charCodeAt(n+3);o+=i([(7&r)<<18,(d&Ao)<<12,(c&Ao)<<6,u&Ao].reduce(((e,t)=>e|t),0)),n+=4}}return o},ko=e=>{var t={};if(e.indexOf("?")>-1){var i=e.indexOf("?")+1,a=e.substring(i);a.indexOf("#")>-1&&(a=a.substring(0,a.indexOf("#")));var n=a.split("&");for(var o of n){var[r,s]=o.split("=");t[r]=So(s)}}return t},Po=Object.keys,Ro=Function.prototype.call.bind(String.prototype.split),Oo=Function.prototype.call.bind(String.prototype.indexOf),No=Function.prototype.call.bind(String.prototype.concat),Lo=Function.prototype.call.bind(String.prototype.substring),Mo=(e,t)=>{if(!e)return"";if(!t)return e;var i=Ro(e,"#"),a=Oo(i[0],"?")>-1?"&":"?",n="",o=Po(t);if(o.length>0){for(var r of o)n=No(n,`${r}=${Io(t[r])}&`);return n.length>0&&(n=Lo(n,0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},Bo=e=>e===Wi,Vo=(e,t)=>Bo(e)&&t===Fi,Wo=(e,t)=>Bo(e)&&t===Hi,Fo={REWARD_ENDPAGE_HEAD_IMG:"REWARD_ENDPAGE_HEAD_IMG",REWARD_ENDPAGE_WORDING_LOGO_ENHANCED:"REWARD_ENDPAGE_WORDING_LOGO_ENHANCED",REWARD_ENDPAGE_WORDING_TEXT_ENHANCED:"REWARD_ENDPAGE_WORDING_TEXT_ENHANCED",REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED:"REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED",REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED:"REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED",REWARD_ENDPAGE_RANKING:"REWARD_ENDPAGE_RANKING",REWARD_ENDPAGE_SCORE:"REWARD_ENDPAGE_SCORE",REWARD_EXPAND_CARD_HEAD_IMG:"REWARD_EXPAND_CARD_HEAD_IMG",REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED:"REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED",REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED:"REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED",REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED:"REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED",REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED:"REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED",REWARD_EXPAND_CARD_RANKING:"REWARD_EXPAND_CARD_RANKING",REWARD_EXPAND_CARD_SCORE:"REWARD_EXPAND_CARD_SCORE",REWARD_FEED_CARD_SCORE:"REWARD_FEED_CARD_SCORE",REWARD_FEED_CARD_CONVERSION:"REWARD_FEED_CARD_CONVERSION",REWARD_FEED_CARD_HEAD_IMG:"REWARD_FEED_CARD_HEAD_IMG",REWARD_FEED_CARD_WORDING:"REWARD_FEED_CARD_WORDING",REWARD_FEED_CARD_BUTTON:"REWARD_FEED_CARD_BUTTON",REWARD_FEED_CARD_RANKING:"REWARD_FEED_CARD_RANKING",REWARD_ANIMATION_CARD_SCORE:"REWARD_ANIMATION_CARD_SCORE",REWARD_ANIMATION_CARD_CONVERSION:"REWARD_ANIMATION_CARD_CONVERSION",REWARD_ANIMATION_CARD_HEAD_IMG:"REWARD_ANIMATION_CARD_HEAD_IMG",REWARD_ANIMATION_CARD_WORDING:"REWARD_ANIMATION_CARD_WORDING",REWARD_ANIMATION_CARD_BUTTON:"REWARD_ANIMATION_CARD_BUTTON",REWARD_ANIMATION_CARD_RANKING:"REWARD_ANIMATION_CARD_RANKING",REWARD_ANIMATION_VIDEO:"REWARD_ANIMATION_VIDEO",REWARD_OLD_ENDPAGE_BUTTON:"REWARD_OLD_ENDPAGE_BUTTON",REWARD_TEMPLATE_AREA:"REWARD_TEMPLATE_AREA",REWARD_PAGE_BUTTON:"REWARD_PAGE_BUTTON",REWARD_PAGE_CARD:"REWARD_PAGE_CARD",REWARD_PAGE_IMAGE:"REWARD_PAGE_IMAGE",REWARD_CARD_BUTTON:"REWARD_CARD_BUTTON",REWARD_CARD:"REWARD_CARD",REWARD_CARD_RANKING:"REWARD_CARD_RANKING",REWARD_CARD_SCORE:"REWARD_CARD_SCORE",REWARD_DOWNLOAD:"REWARD_DOWNLOAD",REWARD_DYNAMIC_CONTENT:"REWARD_DYNAMIC_CONTENT",REWARD_DYNAMIC_BUTTON:"REWARD_DYNAMIC_BUTTON",REWARD_PLAYABLE_PENDANT:"REWARD_PLAYABLE_PENDANT",REWARD_PLAYABLE_ENDPAGE_CARD:"REWARD_PLAYABLE_ENDPAGE_CARD",REWARD_PLAYABLE_ENDPAGE_BUTTON:"REWARD_PLAYABLE_ENDPAGE_BUTTON"},Ho="GLOBAL_COUNT_DOWN_START",Uo="GLOBAL_COUNT_DOWN_UPDATE",Go="GLOBAL_COUNT_DOWN_END",zo="GLOBAL_COUNT_DOWN_STOP",jo="PLAYABLE_FIRST_FRAME_READY",$o="operateRewardedVideo",Yo="reduceRewardedTime",qo="setClipboardData",Xo="setPlayableInfo",Ko="resetPlayableInfo",Jo="REWARDED_DYNAMIC",Zo=(e,t)=>!!t&&(e=>{var t={gauss:[Di.CRT_SIZE_REWARD_VEDIO169,Di.CRT_SIZE_REWARD_VEDIO916],native:[Di.CRT_SIZE_REWARD_VEDIO169,Di.CRT_SIZE_REWARD_VEDIO916,Di.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Di.CRT_SIZE_AMS_VIDEO_169],landpage:[Di.CRT_SIZE_REWARD_LANDINGPAGE],sns:[Di.APP_VIDEO,Di.CRT_SIZE_VIDEO_TIME6,Di.CRT_SIZE_VERTICAL_VIDEO,Di.CRT_SIZE_VERTICAL_VIDEO_916,Di.CRT_SIZE_CARD_COMPT_VIDEO],portrait:[Di.APP_VIDEO,Di.CRT_SIZE_REWARD_VEDIO916,Di.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Di.CRT_SIZE_VERTICAL_VIDEO,Di.CRT_SIZE_VERTICAL_VIDEO_916],landscape:[Di.CRT_SIZE_REWARD_VEDIO169,Di.CRT_SIZE_VIDEO_TIME6,Di.CRT_SIZE_CARD_COMPT_VIDEO,Di.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"gauss":case"native":case"landpage":case"portrait":case"landscape":case"sns":return t[e];case"video":return[...t.native,...t.sns];default:return[...t.native,...t.landpage,...t.sns]}})(e).includes(Number(t));"undefined"==typeof __libVersionInfo__||__libVersionInfo__;function Qo(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var r=parseInt(i[o],10),s=parseInt(a[o],10);if(r>s)return 1;if(r<s)return-1}return 0}var er,tr,ir,ar,nr,or,rr,sr,lr,dr,cr,ur,hr,pr,fr,gr,mr,yr,vr,_r,Er,br,xr,wr,Tr,Cr,Ar,Dr,Ir,Sr,kr,Pr,Rr,Or,Nr,Lr,Mr,Br,Vr,Wr,Fr,Hr,Ur,Gr,zr,jr,$r,Yr,qr,Xr,Kr,Jr,Zr,Qr,es,ts,is,as,ns,os,rs,ss,ls,ds,{deviceInfo:cs}=y,us=e=>{var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},hs=function(e){var t,i,a=ps(e),n="portrait"===cs.deviceOrientation,o=Zo("portrait",e.crt_size);if(cs.isAndroid){var r,s,l=us((null===(r=e.condition)||void 0===r?void 0:r.widget_gray_reward_use_gauss_blur_android_system_version)||""),d=us((null===(s=e.condition)||void 0===s?void 0:s.widget_gray_reward_use_gauss_blur_android_wechat_version)||""),c=us(cs.systemVersion),u=us(cs.wechatVersion);if(l&&c&&Qo(c,l)<0)return!1;if(d&&u&&Qo(u,d)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(i=e.gaussVideo)||void 0===i?void 0:i.src)&&n!==o&&Zo("gauss",e.crt_size)&&(a||n))},ps=function(e){var{flooringPage:t}=e,i="portrait"===cs.deviceOrientation,a=Zo("portrait",e.crt_size);return Boolean(i!==a&&Zo("video",e.crt_size)&&!(Zo("sns",e.crt_size)&&Zo("landscape",e.crt_size))&&!cs.isIPad&&![2,3,4].includes((null==t?void 0:t.landpage_type)||0))},{deviceInfo:fs,appRouteInfo:gs}=y,ms=(er=on(),tr=on(),ir=on(),ar=on(),nr=on(),or=on(),rr=on(),sr=on(),lr=on(),dr=on(),cr=on(),ur=on(),hr=on(),pr=on(),fr=on(),gr=on(),mr=on(),yr=on(),vr=on(),_r=on(),Er=on(),br=on(),xr=on(),wr=on(),Tr=on(),Cr=on(),Ar=on(),Dr=on(),Ir=on(),Sr=on(),kr=on(),Pr=on(),Rr=class{constructor(e){this.adProxy=e,this.timePoints={},this.analyseBranchInfo=null}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}setTimePoint(e,t={}){if("splashAd"!==this.adType){["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});var{time:i}=t;this.timePoints[e]=i||Date.now()}else this.timePoints[e]=Date.now()}reportTimePoints({slotid:e,costtype:t,splash_instance_id:i="",scene:a=0,errCode:n=0,extInfo:o={}}){var s,l,d;if(["customAd","rewardedVideoAd","splashAd","interstitialAd"].includes(this.adType)){this.reportMMData(19837,r()({slotid:e,costtype:t,ext_info:JSON.stringify(Object.assign({},o,{adUnitId:this.adUnitId,is_game:!0})),instance_id:i,scene:a,crt_size:(null===(s=this.data)||void 0===s?void 0:s.crt_size)||0,error_code:n,crt_exp_tid:(null===(l=this.data)||void 0===l?void 0:l.crt_exp_tid)||0,template_id:(null===(d=this.data)||void 0===d?void 0:d.templId)||0},this.timePoints))}}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var i,a=ma(e);if(!a||0===a.length)return null;var n=this.data||{aid:0,traceid:"",crt_size:0};if("grid"===this.adType&&-1!==[16139].indexOf(e))try{n=this.datas[this.datas.length-1]}catch(e){}return Object.assign(t,{aid:n.aid,traceid:n.traceid,crt_size:n.crt_size,slotid:Yi[this.adType],report_time:Date.now(),ad_pos_type:null!==(i=qi[this.adType])&&void 0!==i?i:0,publisher_appid:this.pluginAppid?this.pluginAppid:fs.gameAppId,appid:this.pluginAppid?this.pluginAppid:fs.gameAppId,orig_weapp_id:this.pluginAppid?fs.gameAppId:"",network_type:fs.adNetworkType,wechat_version:fs.wechatVersion,platform:fs.platform,system_version:fs.systemVersion,device_orientation:fs.deviceOrientation,wxapp_lib_version:fs.SDKVersion,wxapp_lib_time:fs.SDKVersionTime,machine_type:fs.model,machine_brand:fs.brand,screen_width:fs.screenWidth,screen_height:fs.screenHeight,ad_platform:fs.isWaGame?1:0,ad_unit_id:this.adUnitId}),a.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){var i=this.formatMMData(e,t);return re({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:i})}})}reportAbnormalDetect(e){var t={adunit_id:this.adUnitId,appid:fs.gameAppId};if(Object.assign(e,t),"object"==typeof e)return this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var i,a=t,n=e;"object"==typeof n&&(!a&&(a=n.idKeyGroup),n=n.idKey),a||(a=null!==(i=ta[this.adType])&&void 0!==i?i:924),0===n&&(n="0"),o.reportIDKeyDirectly({id:a,key:n})}processStackMsg(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),i=e.toString();return t.indexOf(i)<0&&(t=`${i}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:i=""}){var a,n,o,r,s=e,l=t,d=i;"object"==typeof s&&(!l&&(l=s.idKeyGroup),s=s.idKey),0===s&&(s="0");var c="",u="";try{var h,p;if(this.data){var f,g,m={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url,exp_tids:this.adProxy.getExpTidForReport(null===(f=this.datas)||void 0===f||null===(g=f[0])||void 0===g?void 0:g.condition)};if(this.adProxy.adDataIndex>0&&(m.data_index=this.adProxy.adDataIndex),this.adProxy.datas.length>1&&(m.data_count=this.adProxy.datas.length),Zo("native",this.data.crt_size)){var y,v=this.convertedAdData;if(v)m.is_gauss_blur=hs(v),m.is_expand_style=ps(v),u=m.is_gauss_blur?v.gaussVideo.src:null==v||null===(y=v.shortVideo)||void 0===y?void 0:y.src}else this.adProxy.isBannerAd()&&(u=this.data.image_url);if(this.adProxy.isSplashAd()){var _;if(!m.exp_tids)m.exp_tids=this.adProxy.getExpTidForReport(null===(_=this.adProxy)||void 0===_?void 0:_.splashExpCondition);m.instance_id=this.adProxy.instanceId}c=JSON.stringify(m)}if("cpsShopAd"===this.adType&&null!==(h=this.data)&&void 0!==h&&null!==(p=h.extBackComm)&&void 0!==p&&p.cpsProduct&&(c=JSON.stringify({trace_id:this.data.extBackComm.cpsProduct.trace_id,product_id:this.data.extBackComm.cpsProduct.product_id})),d&&"string"!=typeof d)try{d instanceof Error&&(d=this.processStackMsg(d)),d=JSON.stringify(d)}catch(e){d=d.toString()}}catch(e){var E;e instanceof Error&&(d=this.processStackMsg(e)),u="",c=null===(E=this.data)||void 0===E?void 0:E.crt_size}return this.reportMMData(16295,{id_key:s,id_key_group:null!==(a=null!==(n=l)&&void 0!==n?n:ta[this.adType])&&void 0!==a?a:924,report_time:+new Date,source_url:u,expand_feild:c,expand_feild2:d,scene:this.adProxy.scene||0,crt_exp_tid:(null===(o=this.data)||void 0===o?void 0:o.crt_exp_tid)||0,template_id:(null===(r=this.data)||void 0===r?void 0:r.templId)||0})}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:i=0,posType:a,ace_type:n,exposure_duration:o=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:i,pos_type:a,ace_type:n,exposure_duration:o})}reportAdFeedbackData(e){var t,i,a={};if("grid"===this.adType){var n,o={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(n=this.datas)||void 0===n||n.forEach((e=>{e.extBackComm&&o.viewid.push(e.extBackComm.viewid),o.s_pt.push(e.pt),o.s_aid.push(e.aid),o.s_trace_id.push(e.traceid)})),a.grid_feedback_info=o}return this.reportMMData(17045,{appid:fs.gameAppId,weapp_path:gs.weappPath,ad_unit_id:this.adUnitId,device_type:fs.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:fs.screenHeight,screen_width:fs.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:Yi[this.adType],service_type:fs.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(i=e.clickAdTimeMs)&&void 0!==i?i:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify(a)})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:i,preloadVideoSuccess:a,videoFirstPlay:n,cardFirstShow:o,clickCard:r,pressInterval:s,currentPlayUrl:l,lastFetchUrl:d,isEnded:c,videoDuration:u}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:i,preload_video_success:a,video_first_play_ts:n,card_first_show_ts:o,click_card_ts:r,press_interval:s,current_play_url:l,last_fetch_url:d,is_ended:c?1:0,video_duration:u})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:i=0,preloadVideo:a=0,preloadVideoSuccess:n=0,reportType:o=0}){var r=t-i-e;return r>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:i,load_cost_time:r,preload_video:a,preload_video_success:n,report_type:o}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:i,lastClkPeriod:a,retCode:n,costTime:o,pageStayTime:r,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:i,currenttime:+new Date,lastclkperiod:a,retcode:n,costtime:o,pagestaytime:r,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:i,closeTime:a,stayTime:n,jsapiName:o,clickTime:r,clkCnt:s,retCode:l,costTime:d,actTypeInt:c,actTypeStr:u}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:r,opentime:i,closetime:a,staytime:n,jsapiname:o,clkcnt:s,retcode:l,costtime:d,act_type_int:c,act_type_str:u})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:i,touchEndY:a,touchDuration:n,screenWidth:o,screenHeight:r,clkTime:s,playTime:l,isShield:d}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:i,touch_end_y:a,touch_duration:n,screenwidth:o,screenheight:r,clk_timems:s,play_timems:l,is_shield:d})}reportBannerLastClick({lastClickArr:e,top:t,left:i,width:a,height:n,expMs:o,clickMs:r,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:d}){return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:i,banner_width:a,banner_height:n,exp_ms:o,clk_ms:r,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:d,slotid:Yi[this.adType]})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:i}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:i,show_delay_duration:0===t?0:i-t,fetch_duration:i-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:Yi[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){var i=[e,t].map(encodeURIComponent).join(",");o.reportKeyValue({key:"GameADFunnelModel",value:i,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){var t=Xi[this.adType]||"viewable";if(fs.isWaGame&&e===t){var i=this.analyseBranchInfo;i&&("release"!==fs.envVersion&&this.adProxy.reportAnalyseDebugInfo(i),this.reportMMData(20317,{branch_id:i.branchId,branch_dim:i.branchDim}))}}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:i,gaussVideoUrl:a,expUseGaussVideo:n,expUseExpandStyle:o}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:i,gauss_video_url:a,use_expand_style:t?1:0,exp_use_gauss_video:n,exp_use_expand_style:o})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:i,adExpTime:a,adClkX:n,adClkY:o,adWidth:r,adHeight:s,isGame:l,costtype:d}){this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:i,ad_exp_time:a,ad_clk_x:n,ad_clk_y:o,ad_width:r,ad_height:s,is_game:l,costtype:d})}reportBannerShowAction({slotid:e,costtype:t,isGame:i,type:a,TimeMs:n,PageX:o,PageY:r,screenX:s,screenY:l,adWidth:d,adHeight:c,ScreenWidth:u,ScreenHeight:h}){this.reportMMData(25534,{slotid:e,costtype:t,is_game:i,adunitid:this.adUnitId,weapp_path:gs.weappPath,type:a,time_ms:n,pagex:o,pagey:r,screenx:s,screeny:l,adwidth:d,adheight:c,screenwidth:u,screenheight:h})}reportShareBehavior({operation:e,currentShow:t,inviteUser:i,inviteUserAdunit:a,strategy:n,shareValue:o,rewardValue:r,depositAmount:s}){this.reportMMData(26227,{adunitid:this.adUnitId,operation:e,cur_show:t,strategy:n,invite_user_openid:i,invite_user_adunit:a,expand_field:JSON.stringify({shareValue:o,rewardValue:r,depositAmount:s})})}reportDestroyBehavior({costType:e,isGame:t,videoDuration:i,destroyTime:a,playStartTime:n,playDuration:o,isEnded:r,isAdClk:s,adClkTime:l,isAdLandPage:d,adLandpageTime:c,isShowStatus:u,isVisible:h,isOnLandpage:p}){this.reportMMData(26640,{adunitid:this.adUnitId,weapppath:gs.weappPath,costtype:e,is_game:t,video_duration:i,destroy_timems:a,play_start_timems:n,play_duration_ms:o,is_ended:r,is_ad_clk:s,ad_clk_timems:l,is_ad_landpage:d,ad_landpage_timems:c,is_show_status:u,is_visible:h,is_on_landpage:p})}},C()(Rr.prototype,"getTimePoint",[er],Object.getOwnPropertyDescriptor(Rr.prototype,"getTimePoint"),Rr.prototype),C()(Rr.prototype,"setTimePoint",[tr],Object.getOwnPropertyDescriptor(Rr.prototype,"setTimePoint"),Rr.prototype),C()(Rr.prototype,"reportTimePoints",[ir],Object.getOwnPropertyDescriptor(Rr.prototype,"reportTimePoints"),Rr.prototype),C()(Rr.prototype,"reportCloseAction",[ar],Object.getOwnPropertyDescriptor(Rr.prototype,"reportCloseAction"),Rr.prototype),C()(Rr.prototype,"reportAdEntranceExposure",[nr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAdEntranceExposure"),Rr.prototype),C()(Rr.prototype,"reportTouchClick",[or],Object.getOwnPropertyDescriptor(Rr.prototype,"reportTouchClick"),Rr.prototype),C()(Rr.prototype,"reportCancelRewardPlayablePage",[rr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportCancelRewardPlayablePage"),Rr.prototype),C()(Rr.prototype,"reportMMData",[sr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportMMData"),Rr.prototype),C()(Rr.prototype,"reportAbnormalDetect",[lr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAbnormalDetect"),Rr.prototype),C()(Rr.prototype,"reportAdIDKey",[dr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAdIDKey"),Rr.prototype),C()(Rr.prototype,"processStackMsg",[cr],Object.getOwnPropertyDescriptor(Rr.prototype,"processStackMsg"),Rr.prototype),C()(Rr.prototype,"reportAdIDKeyErrorData",[ur],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAdIDKeyErrorData"),Rr.prototype),C()(Rr.prototype,"reportAdMonitorData",[hr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAdMonitorData"),Rr.prototype),C()(Rr.prototype,"reportEndPage",[pr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportEndPage"),Rr.prototype),C()(Rr.prototype,"reportAdFeedbackData",[fr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAdFeedbackData"),Rr.prototype),C()(Rr.prototype,"reportBehaviorButton",[gr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportBehaviorButton"),Rr.prototype),C()(Rr.prototype,"reportVideoLoadTime",[mr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportVideoLoadTime"),Rr.prototype),C()(Rr.prototype,"reportRepeatClick",[yr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportRepeatClick"),Rr.prototype),C()(Rr.prototype,"reportLandingTime",[vr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportLandingTime"),Rr.prototype),C()(Rr.prototype,"reportVideoLastClick",[_r],Object.getOwnPropertyDescriptor(Rr.prototype,"reportVideoLastClick"),Rr.prototype),C()(Rr.prototype,"reportBannerLastClick",[Er],Object.getOwnPropertyDescriptor(Rr.prototype,"reportBannerLastClick"),Rr.prototype),C()(Rr.prototype,"reportRelationFetchDuration",[br],Object.getOwnPropertyDescriptor(Rr.prototype,"reportRelationFetchDuration"),Rr.prototype),C()(Rr.prototype,"reportMMClickPos",[xr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportMMClickPos"),Rr.prototype),C()(Rr.prototype,"reportADFunnelModel",[wr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportADFunnelModel"),Rr.prototype),C()(Rr.prototype,"recordAnalyseBranchInfo",[Tr],Object.getOwnPropertyDescriptor(Rr.prototype,"recordAnalyseBranchInfo"),Rr.prototype),C()(Rr.prototype,"resetAnalyseBranchInfo",[Cr],Object.getOwnPropertyDescriptor(Rr.prototype,"resetAnalyseBranchInfo"),Rr.prototype),C()(Rr.prototype,"reportAnalyseInfo",[Ar],Object.getOwnPropertyDescriptor(Rr.prototype,"reportAnalyseInfo"),Rr.prototype),C()(Rr.prototype,"reportRewardGaussVideo",[Dr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportRewardGaussVideo"),Rr.prototype),C()(Rr.prototype,"reportPopupClickAction",[Ir],Object.getOwnPropertyDescriptor(Rr.prototype,"reportPopupClickAction"),Rr.prototype),C()(Rr.prototype,"reportBannerShowAction",[Sr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportBannerShowAction"),Rr.prototype),C()(Rr.prototype,"reportShareBehavior",[kr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportShareBehavior"),Rr.prototype),C()(Rr.prototype,"reportDestroyBehavior",[Pr],Object.getOwnPropertyDescriptor(Rr.prototype,"reportDestroyBehavior"),Rr.prototype),Rr),{_requestSkipCheckDomain:ys,deviceInfo:vs,appRouteInfo:_s,getIndentityInfo:Es,invokeMethod:bs}=y,xs=1,ws=new Set,Ts=(Or=on(),Nr=on(),Lr=on(),Mr=on(),Br=on(),Vr=on(),Wr=on(),Fr=on(),Hr=on(),Ur=on(),Gr=on(),zr=on(),jr=on(),$r=on(),Yr=on(),qr=on(),Xr=on(),Kr=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=xs,xs+=1,ws.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get slotData(){return this.adProxy.getSlotData()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){var t=5;return this.adProxy.isRewardedVideoAd()?t=6:[Di.CRT_SIZE_TABLE_SCREEN_IMAGE,Di.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),re({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(ui.FOLLOW_REPORT_ERROR,e),e}))}getExtraExpOrClkData(e){var t,i=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?i=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(i=[{idx:0,waid:this.data.waid}]);var a=r()(r()({},Es()),{},{weapp_enter_scene:(null==D||null===(t=D.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(i)}),n=r()({},a),o=r()({},a);if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var s,l={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(s=e.multiList)||void 0===s||s.forEach((e=>{var t=this.datas[e];t.extBackComm&&l.viewid.push(t.extBackComm.viewid),l.s_pt.push(t.pt),l.s_aid.push(t.aid),l.s_trace_id.push(t.traceid)})),n.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:l.viewid}),s_trace_id:JSON.stringify(l.s_trace_id),s_aid:JSON.stringify(l.s_aid),s_pt:JSON.stringify(l.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var d,c=this.adProxy.adDataIndex;o.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(d=this.data.extBackComm)||void 0===d?void 0:d.viewid,box_index:c}}if("customAd"===this.adType){var u,h=null===(u=this.data.extBackComm)||void 0===u?void 0:u.sub_templ_id;h&&(n.sub_templ_id=h,o.sub_templ_id=h)}if("rewardedVideoAd"===this.adType&&this.data.isPlayable&&(n.is_playable=1,o.is_playable=1),["interstitialAd","rewardedVideoAd","customAd"].includes(this.adType)&&e.videoData){var{currentTime:p,duration:f}=e.videoData;(p||f)&&(o.video_play_time=p,o.video_duration=f)}if("grid"===this.adType)if("exposure"===e.reportType){var g,m={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(g=this.datas)||void 0===g||g.forEach((e=>{e.extBackComm&&m.viewid.push(e.extBackComm.viewid),m.s_pt.push(e.pt),m.s_aid.push(e.aid),m.s_trace_id.push(e.traceid)})),n.box_ad_exposure={report_mode:1,box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:JSON.stringify({viewid:m.viewid}),s_trace_id:JSON.stringify(m.s_trace_id),s_aid:JSON.stringify(m.s_aid),s_pt:JSON.stringify(m.s_pt)}}else if("click"===e.reportType){var y,v=e.clickAdIndex||0;o.box_ad_click={box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:null===(y=this.data.extBackComm)||void 0===y?void 0:y.viewid,box_index:v}}return"exposure"===e.reportType&&e.extExposureComm&&(n=r()(r()({},n),e.extExposureComm)),"click"===e.reportType&&e.extClickComm&&(o=r()(r()({},o),e.extClickComm)),{extExposureComm:n,extClickComm:o}}reportExpOrClk(e){var t=3;if("exposure"===e.reportType?(t={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var i=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),bs("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})})})),this.adProxy.setCurrentData(i)}else bs("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})});var{extExposureComm:a,extClickComm:n}=this.getExtraExpOrClkData(e),o=this.getExpOrClkCommonArgs(e),s="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(n)}:{exposure_type:la[e.exposureType],ext_exposure_comm:JSON.stringify(a)};return re({apiName:"advert_report",reqData:r()(r()(r()({},o),s),{},{report_type:sa[e.reportType],weapp_extra_data:JSON.stringify(o.weapp_extra_data),ad_group_id:o.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:o.weapp_gh_id})})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:Yi[this.adType],pos_type:ra[this.adType],sdk_version:vs.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:vs.startTime.valueOf(),wegame_enter_ts:_s.enterForegroundTime.valueOf(),wegame_user_duration:_s.gameDuration+(Date.now()-_s.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:r()(r()({},this.getWeappExtraData()),e.weappExtraData||{})}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk(r()({reportType:"click"},e)).catch((e=>{throw this.reportAdMonitorData(ui.CLICK_REPORT_ERROR,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk(r()({reportType:"exposure"},e)).catch((e=>{throw this.reportAdMonitorData(ui.EXPOSURE_REPORT_ERROR,e),e}))}reportFlooringPage(e,t){var i={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:vs.gameAppId,orig_weapp_id:this.pluginAppid?vs.gameAppId:""},a=null==t?void 0:t.map((e=>r()(r()({},i),e))),n={};return 1===e?n.rewared_video_ending_page_a=a:2===e&&(n.rewared_video_ending_page_b=a),re({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(n)}})}reportAntifraud(e){var t=r()(r()({},e),{},{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:vs.gameAppId,orig_weapp_id:this.pluginAppid?vs.gameAppId:"",network_type:vs.adNetworkType,wechat_version:vs.wechatVersion,platform:vs.platform,system_version:vs.systemVersion,device_orientation:vs.deviceOrientation,wxapp_lib_version:vs.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:vs.brand||"",machine_type:vs.model||"",clientimptime:this.lastAdReqTs}),i={};return i.antifraud_table_screen_report=[t],re({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(i)}})}reportVideo({playType:e,conditionType:t,muted:i,playDuration:a,videoDuration:n,rewardedTime:o,isRewarded:r,index:s=0}){var l;if(null===(l=this.datas)||void 0===l||!l[s])return Promise.resolve();var d="0",c=decodeURIComponent(this.datas[s].apurl);/viewid=([^&]+)/.test(c)&&(d=/viewid=([^&]+)/.exec(c)[1]);var u=re({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.datas[s].aid,10),traceid:this.datas[s].traceid,trace_id:this.datas[s].traceid,viewid:d,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:a-this.lastVideoReportTime,video_duration:n,auto_play:!0,muted:i,rewarded_time:o&&Math.min(o,n),is_rewarded:r},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[t]}});return this.lastVideoReportTime=a,u}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:xs-1,ad_unit_number:ws.size,ad_index:this.index,page_enter_time:_s.enterForegroundTime.valueOf(),phone_screen_width:vs.screenWidth,phone_screen_height:vs.screenHeight}}getWeappExtraData(){var e,t,i,a;return{weixin_version:vs.wechatVersion,os_version:vs.systemVersion,machine_brand:vs.brand||"",machine_type:vs.model,network_type:vs.adNetworkType,start_ts:vs.startTime.valueOf(),enter_ts:_s.enterForegroundTime.valueOf(),user_duration:_s.gameDuration+(Date.now()-_s.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=D.host)||void 0===e?void 0:e.env,app_appid:null===(t=D.host)||void 0===t?void 0:t.appId,host_version:null===(i=D.host)||void 0===i?void 0:i.version,local_wechat_version:null===(a=D.host)||void 0===a?void 0:a.localWeChatVersion,data_index:this.adProxy.adDataIndex,data_count:this.adProxy.datas.length}}composeExposureCommonInfo({top:e=0,left:t=0,width:i=0,height:a=0,adType:n="rewardedVideoAd",inputWeappExtraData:o={}}){var s;try{s=this.data.weapp_info.original_id}catch(e){}var l=r()({},Es()),d=r()(r()({},this.getWeappExtraData()),o||{}),c=this.getWxaReportDetail({top:e,left:t}),u={report_type:0,pos_id:Yi[this.adType],sdk_version:vs.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:s,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:i,ad_h:a,from_game:1,from_h5:0,wegame_start_ts:vs.startTime.valueOf(),wegame_enter_ts:_s.enterForegroundTime.valueOf(),wegame_user_duration:_s.gameDuration+(Date.now()-_s.enterForegroundTime.getTime()),pos_type:ra[n],wxa_report_detail:c,weapp_extra_data:JSON.stringify(d),ext_exposure_comm:JSON.stringify(l)};return JSON.stringify(u)}reportInstallFollow(e){var{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&re({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}reportAnalyseDebugInfo(e){var t=Ki[this.adType];return t||this.reportAdMonitorData(ui.ANALYSE_DEBUG_REPORT_ERROR,new Error(`invalid reportType ${this.adType}`)),re({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(ui.ANALYSE_DEBUG_REPORT_ERROR,e)}))}reportIPV4(){setTimeout((()=>{try{var e,t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&ys({url:K(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},C()(Kr.prototype,"getLastClickTime",[Or],Object.getOwnPropertyDescriptor(Kr.prototype,"getLastClickTime"),Kr.prototype),C()(Kr.prototype,"getLastAdReqTs",[Nr],Object.getOwnPropertyDescriptor(Kr.prototype,"getLastAdReqTs"),Kr.prototype),C()(Kr.prototype,"setLastExposureTime",[Lr],Object.getOwnPropertyDescriptor(Kr.prototype,"setLastExposureTime"),Kr.prototype),C()(Kr.prototype,"setLastClickTime",[Mr],Object.getOwnPropertyDescriptor(Kr.prototype,"setLastClickTime"),Kr.prototype),C()(Kr.prototype,"setLastAdReqTs",[Br],Object.getOwnPropertyDescriptor(Kr.prototype,"setLastAdReqTs"),Kr.prototype),C()(Kr.prototype,"reportFollow",[Vr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportFollow"),Kr.prototype),C()(Kr.prototype,"getExpOrClkCommonArgs",[Wr],Object.getOwnPropertyDescriptor(Kr.prototype,"getExpOrClkCommonArgs"),Kr.prototype),C()(Kr.prototype,"reportClick",[Fr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportClick"),Kr.prototype),C()(Kr.prototype,"reportExposure",[Hr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportExposure"),Kr.prototype),C()(Kr.prototype,"reportFlooringPage",[Ur],Object.getOwnPropertyDescriptor(Kr.prototype,"reportFlooringPage"),Kr.prototype),C()(Kr.prototype,"reportAntifraud",[Gr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportAntifraud"),Kr.prototype),C()(Kr.prototype,"reportVideo",[zr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportVideo"),Kr.prototype),C()(Kr.prototype,"getWxaReportDetail",[jr],Object.getOwnPropertyDescriptor(Kr.prototype,"getWxaReportDetail"),Kr.prototype),C()(Kr.prototype,"composeExposureCommonInfo",[$r],Object.getOwnPropertyDescriptor(Kr.prototype,"composeExposureCommonInfo"),Kr.prototype),C()(Kr.prototype,"reportInstallFollow",[Yr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportInstallFollow"),Kr.prototype),C()(Kr.prototype,"reportAnalyseDebugInfo",[qr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportAnalyseDebugInfo"),Kr.prototype),C()(Kr.prototype,"reportIPV4",[Xr],Object.getOwnPropertyDescriptor(Kr.prototype,"reportIPV4"),Kr.prototype),Kr);function Cs(e){return{appId:e.weapp_info&&e.weapp_info.appid,appType:46==e.product_type?1004:1e3,path:e.url,openRate:e.extBackComm&&e.extBackComm.pctr||0}}var As,Ds,Is,Ss,ks,Ps,Rs,Os,Ns,Ls,Ms,Bs,Vs,Ws,Fs,Hs,Us,Gs,zs,js,$s,Ys,qs,Xs,Ks,Js,Zs,Qs,el,tl,il,al,nl,ol,rl,sl,ll,dl,cl,ul,hl,pl,fl,gl,ml,yl,vl,_l,El,bl,xl,wl,Tl,Cl,Al,Dl,Il,Sl,kl,Pl,Rl,Ol,Nl,Ll,Ml,Bl,Vl,Wl,Fl,Hl,Ul,Gl,zl,jl,$l,{showToast:Yl,deviceInfo:ql,invokeMethod:Xl}=y,Kl=(Jr=on(),Zr=on(),Qr=on(),es=on(),ts=on(),is=on(),as=on(),ns=on(),os=on(),rs=on(),ss=on(),ls=on(),ds=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}getFullRl(){var{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){var i={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:ql.isWaGame?147:140};return Mo(t,i)}getSkAdItem(){var e,t=null,i=this.data;if(null!=i&&null!==(e=i.extBackComm)&&void 0!==e&&e.sk_ad_items)try{[t]=JSON.parse(i.extBackComm.sk_ad_items)}catch(e){}return t}isPrefetch(e){var t,i,a,n,o,r,s,l,d={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(i=t[0])||void 0===i||null===(a=i.wxgame_video_card)||void 0===a||null===(n=a.flooring_page)||void 0===n?void 0:n.page_url}[e],c={url:this.data.dest_type===Ai.DEST_TYPE_OUTER,jump_url:(null===(o=this.data.button_action)||void 0===o?void 0:o.jump_type)===Ai.DEST_TYPE_OUTER,playable_url:!0}[e];return d&&c&&Boolean(null===(r=this.data)||void 0===r||null===(s=r.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){var t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1,isAddContact:t=!1}={}){var i=this;return b()((function*(){var{dest_type:a,product_type:n,url:o,extInfo:r}=i.data,s={isButton:e};try{var l;null!=r&&null!==(l=r.app_gift_pack_code)&&void 0!==l&&l.code&&(yield i.adProxy.setClipboardData({data:r.app_gift_pack_code.code}),Yl({duration:1500,title:"礼包码复制成功",icon:"success",mask:!1}),i.adProxy.reportAdMonitorData(ui.COPY_GIFT_CODE_SUCCESS))}catch(e){i.adProxy.reportAdMonitorData(ui.COPY_GIFT_CODE_FAIL)}if(!e){if(i.isPrefetch("url")&&i.adProxy.reportAdMonitorData(ui.H5_PRELOAD_CARD_CLICKED),[12,19].indexOf(n)>-1){var d,c,{app_info:{url_scheme:u}}=i.data;if(ql.isIOS)d=JSON.stringify({aid:i.data.aid,ad_uid:null===(c=i.data.extBackComm)||void 0===c?void 0:c.uid,scene_id:4001});var h=i.getSkAdItem();if(u&&u.trim().length>0){if(ql.isAndroid&&!i.isAppInstalled){try{return yield i.openMachineMarket()}catch(e){}return i.landPage(a,o,s)}return i.adProxy.launchApplication({schemeUrl:u,isIosDirect:ql.isIOS,appInfo:i.data.app_info,extraData:d,skAdItem:h},i.data).catch((e=>(null!==h&&i.reportAdMonitorData(ui.OPEN_WEBSTORE_ERROR,e),i.landPage(a,o,s))))}try{return yield i.openMachineMarket()}catch(e){}return i.landPage(a,o,s)}if(n===Ii.WE_CHAT_SHOP){try{return yield i.openShopScheme()}catch(e){}return i.landPage(a,o,s)}return i.landPage(a,o,s)}i.isPrefetch("jump_url")&&i.adProxy.reportAdMonitorData(ui.H5_PRELOAD_BUTTON_CLICKED);var{button_action:{jump_type:p,jump_url:f}}=i.data;if(n===Ii.IOS)return i.openAppStore(p,f,s);if(n!==Ii.WE_CHAT||!t){if(n===Ii.WE_CHAT_SHOP){try{return yield i.openShopScheme()}catch(e){}return i.landPage(p,f,s)}try{return yield i.openMachineMarket()}catch(e){}return i.landPage(p,f,s)}var g,{biz_info:{user_name:m,is_subscribed:y}}=i.data;if(y)return 10===p?i.landPage(p,o,s):ie({url:i.getFollowPageUrl(i.data,f),adInfo:i.getTransmissionChainData({logtype:3}),adUxInfo:null===(g=i.data)||void 0===g?void 0:g.uxinfo});try{var v,_=yield i.adProxy.addContact({username:m,isWaGame:ql.isWaGame}),{ext_info:E,uxinfo:b}=i.data;try{v=JSON.parse(E)}catch(e){}if(/ok|added/.test(_.errMsg)&&v&&v.guide_group_id&&b)try{yield(({guide_group_id:e,uxinfo:t})=>re({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>"ok"===e.msg?Promise.resolve(e):Promise.reject(e))))({guide_group_id:v.guide_group_id,uxinfo:b}),i.adProxy.reportAdIDKey({key:ui.BIND_GUIDE_SUCCESS})}catch(e){i.reportAdMonitorData(ui.BIND_GUIDE_ERROR,e)}return _}catch(e){if(/cancel/.test(e.errMsg))return e;throw i.reportAdMonitorData(ui.ADD_CONTACT_ERROR,e),e}}))()}landPage(e,t,i){if(e===Ai.DEST_TYPE_APPDETAIL&&ql.isIOS){var a,{app_info:{appinfo_url:n}}=this.data,o=JSON.stringify({aid:this.data.aid,ad_uid:null===(a=this.data.extBackComm)||void 0===a?void 0:a.uid,scene_id:4001}),r=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:n,extraData:o,skAdItem:r},this.data).catch((e=>{var t;return null!==r&&this.reportAdMonitorData(ui.OPEN_WEBSTORE_ERROR,e),ie({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_URL_ERROR,e),e}))}))}var s;if(e===Ai.DEST_TYPE_BIZ)return ie({url:this.getFollowPageUrl(this.data,t),adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(s=this.data)||void 0===s?void 0:s.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_URL_ERROR,e),e}));if(e===Ai.DEST_TYPE_WECHAT_APPLET){var{weapp_info:{appid:l},traceid:d,aid:c,uxinfo:u}=this.data;return ne({appId:l,path:t,traceid:d,aid:c,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:u}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_WXAPP_ERROR,e),e}))}if(e===Ai.DEST_TYPE_CANVAS){var{canvas_info:h,pos_type:p}=this.data;return ae({canvasInfo:h,posType:p}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_CANVAS_ERROR,e),e}))}if(10===e){var{biz_info:{user_name:f}}=this.data;return this.adProxy.openProfile({username:f}).catch((e=>{throw e}))}return e===Ai.DEST_TYPE_CHANNELS?this.jumpChannels("activity",i):e===Ai.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live",i):e===Ai.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile",i):ie({url:t,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_URL_ERROR,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}validateChannelsInfo(e,t){return t?["live","activity"].includes(e)&&!t.id||!t.nonce_id?"channelsInfo.id 或 channelsInfo.nonce_id 不可为空":t.username?null:"channelsInfo.username 不可为空":"channelsInfo 不可为空"}jumpChannels(e,{isButton:t}){var i=this;return b()((function*(){var a,n={activity:ui.OPEN_CHANNELS_ACTIVITY_SUCCESS,live:ui.OPEN_CHANNELS_LIVE_SUCCESS,userProfile:ui.OPEN_CHANNELS_USER_PROFILE_SUCCESS}[e],o={activity:ui.OPEN_CHANNELS_ACTIVITY_FAILED,live:ui.OPEN_CHANNELS_LIVE_FAILED,userProfile:ui.OPEN_CHANNELS_USER_PROFILE_FAILED}[e],s=null===(a=i.data)||void 0===a?void 0:a.extBackComm.channels_info,l=i.validateChannelsInfo(e,s);if(l)i.reportAdMonitorData(o,{message:l,channelsInfo:s});else{var{crt_size:d,apurl:c,rl:u}=i.data,h={feedId:s.id,nonceId:s.nonce_id,finderUserName:s.username,reportExtraInfo:i.getChannelsExtraInfo(t?zi:Gi)};if("live"===e&&d===Di.CRT_SIZE_REWARD_LANDINGPAGE&&i.adProxy.getChannelsLiveStatusWithRpc().then((e=>{"onlive"!==e&&i.reportAdMonitorData(ui.OPEN_ENDED_CHANNELS_LIVE,{status:e})})),s){if("activity"===e&&d===Di.CRT_SIZE_REWARD_LANDINGPAGE)try{var p=yield i.adProxy.openChannelsRewardedVideoAd(r()(r()({},h),{},{expReportLink:c,clkReportLink:u,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:ql.screenWidth,height:ql.screenHeight}),clickPosMap:{follow:Oi,like:Ni,comment:Li,headimage:Mi,nickname:Bi,forward:Vi},feedbackUrl:i.getFeedbackUrl(ql.isWaGame?1003:1005)}));return i.reportAdMonitorData(n),p}catch(p){i.reportAdMonitorData(o,p)}else if("live"===e&&d===Di.CRT_SIZE_REWARD_LANDINGPAGE)try{var f=yield i.adProxy.openChannelsLive(r()(r()({},h),{},{expReportLink:c,clkReportLink:u,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:ql.screenWidth,height:ql.screenHeight}),feedbackUrl:i.getFeedbackUrl(ql.isWaGame?1003:1005),adJSAPIType:1}));return i.reportAdMonitorData(n,{closeType:(null==f?void 0:f.closeType)||0}),f}catch(p){i.reportAdMonitorData(o,p)}try{var g;switch(e){case"activity":g=yield i.adProxy.openChannelsRewardedVideoAd(r()(r()({},h),{},{adJSAPIType:1}));break;case"live":g=yield i.adProxy.openChannelsLive(h);break;case"userProfile":g=yield i.adProxy.openChannelsUserProfile(h)}return i.reportAdMonitorData(n),g}catch(e){i.reportAdMonitorData(o,e)}}i.reportAdMonitorData(o,new Error("channelsInfo is empty"))}}))()}openAppStore(e,t,i){var a,{app_info:{appinfo_url:n,url_scheme:o},extBackComm:r}=this.data,s=JSON.stringify({aid:this.data.aid,ad_uid:null===(a=this.data.extBackComm)||void 0===a?void 0:a.uid,scene_id:4001}),l=this.getSkAdItem();return o&&o.trim().length>0?this.adProxy.launchApplication({schemeUrl:o,isIosDirect:!0,appInfo:this.data.app_info,extraData:s,skAdItem:l},this.data).catch((()=>this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((e=>{var t;return null!==l&&this.reportAdMonitorData(ui.OPEN_WEBSTORE_ERROR,e),ie({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_URL_ERROR,e),e}))})))):r.is_from_snsadinfo?this.landPage(e,t,i):this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((()=>{var e;return ie({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(e=this.data)||void 0===e?void 0:e.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ui.OPEN_URL_ERROR,e),e}))}))}preloadLanding(){try{if(6===this.data.dest_type){var e=[],t=[];"grid"===this.adType?this.datas.forEach((i=>{var a;null!==(a=i.weapp_info)&&void 0!==a&&a.appid&&(e.push(i.weapp_info.appid),t.push(Cs(i)))})):(e=[this.data.weapp_info.appid],t.push(Cs(this.data))),Xl("batchGetContact",{appIds:e});var i="app";this.data.product_type===Ii.MINI_GAME&&(i="game"),(ql.isAndroid||"app"===i)&&Xl("preloadMiniProgramEnv",{type:i,success:e=>{this.reportAdMonitorData(ui.PRELOAD_MINIENV_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(ui.PRELOAD_MINIENV_ERROR,e)}});Xl("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:5,success:e=>{this.reportAdMonitorData(ui.PREDOWNLOAD_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(ui.PREDOWNLOAD_ERROR,e)}})}}catch(e){}}checkFollow(e){return b()((function*(){var{data:t}=yield re({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===t.is_subscribed}))()}getFeedbackUrl(e){var t=this.data.material_id_list||[],i=encodeURIComponent(`[${t.toString()}]`)||"",a=Mo("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:i||"",machine_type:ql.model,publisher_appid:ql.gameAppId});if("grid"===this.adType){var n=[],o=[],r=[];this.datas.forEach((e=>{n.push(e.traceid),o.push(e.material_id_list||[]),r.push(e.aid)}));var s={traceid:JSON.stringify(n),source:e,aid:JSON.stringify(r),material_id:JSON.stringify(o),machine_type:ql.model,publisher_appid:ql.gameAppId};a=Mo("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html?ismulity=1#wechat_redirect",s)}return a}openFeedbackUrl(e){var t=this.getFeedbackUrl(e);return ie({url:t})}checkPreloadH5Page(){var e=this;return b()((function*(){var t,i,a,n,o,r=new Set,{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,d=null===(i=e.data.crtInfo)||void 0===i||null===(a=i[0])||void 0===a||null===(n=a.wxgame_video_card)||void 0===n||null===(o=n.flooring_page)||void 0===o?void 0:o.page_url;e.isPrefetch("url")&&("1"!==ko(s).prefetch&&(s=Mo(s,{prefetch:1}),e.data.url=s),r.add(s)),e.isPrefetch("jump_url")&&("1"!==ko(l).prefetch&&(l=Mo(l,{prefetch:1}),e.data.button_action.jump_url=l),r.add(l)),e.isPrefetch("playable_url")&&("1"!==ko(d).prefetch&&(d=Mo(d,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=d),r.add(d));var c=[...r].map((e=>({url:e,bizScene:20002})));if(c.length)try{yield e.adProxy.preloadH5Page({urlList:c}),e.reportAdMonitorData(ui.H5_PRELOAD_SUCCESS)}catch(t){e.reportAdMonitorData(ui.H5_PRELOAD_FAILED,t)}}))()}openShopScheme(){var e=this;return b()((function*(){var{app_info:{url_scheme:t},product_type:i}=e.data;if(!t||i!==Ii.WE_CHAT_SHOP||!ql.isIOS&&!ql.isAndroid)throw"openShopScheme: fail no need";try{var a={schemeUrl:t};ql.isIOS&&(a.messageExt=t),e.data.uxinfo&&(a.bizInfo=e.data.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:3}}));var n=yield e.adProxy.launchApplicationOrigin(a);return e.reportAdMonitorData(ui.OPEN_SHOP_SCHEME_SUCCESS),n}catch(t){throw e.reportAdMonitorData(ui.OPEN_SHOP_SCHEME_ERROR,t),t}}))()}shouldOpenMachineMarket(){var{product_type:e,extBackComm:t}=this.data;return!this.adProxy.isSplashAd()&&ql.isAndroid&&e===Ii.ANDROID&&!this.isAppInstalled&&(null==t?void 0:t.market_scheme)}openMachineMarket(){var e=this;return b()((function*(){var{extBackComm:t}=e.data;if(!e.shouldOpenMachineMarket())throw"openMachineMarket: fail no need";try{var i={schemeUrl:t.market_scheme};e.data.uxinfo&&(i.bizInfo=e.data.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:4}}));var a=yield e.adProxy.launchApplicationOrigin(i);return e.reportAdMonitorData(ui.OPEN_MACHINE_MKT_SUCCESS),a}catch(t){throw e.reportAdMonitorData(ui.OPEN_MACHINE_MKT_ERROR,t),t}}))()}},C()(ds.prototype,"isPrefetch",[Jr],Object.getOwnPropertyDescriptor(ds.prototype,"isPrefetch"),ds.prototype),C()(ds.prototype,"getTransmissionChainData",[Zr],Object.getOwnPropertyDescriptor(ds.prototype,"getTransmissionChainData"),ds.prototype),C()(ds.prototype,"setAppInstallState",[Qr],Object.getOwnPropertyDescriptor(ds.prototype,"setAppInstallState"),ds.prototype),C()(ds.prototype,"land",[es],Object.getOwnPropertyDescriptor(ds.prototype,"land"),ds.prototype),C()(ds.prototype,"landPage",[ts],Object.getOwnPropertyDescriptor(ds.prototype,"landPage"),ds.prototype),C()(ds.prototype,"getChannelsExtraInfo",[is],Object.getOwnPropertyDescriptor(ds.prototype,"getChannelsExtraInfo"),ds.prototype),C()(ds.prototype,"openAppStore",[as],Object.getOwnPropertyDescriptor(ds.prototype,"openAppStore"),ds.prototype),C()(ds.prototype,"preloadLanding",[ns],Object.getOwnPropertyDescriptor(ds.prototype,"preloadLanding"),ds.prototype),C()(ds.prototype,"checkFollow",[os],Object.getOwnPropertyDescriptor(ds.prototype,"checkFollow"),ds.prototype),C()(ds.prototype,"getFeedbackUrl",[rs],Object.getOwnPropertyDescriptor(ds.prototype,"getFeedbackUrl"),ds.prototype),C()(ds.prototype,"openFeedbackUrl",[ss],Object.getOwnPropertyDescriptor(ds.prototype,"openFeedbackUrl"),ds.prototype),C()(ds.prototype,"checkPreloadH5Page",[ls],Object.getOwnPropertyDescriptor(ds.prototype,"checkPreloadH5Page"),ds.prototype),ds),Jl=s(707),Zl=s.n(Jl),{getChannelsLiveInfo:Ql,_getNetworkType:ed,invokeMethod:td,invoke:id,vibrateShort:ad,vibrateLong:nd}=(s(25),y),od=["private_openUrl","navigateToMiniProgram","openADCanvas","openChannelsRewardedVideoAd","openChannelsUserProfile","openChannelsLive","launchApplication"],rd=e=>t=>new Promise(((i,a)=>{e(Object.assign({},t,{success:i,fail:a}))})),sd=(e,t,i)=>{var a;e.errMsg=e.errMsg||`${t}:ok`;var n,o=0===e.errMsg.indexOf(`${t}:ok`),r=0===e.errMsg.indexOf(`${t}:fail`);if(o)null==i||null===(n=i.success)||void 0===n||n.call(i,e);else if(r){var s;null==i||null===(s=i.fail)||void 0===s||s.call(i,e)}null==i||null===(a=i.complete)||void 0===a||a.call(i,e)},ld=({username:e,success:t,fail:i,complete:a})=>{td("profile",{username:e,scene:75,success:t,fail:i,complete:a})},dd=({username:e,isWaGame:t,success:i,fail:a,complete:n})=>{td("private_addContact",{username:e,scene:t?146:139,webtype:1,success:i,fail:a,complete:n})},cd=({schemeUrl:e,isIosDirect:t,appInfo:i,extraData:a,skAdItem:n,bizInfo:o,sourceInfo:r,success:s,fail:l,complete:d})=>{var c={};t&&(c.appId=i.app_id,c.installSchemeUrl=i.appinfo_url,null!==n?(c.installAction=1,c.skAdItem=n):c.installAction=0),a&&(c.extraData=a),o&&(c.bizInfo=o),r&&(c.sourceInfo=r),td("launchApplication",Object.assign(c,{schemeUrl:e,operateDirectly:1,success:s,fail:l,complete:d}))},ud=({schemeUrl:e,messageExt:t,bizInfo:i,sourceInfo:a,success:n,fail:o,complete:r})=>{var s={};t&&(s.messageExt=t),i&&(s.bizInfo=i),a&&(s.sourceInfo=a),td("launchApplication",Object.assign(s,{schemeUrl:e,operateDirectly:1,success:n,fail:o,complete:r}))},hd=({appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,success:o,fail:r,complete:s})=>{td("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,operateDirectly:1,success:o,fail:r,complete:s})},pd=({packageName:e,success:t,fail:i,complete:a})=>{td("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},fd=({downloadId:e,success:t,fail:i,complete:a})=>{td("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},gd=({downloadId:e,success:t,fail:i,complete:a})=>{td("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},md=({downloadId:e,success:t,fail:i,complete:a})=>{td("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},yd=({downloadId:e,success:t,fail:i,complete:a})=>{td("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},vd=({isHide:e,success:t,fail:i,complete:a})=>{td("setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},_d=({isHide:e,success:t,fail:i,complete:a})=>{td("private_setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},Ed=({resources:e,success:t,fail:i,complete:a})=>{td("loadVideoResource",{resources:e,success:t,fail:i,complete:a})},bd=({orientation:e,success:t,fail:i,complete:a})=>{td("private_setPageOrientation",{orientation:e,success:t,fail:i,complete:a})},xd=({success:e,fail:t,complete:i}={})=>{td("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},wd=({success:e,fail:t,complete:i}={})=>{td("showVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},Td=({success:e,fail:t,complete:i}={})=>{td("showStatusBar",{success:e,fail:t,complete:i})},Cd=({success:e,fail:t,complete:i}={})=>{td("hideStatusBar",{success:e,fail:t,complete:i})},Ad=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r})=>{id("openChannelsActivity",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,permissionBytes:[1,1,1]},(a=>{sd(a,"openChannelsActivity",{success:e,fail:t,complete:i})}))},Dd=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,feedbackUrl:u})=>{id("private_openChannelsLive",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,permissionBytes:[1,1,1],bizId:332,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,feedbackUrl:u},(a=>{sd(a,"private_openChannelsLive",{success:e,fail:t,complete:i})}))},Id=({success:e,fail:t,complete:i,finderUserName:a,reportExtraInfo:n})=>{id("openChannelsUserProfile",{finderUserName:a,reportExtraInfo:n,permissionBytes:[1,1,1]},(a=>{sd(a,"openChannelsUserProfile",{success:e,fail:t,complete:i})}))},Sd=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,clickPosMap:u,feedbackUrl:h})=>{td("openChannelsRewardedVideoAd",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,clickPosMap:u,feedbackUrl:h,success:e,fail:t,complete:i})},kd=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:i,fail:a,complete:n})=>{td("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:i,fail:a,complete:n})},Pd=({urlList:e,success:t,fail:i,complete:a})=>{td("private_onWebPageUrlExposed",{urlList:e,success:t,fail:i,complete:a})},Rd=({data:e,success:t,fail:i,complete:a})=>{td("setClipboardData",{data:e,success:t,fail:i,complete:a})},Od=({appid:e,path:t,moduleName:i,preloadCodeScene:a=5,success:n,fail:o,complete:r})=>{td("predownloadMiniProgramPackage",{appId:e,path:t,moduleName:i,scene:a,success:n,fail:o,complete:r})},Nd=({slotid:e,success:t,fail:i,complete:a})=>{td("getAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},Ld=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:o,style:r,zIndex:s,fixed:l,success:d,fail:c,complete:u})=>{td("insertMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:o,style:r,fixed:l,success:d,fail:c,complete:u})},Md=({appid:e,moduleName:t,versionType:i,resume:a,mute:n,parentId:o,viewId:r,position:s,style:l,zIndex:d,fixed:c,forceEnd:u,success:h,fail:p,complete:f})=>{td("updateMiniProgramPlayableView",{appId:e,moduleName:t,resume:a,mute:n,versionType:i,dest:0,parentId:o,viewId:r,zIndex:d,position:s,style:l,fixed:c,forceEnd:u,success:h,fail:p,complete:f})},Bd=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:o,style:r,zIndex:s,fixed:l,success:d,fail:c,complete:u})=>{td("removeMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:o,style:r,fixed:l,success:d,fail:c,complete:u})},Vd=({slotid:e,success:t,fail:i,complete:a})=>{td("clearAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},Wd=rd((({taskName:e,taskUrl:t,fileMd5:i,extInfo:a,success:n,fail:o,complete:r})=>{td("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:i,extInfo:a,permissionBytes:[1,1,1],success:n,fail:o,complete:r})})),Fd=(As=on(),Ds=on(),Is=on(),Ss=on(),ks=on(),Ps=on(),Rs=on(),Os=on(),Ns=on(),Ls=on(),Ms=on(),Bs=on(),Vs=on(),Ws=on(),Fs=on(),Hs=on(),Us=on(),Gs=on(),zs=on(),js=on(),$s=on(),Ys=on(),qs=on(),Xs=on(),Ks=on(),Js=on(),Zs=on(),Qs=on(),el=on(),tl=on(),il=on(),al=on(),nl=on(),ol=on(),rl=on(),sl=on(),ll=on(),dl=class{constructor(){Zl()(this,"setNavigationBarRightButton",cl,this),Zl()(this,"setMiniProgramNavigationBarRightButton",ul,this),Zl()(this,"hideVirtualBottomNavigationBar",hl,this),Zl()(this,"showVirtualBottomNavigationBar",pl,this),Zl()(this,"showStatusBar",fl,this),Zl()(this,"hideStatusBar",gl,this),Zl()(this,"openProfile",ml,this),Zl()(this,"addContact",yl,this),Zl()(this,"downloadAppInternal",vl,this),Zl()(this,"openChannelsActivity",_l,this),Zl()(this,"openChannelsRewardedVideoAd",El,this),Zl()(this,"openChannelsLive",bl,this),Zl()(this,"openChannelsUserProfile",xl,this),Zl()(this,"setClipboardData",wl,this),Zl()(this,"getChannelsLiveInfo",Tl,this),Zl()(this,"getAdPushMsg",Cl,this),Zl()(this,"clearAdPushMsg",Al,this),Zl()(this,"getNetworkType",Dl,this),Zl()(this,"preloadH5Page",Il,this),this.innerPreloadVideo=rd(Ed),Zl()(this,"preloadVideo",Sl,this),Zl()(this,"launchApplicationOrigin",kl,this),this.innerLaunchApplication=rd(cd),Zl()(this,"isLandingPageApi",Pl,this),Zl()(this,"launchApplication",Rl,this),this.innerGetInstallState=rd(pd),Zl()(this,"getInstallState",Ol,this),this.innerQueryDownloadTask=rd(fd),Zl()(this,"queryDownloadTask",Nl,this),this.innerPauseDownloadTask=rd(gd),Zl()(this,"pauseDownloadTask",Ll,this),this.innerResumeDownloadTask=rd(md),Zl()(this,"resumeDownloadTask",Ml,this),this.innerInstallDownloadTask=rd(yd),Zl()(this,"installDownloadTask",Bl,this),this.innerSetPageOrientation=rd(bd),Zl()(this,"setPageOrientation",Vl,this),this.innerSetInnerAudioOption=rd(kd),Zl()(this,"setInnerAudioOption",Wl,this),Zl()(this,"vibrateShort",Fl,this),this.innerVibrateShort=rd(ad),Zl()(this,"vibrateLong",Hl,this),this.innerVibrateLong=rd(nd),Zl()(this,"vibrate",Ul,this),Zl()(this,"predownloadMiniProgramPackage",Gl,this),Zl()(this,"insertPlayableView",zl,this),Zl()(this,"updatePlayableView",jl,this),Zl()(this,"removePlayableView",$l,this)}},cl=C()(dl.prototype,"setNavigationBarRightButton",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(vd)}}),ul=C()(dl.prototype,"setMiniProgramNavigationBarRightButton",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(_d)}}),hl=C()(dl.prototype,"hideVirtualBottomNavigationBar",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(xd)}}),pl=C()(dl.prototype,"showVirtualBottomNavigationBar",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(wd)}}),fl=C()(dl.prototype,"showStatusBar",[ks],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Td)}}),gl=C()(dl.prototype,"hideStatusBar",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Cd)}}),ml=C()(dl.prototype,"openProfile",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(ld)}}),yl=C()(dl.prototype,"addContact",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(dd)}}),vl=C()(dl.prototype,"downloadAppInternal",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(hd)}}),_l=C()(dl.prototype,"openChannelsActivity",[Ls],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Ad)}}),El=C()(dl.prototype,"openChannelsRewardedVideoAd",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Sd)}}),bl=C()(dl.prototype,"openChannelsLive",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Dd)}}),xl=C()(dl.prototype,"openChannelsUserProfile",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Id)}}),wl=C()(dl.prototype,"setClipboardData",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Rd)}}),Tl=C()(dl.prototype,"getChannelsLiveInfo",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Ql)}}),Cl=C()(dl.prototype,"getAdPushMsg",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Nd)}}),Al=C()(dl.prototype,"clearAdPushMsg",[Us],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Vd)}}),Dl=C()(dl.prototype,"getNetworkType",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(ed)}}),Il=C()(dl.prototype,"preloadH5Page",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Pd)}}),Sl=C()(dl.prototype,"preloadVideo",[js],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),kl=C()(dl.prototype,"launchApplicationOrigin",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(ud)}}),Pl=C()(dl.prototype,"isLandingPageApi",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>od.indexOf(e)>-1}}),Rl=C()(dl.prototype,"launchApplication",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var i="string"==typeof e?{schemeUrl:e}:e;try{null!=t&&t.uxinfo&&(i.bizInfo=t.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:1}}))}catch(e){}return!P||null!=i&&i.isIosDirect||null===(null==i?void 0:i.skAdItem)?this.innerLaunchApplication(i):this.downloadAppInternal({appUrl:i.schemeUrl,extraData:null==i?void 0:i.extraData,skAdItem:null==i?void 0:i.skAdItem,bizInfo:(null==i?void 0:i.bizInfo)||"",sourceInfo:(null==i?void 0:i.sourceInfo)||""})}}}),Ol=C()(dl.prototype,"getInstallState",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),Nl=C()(dl.prototype,"queryDownloadTask",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),Ll=C()(dl.prototype,"pauseDownloadTask",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),Ml=C()(dl.prototype,"resumeDownloadTask",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),Bl=C()(dl.prototype,"installDownloadTask",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),Vl=C()(dl.prototype,"setPageOrientation",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),Wl=C()(dl.prototype,"setInnerAudioOption",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),Fl=C()(dl.prototype,"vibrateShort",[il],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerVibrateShort({type:e})}}),Hl=C()(dl.prototype,"vibrateLong",[al],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.innerVibrateLong()}}),Ul=C()(dl.prototype,"vibrate",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return b()((function*(t=1,i=200){for(var a=0;a<t;a+=1)yield e.vibrateLong(),a<t-1&&(yield M(400+i))}))}}),Gl=C()(dl.prototype,"predownloadMiniProgramPackage",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Od)}}),zl=C()(dl.prototype,"insertPlayableView",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Ld)}}),jl=C()(dl.prototype,"updatePlayableView",[sl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Md)}}),$l=C()(dl.prototype,"removePlayableView",[ll],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rd(Bd)}}),dl),Hd=327,Ud=249,Gd=184,zd=140,jd=388,$d=308,Yd=(e,t)=>!!t&&(e=>{var t={native:[Di.CRT_SIZE_TABLE_SCREEN_IMAGE,Di.CRT_SIZE_INSERT_VIDEO],sns:[Di.APP_VIDEO,Di.CRT_SIZE_PIC_MOMENT,Di.CRT_SIZE_VIDEO_TIME6,Di.CRT_SIZE_CARD_COMPT_IMAGE,Di.CRT_SIZE_CARD_COMPT_VIDEO],image:[Di.CRT_SIZE_TABLE_SCREEN_IMAGE,Di.CRT_SIZE_PIC_MOMENT,Di.CRT_SIZE_CARD_COMPT_IMAGE,Di.CRT_SIZE_AMS_PIC_169],video:[Di.CRT_SIZE_INSERT_VIDEO,Di.APP_VIDEO,Di.CRT_SIZE_VIDEO_TIME6,Di.CRT_SIZE_CARD_COMPT_VIDEO,Di.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"native":case"sns":case"video":case"image":return t[e];default:return[...t.image,...t.video]}})(e).includes(Number(t)),qd=Object.create,Xd=Object.defineProperty,Kd=Object.getPrototypeOf,Jd=Object.prototype.hasOwnProperty,Zd=Object.getOwnPropertyNames,Qd=Object.getOwnPropertyDescriptor,ec=Object.getOwnPropertySymbols,tc=Object.prototype.propertyIsEnumerable,ic=(e,t,i)=>t in e?Xd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ac=(e,t)=>{for(var i in t||(t={}))Jd.call(t,i)&&ic(e,i,t[i]);if(ec)for(var i of ec(t))tc.call(t,i)&&ic(e,i,t[i]);return e},nc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),oc=e=>{return((e,t,i)=>{if(t&&"object"==typeof t||"function"==typeof t){var a=function(a){Jd.call(e,a)||"default"===a||Xd(e,a,{get:()=>t[a],enumerable:!(i=Qd(t,a))||i.enumerable})};for(var n of Zd(t))a(n)}return e})((t=Xd(null!=e?qd(Kd(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),Xd(t,"__esModule",{value:!0})),e);var t},rc=(e,t,i,a)=>{for(var n,o=a>1?void 0:a?Qd(t,i):t,r=e.length-1;r>=0;r--)(n=e[r])&&(o=(a?n(t,i,o):n(o))||o);return a&&o&&Xd(t,i,o),o},sc=(e,t,i)=>new Promise(((a,n)=>{var o=e=>{try{s(i.next(e))}catch(e){n(e)}},r=e=>{try{s(i.throw(e))}catch(e){n(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,r);s((i=i.apply(e,t)).next())})),lc=nc(((e,t)=>{var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=o(e),d=1;d<arguments.length;d++){for(var c in r=Object(arguments[d]))a.call(r,c)&&(l[c]=r[c]);if(i){s=i(r);for(var u=0;u<s.length;u++)n.call(r,s[u])&&(l[s[u]]=r[s[u]])}}return l}})),dc=nc((e=>{var t=lc(),i=60103,a=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var n=60109,o=60110,r=60112;e.Suspense=60113;var s,l=60115,d=60116;"function"==typeof Symbol&&Symbol.for&&(s=Symbol.for,i=s("react.element"),a=s("react.portal"),e.Fragment=s("react.fragment"),e.StrictMode=s("react.strict_mode"),e.Profiler=s("react.profiler"),n=s("react.provider"),o=s("react.context"),r=s("react.forward_ref"),e.Suspense=s("react.suspense"),l=s("react.memo"),d=s("react.lazy"));var c="function"==typeof Symbol&&Symbol.iterator;function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function f(e,t,i){this.props=e,this.context=t,this.refs=p,this.updater=i||h}function g(){}function m(e,t,i){this.props=e,this.context=t,this.refs=p,this.updater=i||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(u(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=f.prototype;var y=m.prototype=new g;y.constructor=m,t(y,f.prototype),y.isPureReactComponent=!0;var v={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,a){var n,o={},r=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(r=""+t.key),t)_.call(t,n)&&!E.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=a;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];o.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:r,ref:s,props:o,_owner:v.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var w=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,o,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return r=r(l=e),e=""===o?"."+T(l,0):o,Array.isArray(r)?(n="",null!=e&&(n=e.replace(w,"$&/")+"/"),C(r,t,n,"",(function(e){return e}))):null!=r&&(x(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(w,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=""===o?".":o+":",Array.isArray(e))for(var d=0;d<e.length;d++){var h=o+T(s=e[d],d);l+=C(s,t,n,h,r)}else if(h=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=c&&e[c]||e["@@iterator"])?e:null}(e),"function"==typeof h)for(e=h.call(e),d=0;!(s=e.next()).done;)l+=C(s=s.value,t,n,h=o+T(s,d++),r);else if("object"===s)throw t=""+e,Error(u(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,i){if(null==e)return e;var a=[],n=0;return C(e,a,"","",(function(e){return t.call(i,e,n++)})),a}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function S(){var e=I.current;if(null===e)throw Error(u(321));return e}var k={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:v,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:A,forEach:function(e,t,i){A(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(u(143));return e}},e.Component=f,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.cloneElement=function(e,a,n){if(null==e)throw Error(u(267,e));var o=t({},e.props),r=e.key,s=e.ref,l=e._owner;if(null!=a){if(void 0!==a.ref&&(s=a.ref,l=v.current),void 0!==a.key&&(r=""+a.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(c in a)_.call(a,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===a[c]&&void 0!==d?d[c]:a[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){d=Array(c);for(var h=0;h<c;h++)d[h]=arguments[h+2];o.children=d}return{$$typeof:i,type:e.type,key:r,ref:s,props:o,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},e.createElement=b,e.createFactory=function(e){var t=b.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:r,render:e}},e.isValidElement=x,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return S().useCallback(e,t)},e.useContext=function(e,t){return S().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return S().useEffect(e,t)},e.useImperativeHandle=function(e,t,i){return S().useImperativeHandle(e,t,i)},e.useLayoutEffect=function(e,t){return S().useLayoutEffect(e,t)},e.useMemo=function(e,t){return S().useMemo(e,t)},e.useReducer=function(e,t,i){return S().useReducer(e,t,i)},e.useRef=function(e){return S().useRef(e)},e.useState=function(e){return S().useState(e)},e.version="17.0.2"})),cc=nc(((e,t)=>{t.exports=dc()})),uc=nc((t=>{var i,a,n,o,r,s,l,d,c,u,h,p,f,g,m,y,v,_,E,b;function x(e,t){var i=e.length;e.push(t);e:for(;;){var a=i-1>>>1,n=e[a];if(!(void 0!==n&&0<C(n,t)))break e;e[a]=t,e[i]=n,i=a}}function w(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var i=e.pop();if(i!==t){e[0]=i;e:for(var a=0,n=e.length;a<n;){var o=2*(a+1)-1,r=e[o],s=o+1,l=e[s];if(void 0!==r&&0>C(r,i))void 0!==l&&0>C(l,r)?(e[a]=l,e[s]=i,a=s):(e[a]=r,e[o]=i,a=o);else{if(!(void 0!==l&&0>C(l,i)))break e;e[a]=l,e[s]=i,a=s}}}return t}return null}function C(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(r=performance,t.unstable_now=function(){return r.now()}):(s=Date,l=s.now(),t.unstable_now=function(){return s.now()-l}),"undefined"==typeof window||"function"!=typeof MessageChannel?(d=null,c=null,u=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(e){throw setTimeout(u,0),e}},i=function(e){null!==d?setTimeout(i,0,e):(d=e,setTimeout(u,0))},a=function(e,t){c=setTimeout(e,t)},n=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}):(h=window.setTimeout,p=window.clearTimeout,void 0!==e&&(f=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&e.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&e.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),g=!1,m=null,y=-1,v=5,_=0,t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(t){0>t||125<t?e.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<t?Math.floor(1e3/t):5},E=new MessageChannel,b=E.port2,E.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();_=e+v;try{m(!0,e)?b.postMessage(null):(g=!1,m=null)}catch(e){throw b.postMessage(null),e}}else g=!1},i=function(e){m=e,g||(g=!0,b.postMessage(null))},a=function(e,i){y=h((function(){e(t.unstable_now())}),i)},n=function(){p(y),y=-1});var A=[],D=[],I=1,S=null,k=3,P=!1,R=!1,O=!1;function N(e){for(var t=w(D);null!==t;){if(null===t.callback)T(D);else{if(!(t.startTime<=e))break;T(D),t.sortIndex=t.expirationTime,x(A,t)}t=w(D)}}function L(e){if(O=!1,N(e),!R)if(null!==w(A))R=!0,i(M);else{var t=w(D);null!==t&&a(L,t.startTime-e)}}function M(e,i){R=!1,O&&(O=!1,n()),P=!0;var o=k;try{for(N(i),S=w(A);null!==S&&(!(S.expirationTime>i)||e&&!t.unstable_shouldYield());){var r=S.callback;if("function"==typeof r){S.callback=null,k=S.priorityLevel;var s=r(S.expirationTime<=i);i=t.unstable_now(),"function"==typeof s?S.callback=s:S===w(A)&&T(A),N(i)}else T(A);S=w(A)}if(null!==S)var l=!0;else{var d=w(D);null!==d&&a(L,d.startTime-i),l=!1}return l}finally{S=null,k=o,P=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,i(M))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return w(A)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var i=k;k=t;try{return e()}finally{k=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=k;k=e;try{return t()}finally{k=i}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(e.sortIndex=r,x(D,e),null===w(A)&&e===w(D)&&(O?n():O=!0,a(L,r-s))):(e.sortIndex=l,x(A,e),R||P||(R=!0,i(M))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var i=k;k=t;try{return e.apply(this,arguments)}finally{k=i}}}})),hc=nc(((e,t)=>{t.exports=uc()})),pc=nc(((t,i)=>{i.exports=function(t){var a={},n=lc(),o=cc(),r=hc();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=60103,c=60106,u=60107,h=60108,p=60114,f=60109,g=60110,m=60112,y=60113,v=60120,_=60115,E=60116,b=60121,x=60129,w=60130,T=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;d=C("react.element"),c=C("react.portal"),u=C("react.fragment"),h=C("react.strict_mode"),p=C("react.profiler"),f=C("react.provider"),g=C("react.context"),m=C("react.forward_ref"),y=C("react.suspense"),v=C("react.suspense_list"),_=C("react.memo"),E=C("react.lazy"),b=C("react.block"),C("react.scope"),x=C("react.debug_trace_mode"),w=C("react.offscreen"),T=C("react.legacy_hidden")}var A="function"==typeof Symbol&&Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function I(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return I(e.type);case b:return I(e._render);case E:t=e._payload,e=e._init;try{return I(e(t))}catch(e){}}return null}function S(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function k(e){if(S(e)!==e)throw Error(s(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=S(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var n=i.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(a=n.return)){i=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===i)return k(n),e;if(o===a)return k(n),t;o=o.sibling}throw Error(s(188))}if(i.return!==a.return)i=n,a=o;else{for(var r=!1,l=n.child;l;){if(l===i){r=!0,i=n,a=o;break}if(l===a){r=!0,a=n,i=o;break}l=l.sibling}if(!r){for(l=o.child;l;){if(l===i){r=!0,i=o,a=n;break}if(l===a){r=!0,a=o,i=n;break}l=l.sibling}if(!r)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}function R(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function O(e,t){for(var i=e.alternate;null!==t;){if(t===e||t===i)return!0;t=t.return}return!1}var N,L=t.getPublicInstance,M=t.getRootHostContext,B=t.getChildHostContext,V=t.prepareForCommit,W=t.resetAfterCommit,F=t.createInstance,H=t.appendInitialChild,U=t.finalizeInitialChildren,G=t.prepareUpdate,z=t.shouldSetTextContent,j=t.createTextInstance,$=t.scheduleTimeout,Y=t.cancelTimeout,q=t.noTimeout,X=t.isPrimaryRenderer,K=t.supportsMutation,J=t.supportsPersistence,Z=t.supportsHydration,Q=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ie=t.beforeActiveInstanceBlur,ae=t.afterActiveInstanceBlur,ne=t.preparePortalMount,oe=t.supportsTestSelectors,re=t.findFiberRoot,se=t.getBoundingRect,le=t.getTextContent,de=t.isHiddenSubtree,ce=t.matchAccessibilityRole,ue=t.setFocusIfFocusable,he=t.setupIntersectionObserver,pe=t.appendChild,fe=t.appendChildToContainer,ge=t.commitTextUpdate,me=t.commitMount,ye=t.commitUpdate,ve=t.insertBefore,_e=t.insertInContainerBefore,Ee=t.removeChild,be=t.removeChildFromContainer,xe=t.resetTextContent,we=t.hideInstance,Te=t.hideTextInstance,Ce=t.unhideInstance,Ae=t.unhideTextInstance,De=t.clearContainer,Ie=t.cloneInstance,Se=t.createContainerChildSet,ke=t.appendChildToContainerChildSet,Pe=t.finalizeContainerChildren,Re=t.replaceContainerChildren,Oe=t.cloneHiddenInstance,Ne=t.cloneHiddenTextInstance,Le=t.canHydrateInstance,Me=t.canHydrateTextInstance,Be=t.isSuspenseInstancePending,Ve=t.isSuspenseInstanceFallback,We=t.getNextHydratableSibling,Fe=t.getFirstHydratableChild,He=t.hydrateInstance,Ue=t.hydrateTextInstance,Ge=t.getNextHydratableInstanceAfterSuspenseInstance,ze=t.commitHydratedContainer,je=t.commitHydratedSuspenseInstance;function $e(e){if(void 0===N)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var Ye=!1;function qe(e,t){if(!e||Ye)return"";Ye=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(e){if(e&&a&&"string"==typeof e.stack){for(var n=e.stack.split("\n"),o=a.stack.split("\n"),r=n.length-1,s=o.length-1;1<=r&&0<=s&&n[r]!==o[s];)s--;for(;1<=r&&0<=s;r--,s--)if(n[r]!==o[s]){if(1!==r||1!==s)do{if(r--,0>--s||n[r]!==o[s])return"\n"+n[r].replace(" at new "," at ")}while(1<=r&&0<=s);break}}}finally{Ye=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$e(e):""}var Xe=[],Ke=-1;function Je(e){return{current:e}}function Ze(e){0>Ke||(e.current=Xe[Ke],Xe[Ke]=null,Ke--)}function Qe(e,t){Ke++,Xe[Ke]=e.current,e.current=t}var et={},tt=Je(et),it=Je(!1),at=et;function nt(e,t){var i=e.type.contextTypes;if(!i)return et;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in i)o[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return null!=(e=e.childContextTypes)}function rt(){Ze(it),Ze(tt)}function st(e,t,i){if(tt.current!==et)throw Error(s(168));Qe(tt,t),Qe(it,i)}function lt(e,t,i){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return i;for(var o in a=a.getChildContext())if(!(o in e))throw Error(s(108,I(t)||"Unknown",o));return n({},i,a)}function dt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,at=tt.current,Qe(tt,e),Qe(it,it.current),!0}function ct(e,t,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=lt(e,t,at),a.__reactInternalMemoizedMergedChildContext=e,Ze(it),Ze(tt),Qe(tt,e)):Ze(it),Qe(it,i)}var ut=null,ht=null;(0,r.unstable_now)();var pt=0,ft=8;function gt(e){if(0!=(1&e))return ft=15,1;if(0!=(2&e))return ft=14,2;if(0!=(4&e))return ft=13,4;var t=24&e;return 0!==t?(ft=12,t):0!=(32&e)?(ft=11,32):0!==(t=192&e)?(ft=10,t):0!=(256&e)?(ft=9,256):0!==(t=3584&e)?(ft=8,t):0!=(4096&e)?(ft=7,4096):0!==(t=4186112&e)?(ft=6,t):0!==(t=62914560&e)?(ft=5,t):67108864&e?(ft=4,67108864):0!=(134217728&e)?(ft=3,134217728):0!==(t=805306368&e)?(ft=2,t):0!=(1073741824&e)?(ft=1,1073741824):(ft=8,e)}function mt(e,t){var i=e.pendingLanes;if(0===i)return ft=0;var a=0,n=0,o=e.expiredLanes,r=e.suspendedLanes,s=e.pingedLanes;if(0!==o)a=o,n=ft=15;else if(0!==(o=134217727&i)){var l=o&~r;0!==l?(a=gt(l),n=ft):0!==(s&=o)&&(a=gt(s),n=ft)}else 0!==(o=i&~r)?(a=gt(o),n=ft):0!==s&&(a=gt(s),n=ft);if(0===a)return 0;if(a=i&((0>(a=31-xt(a))?0:1<<a)<<1)-1,0!==t&&t!==a&&0==(t&r)){if(gt(t),n<=ft)return t;ft=n}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(i=31-xt(t)),a|=e[i],t&=~n;return a}function yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_t(24&~t))?vt(10,t):e;case 10:return 0===(e=_t(192&~t))?vt(8,t):e;case 8:return 0===(e=_t(3584&~t))&&(0===(e=_t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_t(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function _t(e){return e&-e}function Et(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function bt(e,t,i){e.pendingLanes|=t;var a=t-1;e.suspendedLanes&=a,e.pingedLanes&=a,(e=e.eventTimes)[t=31-xt(t)]=i}var xt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(wt(e)/Tt|0)|0},wt=Math.log,Tt=Math.LN2;var Ct=r.unstable_runWithPriority,At=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,It=r.unstable_shouldYield,St=r.unstable_requestPaint,kt=r.unstable_now,Pt=r.unstable_getCurrentPriorityLevel,Rt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Nt=r.unstable_NormalPriority,Lt=r.unstable_LowPriority,Mt=r.unstable_IdlePriority,Bt={},Vt=void 0!==St?St:function(){},Wt=null,Ft=null,Ht=!1,Ut=kt(),Gt=1e4>Ut?kt:function(){return kt()-Ut};function zt(){switch(Pt()){case Rt:return 99;case Ot:return 98;case Nt:return 97;case Lt:return 96;case Mt:return 95;default:throw Error(s(332))}}function jt(e){switch(e){case 99:return Rt;case 98:return Ot;case 97:return Nt;case 96:return Lt;case 95:return Mt;default:throw Error(s(332))}}function $t(e,t){return e=jt(e),Ct(e,t)}function Yt(e,t,i){return e=jt(e),At(e,t,i)}function qt(){if(null!==Ft){var e=Ft;Ft=null,Dt(e)}Xt()}function Xt(){if(!Ht&&null!==Wt){Ht=!0;var e=0;try{var t=Wt;$t(99,(function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}})),Wt=null}catch(t){throw null!==Wt&&(Wt=Wt.slice(e+1)),At(Rt,qt),t}finally{Ht=!1}}}var Kt=l.ReactCurrentBatchConfig;var Jt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Zt=Object.prototype.hasOwnProperty;function Qt(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++)if(!Zt.call(t,i[a])||!Jt(e[i[a]],t[i[a]]))return!1;return!0}function ei(e){switch(e.tag){case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 22:return e=qe(e.type._render,!1);case 1:return e=qe(e.type,!0);default:return""}}function ti(e,t){if(e&&e.defaultProps){for(var i in t=n({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var ii=Je(null),ai=null,ni=null,oi=null;function ri(){oi=ni=ai=null}function si(e,t){e=e.type._context,X?(Qe(ii,e._currentValue),e._currentValue=t):(Qe(ii,e._currentValue2),e._currentValue2=t)}function li(e){var t=ii.current;Ze(ii),e=e.type._context,X?e._currentValue=t:e._currentValue2=t}function di(e,t){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)===t){if(null===i||(i.childLanes&t)===t)break;i.childLanes|=t}else e.childLanes|=t,null!==i&&(i.childLanes|=t);e=e.return}}function ci(e,t){ai=e,oi=ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ha=!0),e.firstContext=null)}function ui(e,t){if(oi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ni){if(null===ai)throw Error(s(308));ni=t,ai.dependencies={lanes:0,firstContext:t,responders:null}}else ni=ni.next=t;return X?e._currentValue:e._currentValue2}var hi=!1;function pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t){if(null!==(e=e.updateQueue)){var i=(e=e.shared).pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}}function yi(e,t){var i=e.updateQueue,a=e.alternate;if(null!==a&&i===(a=a.updateQueue)){var n=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?n=o=r:o=o.next=r,i=i.next}while(null!==i);null===o?n=o=t:o=o.next=t}else n=o=t;return i={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function vi(e,t,i,a){var o=e.updateQueue;hi=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var d=l,c=d.next;d.next=null,null===s?r=c:s.next=c,s=d;var u=e.alternate;if(null!==u){var h=(u=u.updateQueue).lastBaseUpdate;h!==s&&(null===h?u.firstBaseUpdate=c:h.next=c,u.lastBaseUpdate=d)}}if(null!==r){for(h=o.baseState,s=0,u=c=d=null;;){l=r.lane;var p=r.eventTime;if((a&l)===l){null!==u&&(u=u.next={eventTime:p,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var f=e,g=r;switch(l=t,p=i,g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(p,h,l);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=g.payload)?f.call(p,h,l):f))break e;h=n({},h,l);break e;case 2:hi=!0}}null!==r.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[r]:l.push(r))}else p={eventTime:p,lane:l,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===u?(c=u=p,d=h):u=u.next=p,s|=l;if(null===(r=r.next)){if(null===(l=o.shared.pending))break;r=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===u&&(d=h),o.baseState=d,o.firstBaseUpdate=c,o.lastBaseUpdate=u,ho|=s,e.lanes=s,e.memoizedState=h}}function _i(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=i,"function"!=typeof n)throw Error(s(191,n));n.call(a)}}}var Ei=(new o.Component).refs;function bi(e,t,i,a){i=null==(i=i(a,t=e.memoizedState))?t:n({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var xi={isMounted:function(e){return!!(e=e._reactInternals)&&S(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Bo(),n=Vo(e),o=gi(a,n);o.payload=t,null!=i&&(o.callback=i),mi(e,o),Wo(e,n,a)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Bo(),n=Vo(e),o=gi(a,n);o.tag=1,o.payload=t,null!=i&&(o.callback=i),mi(e,o),Wo(e,n,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Bo(),a=Vo(e),n=gi(i,a);n.tag=2,null!=t&&(n.callback=t),mi(e,n),Wo(e,a,i)}};function wi(e,t,i,a,n,o,r){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,r):!t.prototype||!t.prototype.isPureReactComponent||(!Qt(i,a)||!Qt(n,o))}function Ti(e,t,i){var a=!1,n=et,o=t.contextType;return"object"==typeof o&&null!==o?o=ui(o):(n=ot(t)?at:tt.current,o=(a=null!=(a=t.contextTypes))?nt(e,n):et),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xi,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ci(e,t,i,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&xi.enqueueReplaceState(t,t.state,null)}function Ai(e,t,i,a){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=Ei,pi(e);var o=t.contextType;"object"==typeof o&&null!==o?n.context=ui(o):(o=ot(t)?at:tt.current,n.context=nt(e,o)),vi(e,i,n,a),n.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(bi(e,t,o,i),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&xi.enqueueReplaceState(n,n.state,null),vi(e,i,n,a),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4)}var Di=Array.isArray;function Ii(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var n=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===n?t.ref:((t=function(e){var t=a.refs;t===Ei&&(t=a.refs={}),null===e?delete t[n]:t[n]=e})._stringRef=n,t)}if("string"!=typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Si(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,i){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,a){if(!e)return null;for(;null!==a;)t(i,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Tr(e,t)).index=0,e.sibling=null,e}function o(t,i,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<i?(t.flags=2,i):a:(t.flags=2,i):i}function r(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,i,a){return null===t||6!==t.tag?((t=Ir(i,e.mode,a)).return=e,t):((t=n(t,i)).return=e,t)}function h(e,t,i,a){return null!==t&&t.elementType===i.type?((a=n(t,i.props)).ref=Ii(e,t,i),a.return=e,a):((a=Cr(i.type,i.key,i.props,null,e.mode,a)).ref=Ii(e,t,i),a.return=e,a)}function p(e,t,i,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Sr(i,e.mode,a)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function f(e,t,i,a,o){return null===t||7!==t.tag?((t=Ar(i,e.mode,a,o)).return=e,t):((t=n(t,i)).return=e,t)}function g(e,t,i){if("string"==typeof t||"number"==typeof t)return(t=Ir(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return(i=Cr(t.type,t.key,t.props,null,e.mode,i)).ref=Ii(e,null,t),i.return=e,i;case c:return(t=Sr(t,e.mode,i)).return=e,t}if(Di(t)||D(t))return(t=Ar(t,e.mode,i,null)).return=e,t;Si(e,t)}return null}function m(e,t,i,a){var n=null!==t?t.key:null;if("string"==typeof i||"number"==typeof i)return null!==n?null:l(e,t,""+i,a);if("object"==typeof i&&null!==i){switch(i.$$typeof){case d:return i.key===n?i.type===u?f(e,t,i.props.children,a,n):h(e,t,i,a):null;case c:return i.key===n?p(e,t,i,a):null}if(Di(i)||D(i))return null!==n?null:f(e,t,i,a,null);Si(e,i)}return null}function y(e,t,i,a,n){if("string"==typeof a||"number"==typeof a)return l(t,e=e.get(i)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case d:return e=e.get(null===a.key?i:a.key)||null,a.type===u?f(t,e,a.props.children,n,a.key):h(t,e,a,n);case c:return p(t,e=e.get(null===a.key?i:a.key)||null,a,n)}if(Di(a)||D(a))return f(t,e=e.get(i)||null,a,n,null);Si(t,a)}return null}return function(l,h,p,f){var v="object"==typeof p&&null!==p&&p.type===u&&null===p.key;v&&(p=p.props.children);var _="object"==typeof p&&null!==p;if(_)switch(p.$$typeof){case d:e:{for(_=p.key,v=h;null!==v;){if(v.key===_){if(7===v.tag){if(p.type===u){i(l,v.sibling),(h=n(v,p.props.children)).return=l,l=h;break e}}else if(v.elementType===p.type){i(l,v.sibling),(h=n(v,p.props)).ref=Ii(l,v,p),h.return=l,l=h;break e}i(l,v);break}t(l,v),v=v.sibling}p.type===u?((h=Ar(p.props.children,l.mode,f,p.key)).return=l,l=h):((f=Cr(p.type,p.key,p.props,null,l.mode,f)).ref=Ii(l,h,p),f.return=l,l=f)}return r(l);case c:e:{for(v=p.key;null!==h;){if(h.key===v){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){i(l,h.sibling),(h=n(h,p.children||[])).return=l,l=h;break e}i(l,h);break}t(l,h),h=h.sibling}(h=Sr(p,l.mode,f)).return=l,l=h}return r(l)}if("string"==typeof p||"number"==typeof p)return p=""+p,null!==h&&6===h.tag?(i(l,h.sibling),(h=n(h,p)).return=l,l=h):(i(l,h),(h=Ir(p,l.mode,f)).return=l,l=h),r(l);if(Di(p))return function(n,r,s,l){for(var d=null,c=null,u=r,h=r=0,p=null;null!==u&&h<s.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var f=m(n,u,s[h],l);if(null===f){null===u&&(u=p);break}e&&u&&null===f.alternate&&t(n,u),r=o(f,r,h),null===c?d=f:c.sibling=f,c=f,u=p}if(h===s.length)return i(n,u),d;if(null===u){for(;h<s.length;h++)null!==(u=g(n,s[h],l))&&(r=o(u,r,h),null===c?d=u:c.sibling=u,c=u);return d}for(u=a(n,u);h<s.length;h++)null!==(p=y(u,n,h,s[h],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?h:p.key),r=o(p,r,h),null===c?d=p:c.sibling=p,c=p);return e&&u.forEach((function(e){return t(n,e)})),d}(l,h,p,f);if(D(p))return function(n,r,l,d){var c=D(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,h=r,p=r=0,f=null,v=l.next();null!==h&&!v.done;p++,v=l.next()){h.index>p?(f=h,h=null):f=h.sibling;var _=m(n,h,v.value,d);if(null===_){null===h&&(h=f);break}e&&h&&null===_.alternate&&t(n,h),r=o(_,r,p),null===u?c=_:u.sibling=_,u=_,h=f}if(v.done)return i(n,h),c;if(null===h){for(;!v.done;p++,v=l.next())null!==(v=g(n,v.value,d))&&(r=o(v,r,p),null===u?c=v:u.sibling=v,u=v);return c}for(h=a(n,h);!v.done;p++,v=l.next())null!==(v=y(h,n,p,v.value,d))&&(e&&null!==v.alternate&&h.delete(null===v.key?p:v.key),r=o(v,r,p),null===u?c=v:u.sibling=v,u=v);return e&&h.forEach((function(e){return t(n,e)})),c}(l,h,p,f);if(_&&Si(l,p),void 0===p&&!v)switch(l.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,I(l.type)||"Component"))}return i(l,h)}}var Pi=ki(!0),Ri=ki(!1),Oi={},Ni=Je(Oi),Li=Je(Oi),Mi=Je(Oi);function Bi(e){if(e===Oi)throw Error(s(174));return e}function Vi(e,t){Qe(Mi,t),Qe(Li,e),Qe(Ni,Oi),e=M(t),Ze(Ni),Qe(Ni,e)}function Wi(){Ze(Ni),Ze(Li),Ze(Mi)}function Fi(e){var t=Bi(Mi.current),i=Bi(Ni.current);i!==(t=B(i,e.type,t))&&(Qe(Li,e),Qe(Ni,t))}function Hi(e){Li.current===e&&(Ze(Ni),Ze(Li))}var Ui=Je(0);function Gi(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||Be(i)||Ve(i)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=null,ji=null,$i=!1;function Yi(e,t){var i=xr(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function qi(e,t){switch(e.tag){case 5:return null!==(t=Le(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Me(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Xi(e){if($i){var t=ji;if(t){var i=t;if(!qi(e,t)){if(!(t=We(i))||!qi(e,t))return e.flags=-1025&e.flags|2,$i=!1,void(zi=e);Yi(zi,i)}zi=e,ji=Fe(t)}else e.flags=-1025&e.flags|2,$i=!1,zi=e}}function Ki(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function Ji(e){if(!Z||e!==zi)return!1;if(!$i)return Ki(e),$i=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!z(t,e.memoizedProps))for(t=ji;t;)Yi(e,t),t=We(t);if(Ki(e),13===e.tag){if(!Z)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ji=Ge(e)}else ji=zi?We(e.stateNode):null;return!0}function Zi(){Z&&(ji=zi=null,$i=!1)}var Qi=[];function ea(){for(var e=0;e<Qi.length;e++){var t=Qi[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Qi.length=0}var ta=l.ReactCurrentDispatcher,ia=l.ReactCurrentBatchConfig,aa=0,na=null,oa=null,ra=null,sa=!1,la=!1;function da(){throw Error(s(321))}function ca(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Jt(e[i],t[i]))return!1;return!0}function ua(e,t,i,a,n,o){if(aa=o,na=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?Ba:Va,e=i(a,n),la){o=0;do{if(la=!1,!(25>o))throw Error(s(301));o+=1,ra=oa=null,t.updateQueue=null,ta.current=Wa,e=i(a,n)}while(la)}if(ta.current=Ma,t=null!==oa&&null!==oa.next,aa=0,ra=oa=na=null,sa=!1,t)throw Error(s(300));return e}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?na.memoizedState=ra=e:ra=ra.next=e,ra}function pa(){if(null===oa){var e=na.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ra?na.memoizedState:ra.next;if(null!==t)ra=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ra?na.memoizedState=ra=e:ra=ra.next=e}return ra}function fa(e,t){return"function"==typeof t?t(e):t}function ga(e){var t=pa(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var a=oa,n=a.baseQueue,o=i.pending;if(null!==o){if(null!==n){var r=n.next;n.next=o.next,o.next=r}a.baseQueue=n=o,i.pending=null}if(null!==n){n=n.next,a=a.baseState;var l=r=o=null,d=n;do{var c=d.lane;if((aa&c)===c)null!==l&&(l=l.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),a=d.eagerReducer===e?d.eagerState:e(a,d.action);else{var u={lane:c,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};null===l?(r=l=u,o=a):l=l.next=u,na.lanes|=c,ho|=c}d=d.next}while(null!==d&&d!==n);null===l?o=a:l.next=r,Jt(a,t.memoizedState)||(Ha=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=l,i.lastRenderedState=a}return[t.memoizedState,i.dispatch]}function ma(e){var t=pa(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,n=i.pending,o=t.memoizedState;if(null!==n){i.pending=null;var r=n=n.next;do{o=e(o,r.action),r=r.next}while(r!==n);Jt(o,t.memoizedState)||(Ha=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,a]}function ya(e,t,i){var a=t._getVersion;a=a(t._source);var n=X?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==n?e=n===a:(e=e.mutableReadLanes,(e=(aa&e)===e)&&(X?t._workInProgressVersionPrimary=a:t._workInProgressVersionSecondary=a,Qi.push(t))),e)return i(t._source);throw Qi.push(t),Error(s(350))}function va(e,t,i,a){var n=ao;if(null===n)throw Error(s(349));var o=t._getVersion,r=o(t._source),l=ta.current,d=l.useState((function(){return ya(n,t,i)})),c=d[1],u=d[0];d=ra;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,g=h.source;h=h.subscribe;var m=na;return e.memoizedState={refs:p,source:t,subscribe:a},l.useEffect((function(){p.getSnapshot=i,p.setSnapshot=c;var e=o(t._source);if(!Jt(r,e)){e=i(t._source),Jt(u,e)||(c(e),e=Vo(m),n.mutableReadLanes|=e&n.pendingLanes),e=n.mutableReadLanes,n.entangledLanes|=e;for(var a=n.entanglements,s=e;0<s;){var l=31-xt(s),d=1<<l;a[l]|=e,s&=~d}}}),[i,t,a]),l.useEffect((function(){return a(t._source,(function(){var e=p.getSnapshot,i=p.setSnapshot;try{i(e(t._source));var a=Vo(m);n.mutableReadLanes|=a&n.pendingLanes}catch(e){i((function(){throw e}))}}))}),[t,a]),Jt(f,i)&&Jt(g,t)&&Jt(h,a)||((e={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:u}).dispatch=c=La.bind(null,na,e),d.queue=e,d.baseQueue=null,u=ya(n,t,i),d.memoizedState=d.baseState=u),u}function _a(e,t,i){return va(pa(),e,t,i)}function Ea(e){var t=ha();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=La.bind(null,na,e),[t.memoizedState,e]}function ba(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},null===(t=na.updateQueue)?(t={lastEffect:null},na.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function xa(e){return e={current:e},ha().memoizedState=e}function wa(){return pa().memoizedState}function Ta(e,t,i,a){var n=ha();na.flags|=e,n.memoizedState=ba(1|t,i,void 0,void 0===a?null:a)}function Ca(e,t,i,a){var n=pa();a=void 0===a?null:a;var o=void 0;if(null!==oa){var r=oa.memoizedState;if(o=r.destroy,null!==a&&ca(a,r.deps))return void ba(t,i,o,a)}na.flags|=e,n.memoizedState=ba(1|t,i,o,a)}function Aa(e,t){return Ta(516,4,e,t)}function Da(e,t){return Ca(516,4,e,t)}function Ia(e,t){return Ca(4,2,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,i){return i=null!=i?i.concat([e]):null,Ca(4,2,Sa.bind(null,t,e),i)}function Pa(){}function Ra(e,t){var i=pa();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&ca(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Oa(e,t){var i=pa();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&ca(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Na(e,t){var i=zt();$t(98>i?98:i,(function(){e(!0)})),$t(97<i?97:i,(function(){var i=ia.transition;ia.transition=1;try{e(!1),t()}finally{ia.transition=i}}))}function La(e,t,i){var a=Bo(),n=Vo(e),o={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},r=t.pending;if(null===r?o.next=o:(o.next=r.next,r.next=o),t.pending=o,r=e.alternate,e===na||null!==r&&r===na)la=sa=!0;else{if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=r(s,i);if(o.eagerReducer=r,o.eagerState=l,Jt(l,s))return}catch(e){}Wo(e,n,a)}}var Ma={readContext:ui,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useOpaqueIdentifier:da,unstable_isNewReconciler:!1},Ba={readContext:ui,useCallback:function(e,t){return ha().memoizedState=[e,void 0===t?null:t],e},useContext:ui,useEffect:Aa,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,Ta(4,2,Sa.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var i=ha();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=ha();return t=void 0!==i?i(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=La.bind(null,na,e),[a.memoizedState,e]},useRef:xa,useState:Ea,useDebugValue:Pa,useDeferredValue:function(e){var t=Ea(e),i=t[0],a=t[1];return Aa((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=Ea(!1),t=e[0];return xa(e=Na.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,i){var a=ha();return a.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:i},va(a,e,t,i)},useOpaqueIdentifier:function(){if($i){var e=!1,t=ee((function(){throw e||(e=!0,i(te())),Error(s(355))})),i=Ea(t)[1];return 0==(2&na.mode)&&(na.flags|=516,ba(5,(function(){i(te())}),void 0,null)),t}return Ea(t=te()),t},unstable_isNewReconciler:!1},Va={readContext:ui,useCallback:Ra,useContext:ui,useEffect:Da,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Oa,useReducer:ga,useRef:wa,useState:function(){return ga(fa)},useDebugValue:Pa,useDeferredValue:function(e){var t=ga(fa),i=t[0],a=t[1];return Da((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=ga(fa)[0];return[wa().current,e]},useMutableSource:_a,useOpaqueIdentifier:function(){return ga(fa)[0]},unstable_isNewReconciler:!1},Wa={readContext:ui,useCallback:Ra,useContext:ui,useEffect:Da,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Oa,useReducer:ma,useRef:wa,useState:function(){return ma(fa)},useDebugValue:Pa,useDeferredValue:function(e){var t=ma(fa),i=t[0],a=t[1];return Da((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=ma(fa)[0];return[wa().current,e]},useMutableSource:_a,useOpaqueIdentifier:function(){return ma(fa)[0]},unstable_isNewReconciler:!1},Fa=l.ReactCurrentOwner,Ha=!1;function Ua(e,t,i,a){t.child=null===e?Ri(t,null,i,a):Pi(t,e.child,i,a)}function Ga(e,t,i,a,n){i=i.render;var o=t.ref;return ci(t,n),a=ua(e,t,i,a,o,n),null===e||Ha?(t.flags|=1,Ua(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,un(e,t,n))}function za(e,t,i,a,n,o){if(null===e){var r=i.type;return"function"!=typeof r||wr(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Cr(i.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,ja(e,t,r,a,n,o))}return r=e.child,0==(n&o)&&(n=r.memoizedProps,(i=null!==(i=i.compare)?i:Qt)(n,a)&&e.ref===t.ref)?un(e,t,o):(t.flags|=1,(e=Tr(r,a)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,i,a,n,o){if(null!==e&&Qt(e.memoizedProps,a)&&e.ref===t.ref){if(Ha=!1,0==(o&n))return t.lanes=e.lanes,un(e,t,o);0!=(16384&e.flags)&&(Ha=!0)}return qa(e,t,i,a,o)}function $a(e,t,i){var a=t.pendingProps,n=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode||"unstable-defer-without-hiding"===a.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Yo(t,i);else{if(0==(1073741824&i))return e=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Yo(t,e),null;t.memoizedState={baseLanes:0},Yo(t,null!==o?o.baseLanes:i)}else null!==o?(a=o.baseLanes|i,t.memoizedState=null):a=i,Yo(t,a);return Ua(e,t,n,i),t.child}function Ya(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=128)}function qa(e,t,i,a,n){var o=ot(i)?at:tt.current;return o=nt(t,o),ci(t,n),i=ua(e,t,i,a,o,n),null===e||Ha?(t.flags|=1,Ua(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,un(e,t,n))}function Xa(e,t,i,a,n){if(ot(i)){var o=!0;dt(t)}else o=!1;if(ci(t,n),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ti(t,i,a),Ai(t,i,a,n),a=!0;else if(null===e){var r=t.stateNode,s=t.memoizedProps;r.props=s;var l=r.context,d=i.contextType;"object"==typeof d&&null!==d?d=ui(d):d=nt(t,d=ot(i)?at:tt.current);var c=i.getDerivedStateFromProps,u="function"==typeof c||"function"==typeof r.getSnapshotBeforeUpdate;u||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==a||l!==d)&&Ci(t,r,a,d),hi=!1;var h=t.memoizedState;r.state=h,vi(t,a,r,n),l=t.memoizedState,s!==a||h!==l||it.current||hi?("function"==typeof c&&(bi(t,i,c,a),l=t.memoizedState),(s=hi||wi(t,i,s,a,h,l,d))?(u||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.flags|=4)):("function"==typeof r.componentDidMount&&(t.flags|=4),t.memoizedProps=a,t.memoizedState=l),r.props=a,r.state=l,r.context=d,a=s):("function"==typeof r.componentDidMount&&(t.flags|=4),a=!1)}else{r=t.stateNode,fi(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:ti(t.type,s),r.props=d,u=t.pendingProps,h=r.context,"object"==typeof(l=i.contextType)&&null!==l?l=ui(l):l=nt(t,l=ot(i)?at:tt.current);var p=i.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==u||h!==l)&&Ci(t,r,a,l),hi=!1,h=t.memoizedState,r.state=h,vi(t,a,r,n);var f=t.memoizedState;s!==u||h!==f||it.current||hi?("function"==typeof p&&(bi(t,i,p,a),f=t.memoizedState),(d=hi||wi(t,i,d,a,h,f,l))?(c||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(a,f,l),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,f,l)),"function"==typeof r.componentDidUpdate&&(t.flags|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=a,t.memoizedState=f),r.props=a,r.state=f,r.context=l,a=d):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),a=!1)}return Ka(e,t,i,a,o,n)}function Ka(e,t,i,a,n,o){Ya(e,t);var r=0!=(64&t.flags);if(!a&&!r)return n&&ct(t,i,!1),un(e,t,o);a=t.stateNode,Fa.current=t;var s=r&&"function"!=typeof i.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=Pi(t,e.child,null,o),t.child=Pi(t,null,s,o)):Ua(e,t,s,o),t.memoizedState=a.state,n&&ct(t,i,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Vi(e,t.containerInfo)}var Za,Qa,en,tn,an={dehydrated:null,retryLane:0};function nn(e,t,i){var a,n=t.pendingProps,o=Ui.current,r=!1;return(a=0!=(64&t.flags))||(a=(null===e||null!==e.memoizedState)&&0!=(2&o)),a?(r=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(o|=1),Qe(Ui,1&o),null===e?(void 0!==n.fallback&&Xi(t),e=n.children,o=n.fallback,r?(e=on(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=an,e):"number"==typeof n.unstable_expectedLoadTime?(e=on(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=an,t.lanes=33554432,e):((i=Dr({mode:"visible",children:e},t.mode,i,null)).return=t,t.child=i)):(e.memoizedState,r?(n=sn(e,t,n.children,n.fallback,i),r=t.child,o=e.child.memoizedState,r.memoizedState=null===o?{baseLanes:i}:{baseLanes:o.baseLanes|i},r.childLanes=e.childLanes&~i,t.memoizedState=an,n):(i=rn(e,t,n.children,i),t.memoizedState=null,i))}function on(e,t,i,a){var n=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&n)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Dr(t,n,0,null),i=Ar(i,n,a,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i}function rn(e,t,i,a){var n=e.child;return e=n.sibling,i=Tr(n,{mode:"visible",children:i}),0==(2&t.mode)&&(i.lanes=a),i.return=t,i.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=i}function sn(e,t,i,a,n){var o=t.mode,r=e.child;e=r.sibling;var s={mode:"hidden",children:i};return 0==(2&o)&&t.child!==r?((i=t.child).childLanes=0,i.pendingProps=s,null!==(r=i.lastEffect)?(t.firstEffect=i.firstEffect,t.lastEffect=r,r.nextEffect=null):t.firstEffect=t.lastEffect=null):i=Tr(r,s),null!==e?a=Tr(e,a):(a=Ar(a,o,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,a}function ln(e,t){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),di(e.return,t)}function dn(e,t,i,a,n,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:n,lastEffect:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=i,r.tailMode=n,r.lastEffect=o)}function cn(e,t,i){var a=t.pendingProps,n=a.revealOrder,o=a.tail;if(Ua(e,t,a.children,i),0!=(2&(a=Ui.current)))a=1&a|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ln(e,i);else if(19===e.tag)ln(e,i);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Qe(Ui,a),0==(2&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===Gi(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),dn(t,!1,n,i,o,t.lastEffect);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Gi(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}dn(t,!0,i,null,o,t.lastEffect);break;case"together":dn(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function un(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),ho|=t.lanes,0!=(i&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=Tr(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Tr(e,e.pendingProps)).return=t;i.sibling=null}return t.child}return null}function hn(e){e.flags|=4}if(K)Za=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)H(e,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Qa=function(){},en=function(e,t,i,a,n){if((e=e.memoizedProps)!==a){var o=t.stateNode,r=Bi(Ni.current);i=G(o,i,e,a,n,r),(t.updateQueue=i)&&hn(t)}},tn=function(e,t,i,a){i!==a&&hn(t)};else if(J){Za=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var o=n.stateNode;i&&a&&(o=Oe(o,n.type,n.memoizedProps,n)),H(e,o)}else if(6===n.tag)o=n.stateNode,i&&a&&(o=Ne(o,n.memoizedProps,n)),H(e,o);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(o=null!==n.memoizedState)){var r=n.child;if(null!==r&&(null!==r.child&&(r.child.return=r,Za(e,r,!0,o)),null!==(o=r.sibling))){o.return=n,n=o;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};var pn=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var o=n.stateNode;i&&a&&(o=Oe(o,n.type,n.memoizedProps,n)),ke(e,o)}else if(6===n.tag)o=n.stateNode,i&&a&&(o=Ne(o,n.memoizedProps,n)),ke(e,o);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(o=null!==n.memoizedState)){var r=n.child;if(null!==r&&(null!==r.child&&(r.child.return=r,pn(e,r,!0,o)),null!==(o=r.sibling))){o.return=n,n=o;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(e){var t=e.stateNode;if(null!==e.firstEffect){var i=t.containerInfo,a=Se(i);pn(a,e,!1,!1),t.pendingChildren=a,hn(e),Pe(i,a)}},en=function(e,t,i,a,n){var o=e.stateNode,r=e.memoizedProps;if((e=null===t.firstEffect)&&r===a)t.stateNode=o;else{var s=t.stateNode,l=Bi(Ni.current),d=null;r!==a&&(d=G(s,i,r,a,n,l)),e&&null===d?t.stateNode=o:(o=Ie(o,d,i,r,a,t,e,s),U(o,i,a,n,l)&&hn(t),t.stateNode=o,e?hn(t):Za(o,t,!1,!1))}},tn=function(e,t,i,a){i!==a?(e=Bi(Mi.current),i=Bi(Ni.current),t.stateNode=j(a,e,i,t),hn(t)):t.stateNode=e.stateNode}}else Qa=function(){},en=function(){},tn=function(){};function fn(e,t){if(!$i)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function gn(e,t,i){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ot(t.type)&&rt(),null;case 3:return Wi(),Ze(it),Ze(tt),ea(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Ji(t)?hn(t):a.hydrate||(t.flags|=256)),Qa(t),null;case 5:Hi(t);var n=Bi(Mi.current);if(i=t.type,null!==e&&null!=t.stateNode)en(e,t,i,a,n),e.ref!==t.ref&&(t.flags|=128);else{if(!a){if(null===t.stateNode)throw Error(s(166));return null}if(e=Bi(Ni.current),Ji(t)){if(!Z)throw Error(s(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t),t.updateQueue=e,null!==e&&hn(t)}else{var o=F(i,a,n,e,t);Za(o,t,!1,!1),t.stateNode=o,U(o,i,a,n,e)&&hn(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)tn(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(e=Bi(Mi.current),n=Bi(Ni.current),Ji(t)){if(!Z)throw Error(s(176));Ue(t.stateNode,t.memoizedProps,t)&&hn(t)}else t.stateNode=j(a,e,n,t)}return null;case 13:return Ze(Ui),a=t.memoizedState,0!=(64&t.flags)?(t.lanes=i,t):(a=null!==a,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ji(t):n=null!==e.memoizedState,a&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ui.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ao||0==(134217727&ho)&&0==(134217727&po)||Go(ao,oo))),J&&a&&(t.flags|=4),K&&(a||n)&&(t.flags|=4),null);case 4:return Wi(),Qa(t),null===e&&ne(t.stateNode.containerInfo),null;case 10:return li(t),null;case 19:if(Ze(Ui),null===(a=t.memoizedState))return null;if(n=0!=(64&t.flags),null===(o=a.rendering))if(n)fn(a,!1);else{if(0!==lo||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Gi(e))){for(t.flags|=64,fn(a,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,e=i,a=t.child;null!==a;)i=e,(n=a).flags&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return Qe(Ui,1&Ui.current|2),t.child}e=e.sibling}null!==a.tail&&Gt()>yo&&(t.flags|=64,n=!0,fn(a,!1),t.lanes=33554432)}else{if(!n)if(null!==(e=Gi(o))){if(t.flags|=64,n=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),fn(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!$i)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Gt()-a.renderingStartTime>yo&&1073741824!==i&&(t.flags|=64,n=!0,fn(a,!1),t.lanes=33554432);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Gt(),e.sibling=null,t=Ui.current,Qe(Ui,n?1&t|2:1&t),e):null;case 23:case 24:return qo(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function mn(e){switch(e.tag){case 1:ot(e.type)&&rt();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Wi(),Ze(it),Ze(tt),ea(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Hi(e),null;case 13:return Ze(Ui),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ze(Ui),null;case 4:return Wi(),null;case 10:return li(e),null;case 23:case 24:return qo(),null;default:return null}}function yn(e,t){try{var i="",a=t;do{i+=ei(a),a=a.return}while(a);var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:n}}function vn(t,i){try{e.error(i.value)}catch(e){setTimeout((function(){throw e}))}}var _n="function"==typeof WeakMap?WeakMap:Map;function En(e,t,i){(i=gi(-1,i)).tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){bo||(bo=!0,xo=a),vn(0,t)},i}function bn(e,t,i){(i=gi(-1,i)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var n=t.value;i.payload=function(){return vn(0,t),a(n)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(i.callback=function(){"function"!=typeof a&&(null===wo?wo=new Set([this]):wo.add(this),vn(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}var xn="function"==typeof WeakSet?WeakSet:Set;function wn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ur(e,t)}else t.current=null}function Tn(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var i=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:ti(t.type,i),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(K&&256&t.flags&&De(t.stateNode.containerInfo))}throw Error(s(163))}function Cn(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&a()}i=i.next}while(i!==t)}}function An(e,t,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var a=e.create;e.destroy=a()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var n=e;a=n.next,0!=(4&(n=n.tag))&&0!=(1&n)&&(lr(i,e),sr(i,e)),e=a}while(e!==t)}return;case 1:return e=i.stateNode,4&i.flags&&(null===t?e.componentDidMount():(a=i.elementType===i.type?t.memoizedProps:ti(i.type,t.memoizedProps),e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=i.updateQueue)&&_i(i,t,e));case 3:if(null!==(t=i.updateQueue)){if(e=null,null!==i.child)switch(i.child.tag){case 5:e=L(i.child.stateNode);break;case 1:e=i.child.stateNode}_i(i,t,e)}return;case 5:return e=i.stateNode,void(null===t&&4&i.flags&&me(e,i.type,i.memoizedProps,i));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(Z&&null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&je(i)))))}throw Error(s(163))}function Dn(e,t){if(K)for(var i=e;;){if(5===i.tag){var a=i.stateNode;t?we(a):Ce(i.stateNode,i.memoizedProps)}else if(6===i.tag)a=i.stateNode,t?Te(a):Ae(a,i.memoizedProps);else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===e)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function In(e,t){if(ht&&"function"==typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(ut,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var a=i,n=a.destroy;if(a=a.tag,void 0!==n)if(0!=(4&a))lr(t,i);else{a=t;try{n()}catch(e){ur(a,e)}}i=i.next}while(i!==e)}break;case 1:if(wn(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ur(t,e)}break;case 5:wn(t);break;case 4:K?Ln(e,t):J&&J&&(t=t.stateNode.containerInfo,e=Se(t),Re(t,e))}}function Sn(e,t){for(var i=t;;)if(In(e,i),null===i.child||K&&4===i.tag){if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i.child.return=i,i=i.child}function kn(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Pn(e){return 5===e.tag||3===e.tag||4===e.tag}function Rn(e){if(K){e:{for(var t=e.return;null!==t;){if(Pn(t))break e;t=t.return}throw Error(s(160))}var i=t;switch(t=i.stateNode,i.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(s(161))}16&i.flags&&(xe(t),i.flags&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||Pn(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break e}}a?On(e,i,t):Nn(e,i,t)}}function On(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?_e(i,e,t):fe(i,e);else if(4!==a&&null!==(e=e.child))for(On(e,t,i),e=e.sibling;null!==e;)On(e,t,i),e=e.sibling}function Nn(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?ve(i,e,t):pe(i,e);else if(4!==a&&null!==(e=e.child))for(Nn(e,t,i),e=e.sibling;null!==e;)Nn(e,t,i),e=e.sibling}function Ln(e,t){for(var i,a,n=t,o=!1;;){if(!o){o=n.return;e:for(;;){if(null===o)throw Error(s(160));switch(i=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:i=i.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===n.tag||6===n.tag)Sn(e,n),a?be(i,n.stateNode):Ee(i,n.stateNode);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(In(e,n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(o=!1)}n.sibling.return=n.return,n=n.sibling}}function Mn(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Cn(3,t);case 1:case 12:case 17:return;case 5:var i=t.stateNode;if(null!=i){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var n=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ye(i,o,n,e,a,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return i=t.memoizedProps,void ge(t.stateNode,null!==e?e.memoizedProps:i,i);case 3:return void(Z&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,ze(t.containerInfo))));case 13:return Bn(t),void Vn(t);case 19:return void Vn(t);case 23:case 24:return void Dn(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Cn(3,t);case 12:case 23:case 24:return;case 13:return Bn(t),void Vn(t);case 19:return void Vn(t);case 3:Z&&((i=t.stateNode).hydrate&&(i.hydrate=!1,ze(i.containerInfo)))}e:if(J){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Bn(e){null!==e.memoizedState&&(mo=Gt(),K&&Dn(e.child,!0))}function Vn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new xn),t.forEach((function(t){var a=pr.bind(null,e,t);i.has(t)||(i.add(t),t.then(a,a))}))}}function Wn(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Fn=0,Hn=1,Un=2,Gn=3,zn=4;if("function"==typeof Symbol&&Symbol.for){var jn=Symbol.for;Fn=jn("selector.component"),Hn=jn("selector.has_pseudo_class"),Un=jn("selector.role"),Gn=jn("selector.test_id"),zn=jn("selector.text")}function $n(e){var t=Q(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=re(e)))throw Error(s(362));return e.stateNode.current}function Yn(e,t){switch(t.$$typeof){case Fn:if(e.type===t.value)return!0;break;case Hn:e:{t=t.value,e=[e,0];for(var i=0;i<e.length;){var a=e[i++],n=e[i++],o=t[n];if(5!==a.tag||!de(a)){for(;null!=o&&Yn(a,o);)o=t[++n];if(n===t.length){t=!0;break e}for(a=a.child;null!==a;)e.push(a,n),a=a.sibling}}t=!1}return t;case Un:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case zn:if((5===e.tag||6===e.tag)&&null!==(e=le(e))&&0<=e.indexOf(t.value))return!0;break;case Gn:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function qn(e){switch(e.$$typeof){case Fn:return"<"+(I(e.value)||"Unknown")+">";case Hn:return":has("+(qn(e)||"")+")";case Un:return'[role="'+e.value+'"]';case zn:return'"'+e.value+'"';case Gn:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Xn(e,t){var i=[];e=[e,0];for(var a=0;a<e.length;){var n=e[a++],o=e[a++],r=t[o];if(5!==n.tag||!de(n)){for(;null!=r&&Yn(n,r);)r=t[++o];if(o===t.length)i.push(n);else for(n=n.child;null!==n;)e.push(n,o),n=n.sibling}}return i}function Kn(e,t){if(!oe)throw Error(s(363));e=Xn(e=$n(e),t),t=[],e=Array.from(e);for(var i=0;i<e.length;){var a=e[i++];if(5===a.tag)de(a)||t.push(a.stateNode);else for(a=a.child;null!==a;)e.push(a),a=a.sibling}return t}var Jn=null;var Zn=Math.ceil,Qn=l.ReactCurrentDispatcher,eo=l.ReactCurrentOwner,to=l.IsSomeRendererActing,io=0,ao=null,no=null,oo=0,ro=0,so=Je(0),lo=0,co=null,uo=0,ho=0,po=0,fo=0,go=null,mo=0,yo=1/0;function vo(){yo=Gt()+500}var _o,Eo=null,bo=!1,xo=null,wo=null,To=!1,Co=null,Ao=90,Do=[],Io=[],So=null,ko=0,Po=null,Ro=-1,Oo=0,No=0,Lo=null,Mo=!1;function Bo(){return 0!=(48&io)?Gt():-1!==Ro?Ro:Ro=Gt()}function Vo(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zt()?1:2;if(0===Oo&&(Oo=uo),0!==Kt.transition){0!==No&&(No=null!==go?go.pendingLanes:0),e=Oo;var t=4186112&~No;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zt(),0!=(4&io)&&98===e?e=vt(12,Oo):e=vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Oo),e}function Wo(e,t,i){if(50<ko)throw ko=0,Po=null,Error(s(185));if(null===(e=Fo(e,t)))return null;bt(e,t,i),e===ao&&(po|=t,4===lo&&Go(e,oo));var a=zt();1===t?0!=(8&io)&&0==(48&io)?zo(e):(Ho(e,i),0===io&&(vo(),qt())):(0==(4&io)||98!==a&&99!==a||(null===So?So=new Set([e]):So.add(e)),Ho(e,i)),go=e}function Fo(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Ho(e,t){for(var i=e.callbackNode,a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-xt(r),d=1<<l,c=o[l];if(-1===c){if(0==(d&a)||0!=(d&n)){c=t,gt(d);var u=ft;o[l]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=d);r&=~d}if(a=mt(e,e===ao?oo:0),t=ft,0===a)null!==i&&(i!==Bt&&Dt(i),e.callbackNode=null,e.callbackPriority=0);else{if(null!==i){if(e.callbackPriority===t)return;i!==Bt&&Dt(i)}15===t?(i=zo.bind(null,e),null===Wt?(Wt=[i],Ft=At(Rt,Xt)):Wt.push(i),i=Bt):14===t?i=Yt(99,zo.bind(null,e)):(i=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),i=Yt(i,Uo.bind(null,e))),e.callbackPriority=t,e.callbackNode=i}}function Uo(e){if(Ro=-1,No=Oo=0,0!=(48&io))throw Error(s(327));var t=e.callbackNode;if(rr()&&e.callbackNode!==t)return null;var i=mt(e,e===ao?oo:0);if(0===i)return null;var a=i,n=io;io|=16;var o=Jo();for(ao===e&&oo===a||(vo(),Xo(e,a));;)try{er();break}catch(t){Ko(e,t)}if(ri(),Qn.current=o,io=n,null!==no?a=0:(ao=null,oo=0,a=lo),0!=(uo&po))Xo(e,0);else if(0!==a){if(2===a&&(io|=64,e.hydrate&&(e.hydrate=!1,De(e.containerInfo)),0!==(i=yt(e))&&(a=Zo(e,i))),1===a)throw t=co,Xo(e,0),Go(e,i),Ho(e,Gt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,a){case 0:case 1:throw Error(s(345));case 2:case 5:ar(e);break;case 3:if(Go(e,i),(62914560&i)===i&&10<(a=mo+500-Gt())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&i)!==i){Bo(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=$(ar.bind(null,e),a);break}ar(e);break;case 4:if(Go(e,i),(4186112&i)===i)break;for(a=e.eventTimes,n=-1;0<i;){var r=31-xt(i);o=1<<r,(r=a[r])>n&&(n=r),i&=~o}if(i=n,10<(i=(120>(i=Gt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Zn(i/1960))-i)){e.timeoutHandle=$(ar.bind(null,e),i);break}ar(e);break;default:throw Error(s(329))}}return Ho(e,Gt()),e.callbackNode===t?Uo.bind(null,e):null}function Go(e,t){for(t&=~fo,t&=~po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-xt(t),a=1<<i;e[i]=-1,t&=~a}}function zo(e){if(0!=(48&io))throw Error(s(327));if(rr(),e===ao&&0!=(e.expiredLanes&oo)){var t=oo,i=Zo(e,t);0!=(uo&po)&&(i=Zo(e,t=mt(e,t)))}else i=Zo(e,t=mt(e,0));if(0!==e.tag&&2===i&&(io|=64,e.hydrate&&(e.hydrate=!1,De(e.containerInfo)),0!==(t=yt(e))&&(i=Zo(e,t))),1===i)throw i=co,Xo(e,0),Go(e,t),Ho(e,Gt()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e),Ho(e,Gt()),null}function jo(e,t){var i=io;io|=1;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}}function $o(e,t){var i=io;if(0!=(48&i))return e(t);io|=1;try{if(e)return $t(99,e.bind(null,t))}finally{io=i,qt()}}function Yo(e,t){Qe(so,ro),ro|=t,uo|=t}function qo(){ro=so.current,Ze(so)}function Xo(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==q&&(e.timeoutHandle=q,Y(i)),null!==no)for(i=no.return;null!==i;){var a=i;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&rt();break;case 3:Wi(),Ze(it),Ze(tt),ea();break;case 5:Hi(a);break;case 4:Wi();break;case 13:case 19:Ze(Ui);break;case 10:li(a);break;case 23:case 24:qo()}i=i.return}ao=e,no=Tr(e.current,null),oo=ro=uo=t,lo=0,co=null,fo=po=ho=0}function Ko(e,t){for(;;){var i=no;try{if(ri(),ta.current=Ma,sa){for(var a=na.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}sa=!1}if(aa=0,ra=oa=na=null,la=!1,eo.current=null,null===i||null===i.return){lo=1,co=t,no=null;break}e:{var o=e,r=i.return,s=i,l=t;if(t=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var u=0!=(1&Ui.current),h=r;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var g=h.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!u)}}if(p){var m=h.updateQueue;if(null===m){var y=new Set;y.add(d),h.updateQueue=y}else m.add(d);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=gi(-1,1);v.tag=2,mi(s,v)}s.lanes|=1;break e}l=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new _n,l=new Set,_.set(d,l)):void 0===(l=_.get(d))&&(l=new Set,_.set(d,l)),!l.has(s)){l.add(s);var E=hr.bind(null,o,d,s);d.then(E,E)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((I(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=yn(l,s),h=r;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,yi(h,En(0,o,t));break e;case 1:o=l;var b=h.type,x=h.stateNode;if(0==(64&h.flags)&&("function"==typeof b.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===wo||!wo.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,yi(h,bn(h,o,t));break e}}h=h.return}while(null!==h)}ir(i)}catch(e){t=e,no===i&&null!==i&&(no=i=i.return);continue}break}}function Jo(){var e=Qn.current;return Qn.current=Ma,null===e?Ma:e}function Zo(e,t){var i=io;io|=16;var a=Jo();for(ao===e&&oo===t||Xo(e,t);;)try{Qo();break}catch(t){Ko(e,t)}if(ri(),io=i,Qn.current=a,null!==no)throw Error(s(261));return ao=null,oo=0,lo}function Qo(){for(;null!==no;)tr(no)}function er(){for(;null!==no&&!It();)tr(no)}function tr(e){var t=_o(e.alternate,e,ro);e.memoizedProps=e.pendingProps,null===t?ir(e):no=t,eo.current=null}function ir(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(i=gn(i,t,ro)))return void(no=i);if(24!==(i=t).tag&&23!==i.tag||null===i.memoizedState||0!=(1073741824&ro)||0==(4&i.mode)){for(var a=0,n=i.child;null!==n;)a|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=a}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(i=mn(t)))return i.flags&=2047,void(no=i);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(no=t);no=t=e}while(null!==t);0===lo&&(lo=5)}function ar(e){var t=zt();return $t(99,nr.bind(null,e,t)),null}function nr(e,t){do{rr()}while(null!==Co);if(0!=(48&io))throw Error(s(327));var i=e.finishedWork;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null;var a=i.lanes|i.childLanes,n=a,o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;for(var r=e.eventTimes,l=e.expirationTimes;0<o;){var d=31-xt(o),c=1<<d;n[d]=0,r[d]=-1,l[d]=-1,o&=~c}if(null!==So&&0==(24&a)&&So.has(e)&&So.delete(e),e===ao&&(no=ao=null,oo=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,a=i.firstEffect):a=i:a=i.firstEffect,null!==a){n=io,io|=32,eo.current=null,Lo=V(e.containerInfo),Mo=!1,Eo=a;do{try{or()}catch(e){if(null===Eo)throw Error(s(330));ur(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);Lo=null,Eo=a;do{try{for(r=e;null!==Eo;){var u=Eo.flags;if(16&u&&K&&xe(Eo.stateNode),128&u){var h=Eo.alternate;if(null!==h){var p=h.ref;null!==p&&("function"==typeof p?p(null):p.current=null)}}switch(1038&u){case 2:Rn(Eo),Eo.flags&=-3;break;case 6:Rn(Eo),Eo.flags&=-3,Mn(Eo.alternate,Eo);break;case 1024:Eo.flags&=-1025;break;case 1028:Eo.flags&=-1025,Mn(Eo.alternate,Eo);break;case 4:Mn(Eo.alternate,Eo);break;case 8:l=r,o=Eo,K?Ln(l,o):Sn(l,o);var f=o.alternate;kn(o),null!==f&&kn(f)}Eo=Eo.nextEffect}}catch(e){if(null===Eo)throw Error(s(330));ur(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);Mo&&ae(),W(e.containerInfo),e.current=i,Eo=a;do{try{for(u=e;null!==Eo;){var g=Eo.flags;if(36&g&&An(u,Eo.alternate,Eo),128&g){h=void 0;var m=Eo.ref;if(null!==m){var y=Eo.stateNode;if(5===Eo.tag)h=L(y);else h=y;"function"==typeof m?m(h):m.current=h}}Eo=Eo.nextEffect}}catch(e){if(null===Eo)throw Error(s(330));ur(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);Eo=null,Vt(),io=n}else e.current=i;if(To)To=!1,Co=e,Ao=t;else for(Eo=a;null!==Eo;)t=Eo.nextEffect,Eo.nextEffect=null,8&Eo.flags&&((g=Eo).sibling=null,g.stateNode=null),Eo=t;if(0===(a=e.pendingLanes)&&(wo=null),1===a?e===Po?ko++:(ko=0,Po=e):ko=0,i=i.stateNode,ht&&"function"==typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(ut,i,void 0,64==(64&i.current.flags))}catch(e){}if(Ho(e,Gt()),bo)throw bo=!1,e=xo,xo=null,e;return 0!=(8&io)||qt(),null}function or(){for(;null!==Eo;){var e=Eo.alternate;Mo||null===Lo||(0!=(8&Eo.flags)?O(Eo,Lo)&&(Mo=!0,ie()):13===Eo.tag&&Wn(e,Eo)&&O(Eo,Lo)&&(Mo=!0,ie()));var t=Eo.flags;0!=(256&t)&&Tn(e,Eo),0==(512&t)||To||(To=!0,Yt(97,(function(){return rr(),null}))),Eo=Eo.nextEffect}}function rr(){if(90!==Ao){var e=97<Ao?97:Ao;return Ao=90,$t(e,dr)}return!1}function sr(e,t){Do.push(t,e),To||(To=!0,Yt(97,(function(){return rr(),null})))}function lr(e,t){Io.push(t,e),To||(To=!0,Yt(97,(function(){return rr(),null})))}function dr(){if(null===Co)return!1;var e=Co;if(Co=null,0!=(48&io))throw Error(s(331));var t=io;io|=32;var i=Io;Io=[];for(var a=0;a<i.length;a+=2){var n=i[a],o=i[a+1],r=n.destroy;if(n.destroy=void 0,"function"==typeof r)try{r()}catch(e){if(null===o)throw Error(s(330));ur(o,e)}}for(i=Do,Do=[],a=0;a<i.length;a+=2){n=i[a],o=i[a+1];try{var l=n.create;n.destroy=l()}catch(e){if(null===o)throw Error(s(330));ur(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return io=t,qt(),!0}function cr(e,t,i){mi(e,t=En(0,t=yn(i,t),1)),t=Bo(),null!==(e=Fo(e,1))&&(bt(e,1,t),Ho(e,t))}function ur(e,t){if(3===e.tag)cr(e,e,t);else for(var i=e.return;null!==i;){if(3===i.tag){cr(i,e,t);break}if(1===i.tag){var a=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===wo||!wo.has(a))){var n=bn(i,e=yn(t,e),1);if(mi(i,n),n=Bo(),null!==(i=Fo(i,1)))bt(i,1,n),Ho(i,n);else if("function"==typeof a.componentDidCatch&&(null===wo||!wo.has(a)))try{a.componentDidCatch(t,e)}catch(e){}break}}i=i.return}}function hr(e,t,i){var a=e.pingCache;null!==a&&a.delete(t),t=Bo(),e.pingedLanes|=e.suspendedLanes&i,ao===e&&(oo&i)===i&&(4===lo||3===lo&&(62914560&oo)===oo&&500>Gt()-mo?Xo(e,0):fo|=i),Ho(e,t)}function pr(e,t){var i=e.stateNode;null!==i&&i.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zt()?1:2:(0===Oo&&(Oo=uo),0===(t=_t(62914560&~Oo))&&(t=4194304))),i=Bo(),null!==(e=Fo(e,t))&&(bt(e,t,i),Ho(e,i))}_o=function(e,t,i){var a=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||it.current)Ha=!0;else{if(0==(i&a)){switch(Ha=!1,t.tag){case 3:Ja(t),Zi();break;case 5:Fi(t);break;case 1:ot(t.type)&&dt(t);break;case 4:Vi(t,t.stateNode.containerInfo);break;case 10:si(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(i&t.child.childLanes)?nn(e,t,i):(Qe(Ui,1&Ui.current),null!==(t=un(e,t,i))?t.sibling:null);Qe(Ui,1&Ui.current);break;case 19:if(a=0!=(i&t.childLanes),0!=(64&e.flags)){if(a)return cn(e,t,i);t.flags|=64}var n=t.memoizedState;if(null!==n&&(n.rendering=null,n.tail=null,n.lastEffect=null),Qe(Ui,Ui.current),a)break;return null;case 23:case 24:return t.lanes=0,$a(e,t,i)}return un(e,t,i)}Ha=0!=(16384&e.flags)}else Ha=!1;switch(t.lanes=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=nt(t,tt.current),ci(t,i),n=ua(null,t,a,e,n,i),t.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(a)){var o=!0;dt(t)}else o=!1;t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,pi(t);var r=a.getDerivedStateFromProps;"function"==typeof r&&bi(t,a,r,e),n.updater=xi,t.stateNode=n,n._reactInternals=t,Ai(t,a,e,i),t=Ka(null,t,a,!0,o,i)}else t.tag=0,Ua(null,t,n,i),t=t.child;return t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return wr(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===_)return 14}return 2}(n),e=ti(n,e),o){case 0:t=qa(null,t,n,e,i);break e;case 1:t=Xa(null,t,n,e,i);break e;case 11:t=Ga(null,t,n,e,i);break e;case 14:t=za(null,t,n,ti(n.type,e),a,i);break e}throw Error(s(306,n,""))}return t;case 0:return a=t.type,n=t.pendingProps,qa(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 1:return a=t.type,n=t.pendingProps,Xa(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 3:if(Ja(t),a=t.updateQueue,null===e||null===a)throw Error(s(282));if(a=t.pendingProps,n=null!==(n=t.memoizedState)?n.element:null,fi(e,t),vi(t,a,null,i),(a=t.memoizedState.element)===n)Zi(),t=un(e,t,i);else{if((o=(n=t.stateNode).hydrate)&&(Z?(ji=Fe(t.stateNode.containerInfo),zi=t,o=$i=!0):o=!1),o){if(Z&&null!=(e=n.mutableSourceEagerHydrationData))for(n=0;n<e.length;n+=2)o=e[n],r=e[n+1],X?o._workInProgressVersionPrimary=r:o._workInProgressVersionSecondary=r,Qi.push(o);for(i=Ri(t,null,a,i),t.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Ua(e,t,a,i),Zi();t=t.child}return t;case 5:return Fi(t),null===e&&Xi(t),a=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,r=n.children,z(a,n)?r=null:null!==o&&z(a,o)&&(t.flags|=16),Ya(e,t),Ua(e,t,r,i),t.child;case 6:return null===e&&Xi(t),null;case 13:return nn(e,t,i);case 4:return Vi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Pi(t,null,a,i):Ua(e,t,a,i),t.child;case 11:return a=t.type,n=t.pendingProps,Ga(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 7:return Ua(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,r=t.memoizedProps,si(t,o=n.value),null!==r){var l=r.value;if(0===(o=Jt(l,o)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(l,o):1073741823))){if(r.children===n.children&&!it.current){t=un(e,t,i);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var d=l.dependencies;if(null!==d){r=l.child;for(var c=d.firstContext;null!==c;){if(c.context===a&&0!=(c.observedBits&o)){1===l.tag&&((c=gi(-1,i&-i)).tag=2,mi(l,c)),l.lanes|=i,null!==(c=l.alternate)&&(c.lanes|=i),di(l.return,i),d.lanes|=i;break}c=c.next}}else r=10===l.tag&&l.type===t.type?null:l.child;if(null!==r)r.return=l;else for(r=l;null!==r;){if(r===t){r=null;break}if(null!==(l=r.sibling)){l.return=r.return,r=l;break}r=r.return}l=r}}Ua(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,a=(o=t.pendingProps).children,ci(t,i),a=a(n=ui(n,o.unstable_observedBits)),t.flags|=1,Ua(e,t,a,i),t.child;case 14:return o=ti(n=t.type,t.pendingProps),za(e,t,n,o=ti(n.type,o),a,i);case 15:return ja(e,t,t.type,t.pendingProps,a,i);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:ti(a,n),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ot(a)?(e=!0,dt(t)):e=!1,ci(t,i),Ti(t,a,n),Ai(t,a,n,i),Ka(null,t,a,!0,e,i);case 19:return cn(e,t,i);case 23:case 24:return $a(e,t,i)}throw Error(s(156,t.tag))};var fr={current:!1},gr=r.unstable_flushAllWithoutAsserting,mr="function"==typeof gr;function yr(){if(void 0!==gr)return gr();for(var e=!1;rr();)e=!0;return e}function vr(e){try{yr(),function(e){if(null===Jn)try{var t=("require"+Math.random()).slice(0,7);Jn=(i&&i[t]).call(i,"timers").setImmediate}catch(e){Jn=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Jn(e)}((function(){yr()?vr(e):e()}))}catch(t){e(t)}}var _r=0,Er=!1;function br(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,t,i,a){return new br(e,t,i,a)}function wr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tr(e,t){var i=e.alternate;return null===i?((i=xr(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Cr(e,t,i,a,n,o){var r=2;if(a=e,"function"==typeof e)wr(e)&&(r=1);else if("string"==typeof e)r=5;else e:switch(e){case u:return Ar(i.children,n,o,t);case x:r=8,n|=16;break;case h:r=8,n|=1;break;case p:return(e=xr(12,i,t,8|n)).elementType=p,e.type=p,e.lanes=o,e;case y:return(e=xr(13,i,t,n)).type=y,e.elementType=y,e.lanes=o,e;case v:return(e=xr(19,i,t,n)).elementType=v,e.lanes=o,e;case w:return Dr(i,n,o,t);case T:return(e=xr(24,i,t,n)).elementType=T,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f:r=10;break e;case g:r=9;break e;case m:r=11;break e;case _:r=14;break e;case E:r=16,a=null;break e;case b:r=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=xr(r,i,t,n)).elementType=e,t.type=a,t.lanes=o,t}function Ar(e,t,i,a){return(e=xr(7,e,a,t)).lanes=i,e}function Dr(e,t,i,a){return(e=xr(23,e,a,t)).elementType=w,e.lanes=i,e}function Ir(e,t,i){return(e=xr(6,e,null,t)).lanes=i,e}function Sr(e,t,i){return(t=xr(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kr(e,t,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),Z&&(this.mutableSourceEagerHydrationData=null)}function Pr(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=R(t))?null:e.stateNode}function Rr(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Or(e,t){Rr(e,t),(e=e.alternate)&&Rr(e,t)}function Nr(e){return null===(e=R(e))?null:e.stateNode}function Lr(){return null}return a.IsThisRendererActing=fr,a.act=function(t){function i(){_r--,to.current=a,fr.current=n}!1===Er&&(Er=!0,e.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_r++;var a=to.current,n=fr.current;to.current=!0,fr.current=!0;try{var o=jo(t)}catch(e){throw i(),e}if(null!==o&&"object"==typeof o&&"function"==typeof o.then)return{then:function(e,t){o.then((function(){1<_r||!0===mr&&!0===a?(i(),e()):vr((function(a){i(),a?t(a):e()}))}),(function(e){i(),t(e)}))}};try{1!==_r||!1!==mr&&!1!==a||yr(),i()}catch(e){throw i(),e}return{then:function(e){e()}}},a.attemptContinuousHydration=function(e){13===e.tag&&(Wo(e,67108864,Bo()),Or(e,67108864))},a.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Bo(),i=Vo(e);Wo(e,i,t),Or(e,i)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var i=gt(t.pendingLanes);t.expiredLanes|=i&t.pendingLanes,Ho(t,Gt()),0==(48&io)&&(vo(),qt())}break;case 13:var a=Bo();$o((function(){return Wo(e,1,a)})),Or(e,4)}},a.attemptUserBlockingHydration=function(e){13===e.tag&&(Wo(e,4,Bo()),Or(e,4))},a.batchedEventUpdates=function(e,t){var i=io;io|=2;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}},a.batchedUpdates=jo,a.createComponentSelector=function(e){return{$$typeof:Fn,value:e}},a.createContainer=function(e,t,i){return e=new kr(e,t,i),t=xr(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pi(t),e},a.createHasPsuedoClassSelector=function(e){return{$$typeof:Hn,value:e}},a.createPortal=function(e,t,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==a?null:""+a,children:e,containerInfo:t,implementation:i}},a.createRoleSelector=function(e){return{$$typeof:Un,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Gn,value:e}},a.createTextSelector=function(e){return{$$typeof:zn,value:e}},a.deferredUpdates=function(e){return $t(97,e)},a.discreteUpdates=function(e,t,i,a,n){var o=io;io|=4;try{return $t(98,e.bind(null,t,i,a,n))}finally{0===(io=o)&&(vo(),qt())}},a.findAllNodes=Kn,a.findBoundingRects=function(e,t){if(!oe)throw Error(s(363));t=Kn(e,t),e=[];for(var i=0;i<t.length;i++)e.push(se(t[i]));for(t=e.length-1;0<t;t--)for(var a=(i=e[t]).x,n=a+i.width,o=i.y,r=o+i.height,l=t-1;0<=l;l--)if(t!==l){var d=e[l],c=d.x,u=c+d.width,h=d.y,p=h+d.height;if(a>=c&&o>=h&&n<=u&&r<=p){e.splice(t,1);break}if(!(a!==c||i.width!==d.width||p<o||h>r)){h>o&&(d.height+=h-o,d.y=o),p<r&&(d.height=r-h),e.splice(t,1);break}if(!(o!==h||i.height!==d.height||u<a||c>n)){c>a&&(d.width+=c-a,d.x=a),u<n&&(d.width=n-c),e.splice(t,1);break}}return e},a.findHostInstance=Pr,a.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},a.findHostInstanceWithWarning=function(e){return Pr(e)},a.flushControlled=function(e){var t=io;io|=1;try{$t(99,e)}finally{0===(io=t)&&(vo(),qt())}},a.flushDiscreteUpdates=function(){0==(49&io)&&(function(){if(null!==So){var e=So;So=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ho(e,Gt())}))}qt()}(),rr())},a.flushPassiveEffects=rr,a.flushSync=$o,a.focusWithin=function(e,t){if(!oe)throw Error(s(363));for(t=Xn(e=$n(e),t),t=Array.from(t),e=0;e<t.length;){var i=t[e++];if(!de(i)){if(5===i.tag&&ue(i.stateNode))return!0;for(i=i.child;null!==i;)t.push(i),i=i.sibling}}return!1},a.getCurrentUpdateLanePriority=function(){return pt},a.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(s(363));var i=0,a=[];e=[$n(e),0];for(var n=0;n<e.length;){var o=e[n++],r=e[n++],l=t[r];if((5!==o.tag||!de(o))&&(Yn(o,l)&&(a.push(qn(l)),++r>i&&(i=r)),r<t.length))for(o=o.child;null!==o;)e.push(o,r),o=o.sibling}if(i<t.length){for(e=[];i<t.length;i++)e.push(qn(t[i]));return"findAllNodes was able to match part of the selector:\n  "+a.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},a.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Nr,findFiberByHostInstance:e.findFiberByHostInstance||Lr,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ut=t.inject(e),ht=t}catch(e){}e=!0}return e},a.observeVisibleRects=function(e,t,i,a){if(!oe)throw Error(s(363));e=Kn(e,t);var n=he(e,i,a).disconnect;return{disconnect:function(){n()}}},a.registerMutableSourceForHydration=function(e,t){var i=t._getVersion;i=i(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)},a.runWithPriority=function(e,t){var i=pt;try{return pt=e,t()}finally{pt=i}},a.shouldSuspend=function(){return!1},a.unbatchedUpdates=function(e,t){var i=io;io&=-2,io|=8;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}},a.updateContainer=function(e,t,i,a){var n=t.current,o=Bo(),r=Vo(n);e:if(i){t:{if(S(i=i._reactInternals)!==i||1!==i.tag)throw Error(s(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===i.tag){var d=i.type;if(ot(d)){i=lt(i,d,l);break e}}i=l}else i=et;return null===t.context?t.context=i:t.pendingContext=i,(t=gi(o,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),mi(n,t),Wo(n,r,o),r},a}})),fc=nc(((e,t)=>{t.exports=pc()})),gc=oc(cc()),mc=oc(fc()),yc=/([+-]?\d+(?:\.\d+)?)apx/g,vc=/^\s*#[0-9a-fA-F]{3}\s*$/,_c=/^\s*#[0-9a-fA-F]{3,6}\s*$/,Ec=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,bc=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,xc=/px$/,wc=(e,t)=>{return!1===t||"number"==typeof e?e:xc.test(e)?Number(e.replace(xc,""))||0:(i=e,Number(i).toString()===i?parseInt(e,10):e);var i},Tc=e=>{if("string"==typeof e&&vc.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},Cc=(e={},{removePx:t,splitShorthand:i=!1,convertRgbaColor:a=!1,convertDisplayName:n=!1,convertRotate:o=!0,ignorePositionStatic:r=!1}={})=>{var s={};for(var l of Object.keys(e)){var d=e[l];if(i&&["padding","margin"].includes(l)){var c=Array.isArray(d)?d:(null==d?"":d).toString().split(/\s+/),u=null,h=null,p=null,f=null;switch(c.length){case 0:default:continue;case 1:[u]=c,[h]=c,[p]=c,[f]=c;break;case 2:[u,h]=c,[p,f]=c;break;case 3:[u,h,p]=c,f=h;break;case 4:[u,f,p,h]=c}Object.assign(s,{[`${l}Top`]:wc(u,t),[`${l}Left`]:wc(h,t),[`${l}Bottom`]:wc(p,t),[`${l}Right`]:wc(f,t)})}else if(i&&"border"===l){var g=(d||"").toString().split(/\s+/);switch(g.length){case 0:default:continue;case 1:s.borderColor=Tc(g[0]);continue;case 2:s.borderWidth=wc(g[0],t),s.borderColor=Tc(g[1]);continue;case 3:s.borderWidth=wc(g[0],t),s.borderColor=Tc(g[2]);continue}}else if(i&&"background"===l&&_c.test(e[l]))s.backgroundColor=Tc(e[l]);else if(i&&"background"===l&&(Ec.test(e[l])||bc.test(e[l])))s.backgroundColor=e[l];else if(i&&"background"===l&&e[l].includes("linear-gradient"))s.backgroundColor=e[l];else if(a&&"color"===l&&"string"==typeof d&&bc.test(d)){var[m,y,v,_]=bc.exec(d).slice(1,5).map((e=>Number(e))),E=e=>e.toString(16);s.color=`#${E(m)}${E(y)}${E(v)}`,null==e.opacity&&(s.opacity=Number(_))}else if(n&&"display"===l)s.hidden="none"===e[l];else if(o&&"rotate"===l){var b=e[l];s.rotate="string"==typeof b?Number(b.replace("deg",""))||0:b}else r&&"position"===l&&"static"===e[l]||(s[l]=Tc(wc(e[l],t)))}return s},Ac=e=>{if(!(null==e?void 0:e.dataset))return{templateId:"",id:"",preventMask:!1};return["templateId","id","preventMask"].reduce(((t,i)=>(e.dataset[i]&&(t[i]=e.dataset[i]),t)),{})};var Dc={type:"EOF"},Ic=e=>{for(var t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",Dc),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(Dc)}},i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},Sc=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,kc=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Pc=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),Rc=e=>{var t;t="string"==typeof e?Ic(e):e;for(var i=[Sc({type:"ROOT"})],a=e=>{for(var t=e.priority;kc(i[i.length-1])&&Pc(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=Sc(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(kc(n))return;Pc(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?kc(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},o=0,r=t.length;o<r;o++)n(t[o]);return i},Oc=({type:e,children:t,operator:i},a,n={})=>{var o=e=>Oc(t[e],a,n);if("COMPARE"===e){var r=i&&{">":()=>o(0)>o(1),"<":()=>o(0)<o(1),">=":()=>o(0)>=o(1),"<=":()=>o(0)<=o(1),"==":()=>o(0)==o(1),"!=":()=>o(0)!=o(1),"===":()=>o(0)===o(1)}[i];return r?r():null}if("LOGIC"===e){var s=i&&{"&&":()=>o(0)&&o(1),"||":()=>o(0)||o(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>o(0)?o(1):o(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),o=e.substring(a+1,e.length-1);if(!i[n])return null;for(var r=Ic(o),s=[],l=[],d=0,c=r.length;d<c;d++){var u=r[d];"COMMA"===u.type||"EOF"===u.type?(s.push(l),l=[]):l.push(u)}var h=[];return s.forEach((e=>{h.push(Lc(e,t,i))})),i[n].apply(null,h)})(t[0],a,n)},d=l[e]||null;return d?d():null},Nc=e=>({"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toArray":(...e)=>e,"#toString":e=>String(e),"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#join":(e,t)=>null==e?void 0:e.join(t),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":Ou,"#slice":(e,t,i)=>e.slice(t,i),"#map":(t,i)=>t.map((t=>e.run(i,{$item:t}))),"#reduce":(t,i,a)=>t.reduce(((t,a)=>e.run(i,{$item1:t,$item2:a})),a),"#rand":()=>Math.random(),"#compareVersion":(e,t)=>function(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var r=parseInt(i[o],10),s=parseInt(a[o],10);if(r>s)return 1;if(r<s)return-1}return 0}(e,t)}),Lc=(e,t,i)=>{try{var a=Rc(e);return Oc(a[1],t,ac(ac({},Nc({run:(e,a={})=>Lc(e,ac(ac({},t),a),i)})),i))}catch(e){}return null},Mc=class extends g{},Bc=e=>e&&"object"==typeof e&&!Array.isArray(e);function Vc(e,...t){if(!t.length)return e;var i=t.shift();if(Bc(e)&&Bc(i))for(var a of Object.keys(i))Bc(i[a])?(e[a]||Object.assign(e,{[a]:{}}),Vc(e[a],i[a])):Object.assign(e,{[a]:i[a]});return Vc(e,...t)}var Wc,Fc,Hc,Uc,Gc,zc,jc,$c,Yc,qc,Xc,Kc,Jc,Zc,Qc,eu,tu,iu,au,nu,ou,ru,su,lu,du,cu,uu,hu,pu,fu,gu,mu,yu,vu,_u,Eu,bu,xu,wu,Tu,Cu,Au,Du,Iu,Su,ku,Pu,Ru,Ou=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,o=0;n&&o<a.length;)n=n[a[o]],o+=1;return n||i},Nu=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var o=a||(i?Ou(e,i):"");if(o)return o}return null},Lu=e=>e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),Mu=oc(cc()),Bu=oc(cc()),Vu=oc(cc());(Fc=Wc||(Wc={})).HIDEAD="hideAd",Fc.SETSTYLE="setStyle",Fc.REPORTIDKEY="reportIdKey",Fc.TRIGGEREVENT="triggerEvent",Fc.SETEXPRVARS="setExprVar",Fc.BATCHSETEXPRVARS="batchSetExprVar",Fc.VIDEOTOGGLEMUTED="videoToggleMuted",Fc.VIDEOPLAY="videoPlay",Fc.VIDEOPAUSE="videoPause",Fc.VIDEOSTOP="videoStop",Fc.BUTTONSETTEXT="buttonSetText",Fc.RELOADAD="reloadAd",Fc.REPORTMMDATA="reportMMData",Fc.ENDPAGEHIDE="endPageHide",Fc.IMAGESETSRC="imageSetSrc",Fc.TEXTSETTEXT="textSetText",Fc.ANIMATE="animate",Fc.TRIGGERBTNCLICK="triggerBtnClick",Fc.CHANGEMULTISHOW="changeMultiShow",Fc.LANDAD="landAd",Fc.EMITCUSTOMMESSAGE="emitCustomMessage",Fc.SPLASHSKIPAD="splashSkipAd",Fc.ADDCHILDREN="addChildren",Fc.REPORTADMONITORDATA="reportAdMonitorData",Fc.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",Fc.REPORTENDPAGE="reportEndPage",Fc.SHOWANIMATEDONE="showAnimateDone",Fc.HIDEANIMATEDONE="hideAnimateDone",Fc.FORCEREBUILD="forceRebuild",Fc.CHANGEIFRAMESIZE="changeIframeSize",Fc.CHANGEADAREASTYLE="changeAdAreaStyle",Fc.TRIGGERCOMPONENTEVENT="triggerComponentEvent",(Uc=Hc||(Hc={})).TAP="tap",Uc.ANIMATIONEND="animationend",Uc.HOSTMESSAGE="hostMessage",Uc.TEMPLATEWILLUPDATE="templateWillUpdate",(zc=Gc||(Gc={})).APPENTERFOREGROUND="appEnterForeground",zc.APPENTERBACKGROUND="appEnterBackground",zc.CONTAINERTAP="containerTap",zc.ADBUTTONTAP="adButtonTap",zc.VIEWABLEEXPOSURE="viewableExposure",zc.EXPOSURE="exposure",zc.SHOWEDGE="showEdge",zc.HIDEEDGE="hideEdge",zc.SHOWHALF="showhalf",zc.HIDEHALF="hidehalf",zc.SHOWANIMATE="showAnimate",zc.HIDEANIMATE="hideAnimate",zc.SPLASHADFIRSTRENDER="splashAdFirstRender",zc.SPLASHADMENUVIEW="splashAdMenuView",zc.INITIALTEMPLATE="initialTemplate",(jc||(jc={})).BUTTONTAP="buttonTap",($c||($c={})).RELATIONFETCHED="relationFetched",(qc=Yc||(Yc={})).VIDEOENDED="videoEnded",qc.VIDEOPAUSE="videoPause",qc.VIDEOPLAY="videoPlay",qc.VIDEOTIMEUPDATE="videoTimeUpdate",qc.MUTEDCHANGE="mutedChange",qc.VIDEOLOADEDMETADATA="videoLoadedMetaData",(Kc=Xc||(Xc={})).FEEDBACKBTNTAP="feedbackBtnTap",Kc.TAGTAP="tagTap",Kc.DISLIKETAP="dislikeTap",Kc.DISLIKEREASONTAP="dislikeReasonTap",(Zc=Jc||(Jc={})).REPLAY="replay",Zc.SHOW="show",Zc.HIDE="hide",Zc.VIDEODISLIKE="videodislike",(eu=Qc||(Qc={})).SHOWCHANGE="showChange",eu.UNITTAP="unitTap",(iu=tu||(tu={})).REWARDEDVIDEOPLAY="rewardedVideoPlay",iu.REWARDEDVIDEOEND="rewardedVideoEnd",iu.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",iu.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",iu.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone",(au||(au={})).IMGERROR="imgError",nu||(nu={}),(ru=ou||(ou={})).FEEDBACKBTNTAP="feedbackBtnTap",ru.FEEDBACKREPORT="feedbackReport",ru.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",ru.SHOWFEEDBACK="showFeedback",ru.CONTAINERTAP="containerTap",ru.CHECKEXPOSURE="checkExposure",ru.APPENTERBACKGROUND="appEnterBackground",ru.APPENTERFOREGROUND="appEnterForeground",ru.CHANGEIFRAMESIZE="changeIframeSize",ru.CHANGEADAREASTYLE="changeAdAreaStyle",ru.BTNTAP="btnTap",ru.REPORTVIDEOPLAY="reportVideoPlay",ru.ADVIDEOPAUSE="adVideoPause",ru.ADVIDEOPLAY="adVideoPlay",ru.ADVIDEOMUTECHANGE="adVideoMuteChange",ru.ADVIDEOLOADFAILED="adVideoLoadFailed",ru.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",ru.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",ru.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",ru.ADVIDEOENDED="adVideoEnded",ru.FETCHRELATIONTEXT="fetchRelationText",ru.ENDPAGEINIT="endPageInit",ru.ENDPAGEHIDE="endPageHide",ru.ENDPAGESHOW="endPageShow",ru.SHOWENDPAGE="showEndPage",ru.REPORTENDPAGE="reportEndPage",ru.HIDEAD="hideAd",ru.REPORTTIMEPOINT="reportTimePoint",ru.FEEDBACKHIDE="feedbackHide",ru.TRIGGEREVENT="triggerEvent",ru.LANDAD="landAd",ru.CHANGEMULTISHOW="changeMultiShow",ru.REPORTMMDATA="reportMMData",ru.REPORTADMONITORDATA="reportAdMonitorData",ru.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",ru.TEMPLATEMESSAGE="templateMessage",ru.REPORTIDKEY="reportIdKey",ru.CHANGEADBTNTEXT="changedAdBtnText",ru.CHANGERELATIONTEXT="changeRelationText",ru.ADSHOWEDGE="adShowEdge",ru.ADHIDEEDGE="adHideEdge",ru.ADSHOWHALF="adShowHalf",ru.ADHIDEHALF="adHideHalf",ru.SETSTYLE="setStyle",ru.SETDARKMODE="setDarkMode",ru.OPERATEADVIDEO="operateAdVideo",ru.CHANGECOUNTDOWN="changeCountdown",ru.SPLASHSKIPAD="splashSkipAd",ru.EXPOSURE="exposure",ru.VIEWABLEEXPOSURE="viewableExposure",ru.HOSTMESSAGE="hostMessage",ru.UPDATECHANNELSTATUS="updateChannelStatus",(lu=su||(su={}))[lu.COMMON=1]="COMMON",lu[lu.FULLSCREEN=2]="FULLSCREEN",(cu=du||(du={}))[cu.COMMON=1]="COMMON",cu[cu.ROW=2]="ROW",cu[cu.COLUMN=3]="COLUMN",cu[cu.PROPORTION=4]="PROPORTION",(hu=uu||(uu={}))[hu.COMMON=1]="COMMON",hu[hu.ICON=2]="ICON",hu[hu.AD=3]="AD",(fu=pu||(pu={}))[fu.COMMON=1]="COMMON",fu[fu.NICKNAME=2]="NICKNAME",fu[fu.DESC=3]="DESC",fu[fu.RELATION=4]="RELATION",(mu=gu||(gu={}))[mu.COMMON=1]="COMMON",mu[mu.LOGICCOMMON=2]="LOGICCOMMON",(vu=yu||(yu={}))[vu.COMMON=1]="COMMON",vu[vu.AD=2]="AD",(Eu=_u||(_u={}))[Eu.COMMON=1]="COMMON",Eu[Eu.SIMPLE=2]="SIMPLE",Eu[Eu.SINGLETAG=3]="SINGLETAG",(xu=bu||(bu={}))[xu.COMMON=1]="COMMON",(Tu=wu||(wu={}))[Tu.COMMON=1]="COMMON",(Au=Cu||(Cu={}))[Au.NONE=0]="NONE",Au[Au.COMMON=1]="COMMON",Au[Au.ADS=2]="ADS",(Iu=Du||(Du={}))[Iu.NONE=0]="NONE",Iu[Iu.ROWLOOP=1]="ROWLOOP",Iu[Iu.COLUMNLOOP=2]="COLUMNLOOP",(ku=Su||(Su={}))[ku.NONE=0]="NONE",ku[ku.COMMOM=1]="COMMOM",(Ru=Pu||(Pu={})).BASE="base",Ru.COMPONENT="component",Ru.HOC="hoc";var Wu,Fu,Hu,Uu,Gu,zu,ju,$u,Yu,qu,Xu=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"];(Fu=Wu||(Wu={})).INNERSTYLE="innerStyle",Fu.STYLE="style",(Uu=Hu||(Hu={}))[Uu.PIC_TIME5=555]="PIC_TIME5",Uu[Uu.VIDEO_TIME15=1515]="VIDEO_TIME15",Uu[Uu.APP_VIDEO=538]="APP_VIDEO",Uu[Uu.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",Uu[Uu.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",Uu[Uu.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",Uu[Uu.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",Uu[Uu.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",Uu[Uu.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",Uu[Uu.CRT_SIZE_IN_TEXT_DESC_CARD=841]="CRT_SIZE_IN_TEXT_DESC_CARD",Uu[Uu.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",Uu[Uu.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",Uu[Uu.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",Uu[Uu.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",Uu[Uu.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",Uu[Uu.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",Uu[Uu.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",Uu[Uu.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",Uu[Uu.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",Uu[Uu.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916",(zu=Gu||(Gu={}))[zu.ANDROID=12]="ANDROID",zu[zu.IOS=19]="IOS",zu[zu.WE_CHAT=23]="WE_CHAT",zu[zu.MINI_GAME=46]="MINI_GAME",zu[zu.WE_CHAT_CARD=36]="WE_CHAT_CARD",zu[zu.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",zu[zu.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",zu[zu.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",zu[zu.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",zu[zu.WE_CHAT_APP=38]="WE_CHAT_APP",zu[zu.LBS=37]="LBS",zu[zu.LEAD_AD=43]="LEAD_AD",zu[zu.CHANNELS=51]="CHANNELS",zu[zu.JD_URL=25]="JD_URL",($u=ju||(ju={}))[$u.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",$u[$u.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",$u[$u.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",$u[$u.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",$u[$u.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",$u[$u.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",$u[$u.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",$u[$u.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",$u[$u.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",$u[$u.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY",(qu=Yu||(Yu={}))[qu.DEST_TYPE_AD=0]="DEST_TYPE_AD",qu[qu.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",qu[qu.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",qu[qu.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",qu[qu.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",qu[qu.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",qu[qu.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",qu[qu.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",qu[qu.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",qu[qu.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",qu[qu.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE",qu[qu.DEST_TYPE_CHANNELS_HALF_CARD=104]="DEST_TYPE_CHANNELS_HALF_CARD",qu[qu.DEST_TYPE_ONEKEY_ATTENTION=40024]="DEST_TYPE_ONEKEY_ATTENTION";var Ku={},Ju=class extends Vu.Component{constructor(e,t){super(e),this.style={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.handleStyleType=[Wu.INNERSTYLE],this.componentBehavior=Pu.COMPONENT,this.state={},this.handleAdCustomAction=e=>{var t,i;e.targetidReg?(null==(i=(t=e.targetidReg).test)?void 0:i.call(t,this.id))&&this.doCommonAction(e):e.targetid&&e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||Cu.NONE,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,(null==t?void 0:t.componentBehavior)&&(this.componentBehavior=t.componentBehavior);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent;var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,[Pu.COMPONENT].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onInit")}componentWillUnmount(){[Pu.COMPONENT].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){[Pu.COMPONENT,Pu.BASE].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),this.componentBehavior===Pu.COMPONENT&&this.addAdCustomListener((e=>{if(e.action===ou.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i===this.id&&this.setStyle(t,a,{isDynamic:!0,force:!0})}else e.action===ou.HOSTMESSAGE&&this.emitComponentEvent(Hc.HOSTMESSAGE,e.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return this.forType===Cu.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){var t=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))};this.adCustomListeners.add(t),this.emitter.on("adCustomEvent",t)}removeAdCustomListener(){for(var e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];(null==i?void 0:i.length)&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];(null==i?void 0:i.length)&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)if(i.force&&!i.targetid)this.doCommonAction({args:t,payload:i});else{var a=this.getDataValue("targetid",i),n=this.getDataValue("targetidReg",i),o=null;try{n&&(o=new RegExp(n))}catch(e){o=null}this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a?`${this.adCustomId}-${a}`:this.id,targetidReg:o,args:t,payload:i})}}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=null,expr:n}=t,o=()=>{var a,o,r;if(!n||this.run(n,i))if(this.componentBehavior!==Pu.BASE)switch(t.action){case Wc.SETSTYLE:var{value:s}=t;if(s.styleExpr)for(var l of Object.keys(s.styleExpr))s.style[l]=this.run(s.styleExpr[l],i);var d=null==(a=s.force)||a;s.forceExpr&&(d=null==(o=this.run(s.forceExpr,i))||o),this.setStyle(s.id,s.style,{isDynamic:!0,force:d});break;case Wc.SETEXPRVARS:var{key:c}=t.value,u=this.getDataValue("value",t.value,{args:i});this.getExprInnerVars()[c]=u;break;case Wc.REPORTIDKEY:var{id:h,key:p}=t.value;this.emitAdCustomEvent(ou.REPORTIDKEY,{id:h,key:p});break;case Wc.BATCHSETEXPRVARS:var{list:f}=t.value;for(var g of f){var{key:m}=g,y=this.getDataValue("value",g);this.getExprInnerVars()[m]=y}break;case Wc.TRIGGEREVENT:var{detail:v={},eventName:_}=t.value;try{if((null==i?void 0:i.event)&&(v.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var E of Object.keys(t.value.detailExpr)){var b=t.value.detailExpr[E];v[E]=this.run(b,i)}}catch(e){}this.emitAdCustomEvent(ou.TRIGGEREVENT,{eventName:_,detail:v});break;case Wc.REPORTMMDATA:var{data:x,dataExpr:w,id:T}=t.value;if(w)for(var C of Object.keys(w)){var A=w[C];x[C]=this.run(A,i)}this.emitAdCustomEvent(ou.REPORTMMDATA,{id:T,data:x});break;case Wc.ANIMATE:var{id:D,animation:I}=t.value;this.doAnimation({id:D,animationName:I});break;case Wc.TRIGGERBTNCLICK:var S=null==i?void 0:i.event;S&&this.emitAdCustomEvent(ou.BTNTAP,{event:S});break;case Wc.LANDAD:var k=null==i?void 0:i.event;k&&this.emitAdCustomEvent(ou.LANDAD,{index:this.getDataValueWithDefault("index",0,t.value,{args:i}),event:k});break;case Wc.SPLASHSKIPAD:var P=null==i?void 0:i.event;P&&this.emitAdCustomEvent(ou.SPLASHSKIPAD,{event:P});break;case Wc.REPORTADMONITORDATA:var{id:R,key:O,extInfo:N}=t.value;this.emitAdCustomEvent(ou.REPORTADMONITORDATA,{id:R,key:O,extInfo:this.getObjExpr(N)});break;case Wc.REWARDEDVIDEODYNAMIC:var{list:L}=t.value;this.emitAdCustomEvent(ou.REWARDEDVIDEODYNAMIC,{list:L});break;case Wc.EMITCUSTOMMESSAGE:var{message:M,args:B}=t.value;M&&this.emitAdCustomEvent(ou.TEMPLATEMESSAGE,{message:M,args:this.getObjExpr(B),actionArgs:i});break;case Wc.REPORTENDPAGE:var{data:V}=t.value;this.emitAdCustomEvent(ou.REPORTENDPAGE,{data:V});break;case Wc.CHANGEIFRAMESIZE:"value"in t?this.emitAdCustomEvent(ou.CHANGEIFRAMESIZE,{data:null==(r=t.value)?void 0:r.data}):this.emitAdCustomEvent(ou.CHANGEIFRAMESIZE);break;case Wc.CHANGEADAREASTYLE:var{data:W}=t.value;if(t.value.dataExpr)for(var F of Object.keys(t.value.dataExpr)){var H=t.value.dataExpr[F];W[F]=this.run(H,i)}this.emitAdCustomEvent(ou.CHANGEADAREASTYLE,{data:W});break;case Wc.TRIGGERCOMPONENTEVENT:var{eventName:U,args:G}=t.value;this.emitComponentEvent(U,ac(ac({},i),G));break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}else"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)};null!=a?setTimeout(o,a):o()}getObjExpr(e){if(!e||"object"!=typeof e)return e;var t={};for(var i of Object.keys(e)){var a="Expr";if(i.indexOf(a)>-1&&i.indexOf(a)===i.length-a.length){var n=i.slice(0,-4);t[n]=this.getDataValue(n,e)}else t[i]=e[i]}return t}run(e,t){var i=this.getInnerFunction(),a=ac(ac({},this.getScope()),i);return Lc(e,t?ac({$args:t},a):a,i)}getElementById(e){var t,{renderContext:{hostContainer:i,getRootElement:a,isFlattenLayer:n},hostContext:{getPropertyOfElement:o}}=this,r=a(this);if(!r)return null;if("$$"===e||!e&&n())return r;if(!e){var s=null!=(t=o(r,"parent"))?t:null;return s===i?r:s}return this.travelAndFindElementById(e,r)}travelAndFindElementById(e,t){var{getPropertyOfElement:i}=this.hostContext,a=Ac(t);if(a.templateId!==this.id)return null;if(a.id===e)return t;var n=i(t,"children");for(var o of n){var r=this.travelAndFindElementById(e,o);if(r)return r}return null}travelAndFindElementByIdDeeply(e,t,i){if(!i)return null;var{getPropertyOfElement:a}=this.hostContext,n=Ac(i);if(`${this.adCustomId}-${this.idPrefix}${e}`===n.templateId&&(!t||n.id===t))return i;var o=a(i,"children");for(var r of o){var s=this.travelAndFindElementByIdDeeply(e,t,r);if(s)return s}return null}doAnimation(e){return sc(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:i,animation:a}){var{animate:n}=this.hostContext,o=!a&&i?this.animations[i]:a,r=this.getElementById(e);if(o&&r){var{keys:s,duration:l,easing:d}=o;if(!(((null==s?void 0:s.length)||0)<2)){var c=0;for(var u of Object.keys(s)){var h=s[+u],p=l*this.getDataValue("offset",h),f={opacity:this.getDataValue("opacity",h),left:this.getDataValue("left",h),top:this.getDataValue("top",h),rotate:this.getDataValue("rotate",h),scaleWidth:this.getDataValue("scaleX",h),scaleHeight:this.getDataValue("scaleY",h)};if(p<=0)this.setStyle(e,f,{isDynamic:!0,force:!0});else{var g=ac(ac({},f),{easing:d,duration:p-c});g.left=f.left,g.top=f.top,yield null==n?void 0:n(r,g),c=p,this.setStyle(e,f,{isDynamic:!0,force:!0})}}i&&t&&(yield this.emitComponentEvent(Hc.ANIMATIONEND,{animation:i}))}}}))}updateInnerStyle(){var e;if(this.innerStyles)for(var t of Object.keys(this.innerStyles)){var i=this.innerStyles[t];if(!i.expr||this.run(i.expr)){var a=ac({},i.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(a,i.darkModeStyle||{}),this.updateStyle(a,t)}}}updateOuterStyle(){var e,t=ac({},this.template.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(t,this.template.darkModeStyle||{}),this.updateStyle(t,"container")}setStyle(e,t,{isDynamic:i,force:a}={isDynamic:!1,force:!1}){var n=i?this.dynamicStyle:this.templateStyle,o=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:r}=this.renderContext,s=e,l=!1;if("$$"===s){var d=r(this);if(!d)return;s=Ac(d).id}if(o){for(var c of Object.keys(o))o[c]=this.convertApxStyle(o[c]);if(s)for(var u of(n[s]||(n[s]={}),Object.keys(o)))null!=o[u]?(o[u]!==n[s][u]&&(l=!0),n[s][u]=o[u]):delete n[s][u]}this.mounted&&l&&i&&a&&this.forceUpdate()}convertApxStyle(e){var{renderContext:{ratio:t}}=this;return((e,t)=>(null==e?void 0:e.replace)?e.replace(yc,((e,i)=>`${Number(i*t)}px`)):e)(e,t)}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var o=i.split("Expr");2===o.length&&([a]=o,n=this.run(n))}this.setStyle(t,{[a]:n})}}getScope(){var e,t,{ratio:i}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:i,time:Date.now(),undefined:void 0},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===Ku[this.adCustomId]&&(Ku[this.adCustomId]={}),Ku[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":t=>e[t],"#measureText":(e,i)=>"function"==typeof t.getTextWidth?t.getTextWidth(e,i):0}}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t,{ratio:i}=this.renderContext,a=/(\d+)px/g,n={};for(var o of Object.keys(e))if(null==(t=Xu)?void 0:t.includes(o)){var r=e[o],s=r;"number"==typeof r?s=r*i:"string"==typeof r?s=r.replace(a,((e,t)=>{var a=Number(t);return Number.isNaN(a)?e:a*i+"px"})):Array.isArray(r)&&(null==r?void 0:r.every((e=>"number"==typeof e)))&&(s=r.map((e=>e*i))),n[o]=s}else n[o]=e[o];return n}},Zu=Ju,Qu=oc(cc()),eh=(e,t,i)=>{var a,n,o,r,s,l,d;if(!t)return t;var c={},u=null;if(null==(a=null==t?void 0:t.props)?void 0:a.className){var h=t.props.className.split(/\s+/).filter(Boolean);for(var p of h)e[`.${p}`]&&Object.assign(c,e[`.${p}`])}if((null==(n=null==t?void 0:t.props)?void 0:n.style)&&Object.assign(c,t.props.style),null==(o=null==t?void 0:t.props)?void 0:o.id){var f=t.props.id.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join("");u=f,e[f]&&Object.assign(c,e[f])}var g=null!=(s=null==(r=t.props)?void 0:r.children)?s:null;null!=g&&"string"!=typeof g&&(g=Qu.default.Children.map(g,(t=>eh(e,t,i))));var m=ac({style:Cc(c,i.styleOptions)},u?{id:u,uniqueId:`${i.templateInfo.templateId}${i.isItem?"__item":""}-${u}`}:{}),y=ac(ac({},i.templateInfo),{preventMask:String(null!=(d=null==(l=t.props)?void 0:l.preventMask)&&d),id:u||""});for(var v of Object.keys(y))m[`data-${Lu(v)}`]=y[v];i.useTextTag||"text"!==t.type||null==t.props.value||null!==g||(g=t.props.value);var _=Array.isArray(g)?g:[g];return null==g?Qu.default.cloneElement(t,m):Qu.default.cloneElement(t,m,_)},th=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){this.emitComponentEvent(Hc.TEMPLATEWILLUPDATE);var e=t.call(this);this.handleStyleType.includes(Wu.STYLE)&&this.updateOuterStyle(),this.handleStyleType.includes(Wu.INNERSTYLE)&&this.updateInnerStyle();var{style:i,templateStyle:a,dynamicStyle:n,renderContext:{styleOptions:o,useTextTag:r}}=this,s=eh((e=>{var t={};for(var i of e)for(var a of Object.keys(i))t[a]||(t[a]={}),Object.assign(t[a],i[a]||{});return t})([i,a,n]),e,{styleOptions:o,isItem:this.componentBehavior===Pu.BASE,useTextTag:r,templateInfo:{templateId:this.id}});return s}}return e},ih=class extends Zu{constructor(e){var t;if(super(e,{componentBehavior:Pu.BASE}),this.style={blank:{width:0,height:0},container:{position:"relative",WebkitTapHighlightColor:"transparent"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=[Wu.STYLE],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:""},this.handleCommonClick=e=>{!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.doActions(this.events.tap,{event:e})},this.isShow=this.getDataValueWithDefault("_isShow",!0),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&(null==(t=this.template.style)?void 0:t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===ou.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){e.payload.action===Wc.FORCEREBUILD&&this.setState({randomKey:this.getRandomKey()})}render(){var{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:i}=this.state,a=ac({},this.getCommonSubComponentProps());if(a.randomKey=i,"for"===t.type)return Bu.default.createElement(ap,ac({},a));var n={layout:Bu.default.createElement(Rh,ac({},a)),image:Bu.default.createElement(Wh,ac({},a)),text:Bu.default.createElement(Lh,ac({},a)),feedback:Bu.default.createElement(qh,ac({},a)),button:Bu.default.createElement(Uh,ac({},a)),video:Bu.default.createElement(jh,ac({},a)),end:Bu.default.createElement(ep,ac({},a)),carousel:Bu.default.createElement(rp,ac({},a)),countdown:Bu.default.createElement(Jh,ac({},a)),livetag:Bu.default.createElement(gp,ac({},a))}[t.type]||null;if(!this.isShow||null===n)return Bu.default.createElement("div",{id:"blank"});var o=this.isLinearGradient?Bu.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(n&&e()){var r=Array.isArray(n.props.children)?n.props.children:[n.props.children];return(0,Bu.cloneElement)(n,{handleCommonClick:this.handleCommonClick},...r)}return Bu.default.createElement("div",{id:"container",onClick:this.handleCommonClick},o,n)}},ah=ih=rc([th()],ih),nh=class extends Zu{constructor(e){var t,i,a;super(e),this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",background:"#ffffff",borderRadius:"7px"},".full-card-container-row":{flexDirection:"row"},".full-card-container-column":{flexDirection:"column"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px"},".no-interest-logo-row":{marginRight:"8px"},".no-interest-logo-column":{marginBottom:"24px"},".full-card-feedback-container-column":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e"},".full-card-feedback-title-row":{marginBottom:"5px"},".full-card-feedback-title-column":{marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=[Wu.STYLE,Wu.INNERSTYLE],this.handleAdCustomEvent=e=>{switch(e.action){case ou.SETDARKMODE:var{darkMode:t}=e.value;this.state.darkMode!==t&&this.setState({darkMode:t});break;case ou.HIDEAD:this.hide();break;case ou.ADSHOWHALF:this.emitComponentEvent(Gc.SHOWHALF);break;case ou.ADHIDEHALF:this.emitComponentEvent(Gc.HIDEHALF);break;case ou.ADSHOWEDGE:this.emitComponentEvent(Gc.SHOWEDGE);break;case ou.ADHIDEEDGE:this.emitComponentEvent(Gc.HIDEEDGE);break;case ou.BTNTAP:this.emitComponentEvent(Gc.ADBUTTONTAP);break;case ou.EXPOSURE:"value"in e?this.emitComponentEvent(Gc.EXPOSURE,e.value):this.emitComponentEvent(Gc.EXPOSURE);break;case ou.VIEWABLEEXPOSURE:"value"in e?this.emitComponentEvent(Gc.VIEWABLEEXPOSURE,e.value):this.emitComponentEvent(Gc.VIEWABLEEXPOSURE);break;case ou.SHOWFEEDBACK:this.showFeedback()}},this.show=e=>new Promise((t=>{this.useAnimate&&!e?this.setState({hidden:!1},(()=>{this.emitComponentEvent(Gc.SHOWANIMATE),t()})):this.useAnimate&&e?(this.emitAdCustomEvent(ou.CHECKEXPOSURE),t()):this.setState({hidden:!1},(()=>{this.emitAdCustomEvent(ou.CHECKEXPOSURE),t()}))})),this.hide=e=>new Promise((t=>{this.useAnimate&&!e?(this.emitComponentEvent(Gc.HIDEANIMATE),t()):this.setState({hidden:!0},(()=>{this.emitAdCustomEvent(ou.CHECKEXPOSURE),t()}))})),this.showFeedback=()=>{var{useDefaultFeedback:e,useFullAreaFeedBack:t}=this;e&&(this.setState({showFeedback:!0}),setTimeout((()=>{this.setState({showFeedback:!1})}),3e3)),t&&this.setState({showFeedback:!0})},this.handleEnterForeground=()=>{this.emitComponentEvent(Gc.APPENTERFOREGROUND),this.emitAdCustomEvent(ou.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(Gc.APPENTERBACKGROUND),this.emitAdCustomEvent(ou.APPENTERBACKGROUND)},this.handleContainerClick=e=>{this.props.isMulti||this.disableContainerTap||(null==e||e.stopPropagation(),this.emitComponentEvent(Gc.CONTAINERTAP),this.emitAdCustomEvent(ou.CONTAINERTAP,{event:e}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(i=null==(t=this.template.tplConfig)?void 0:t.isMulti)&&i,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(a=this.props.darkMode)&&a,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.fullAreaFeedBackType=this.getDataValueWithDefault("fullAreaFeedBackType","column"),this.bindEvents(),this.emitComponentEvent(Gc.INITIALTEMPLATE)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){var{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){var{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var i,a;e.action===Wc.HIDEAD?(this.hide(),"value"in e&&e.value.preventClose):e.action===Wc.CHANGEMULTISHOW?(null==(i=e.value)?void 0:i.listExpr)?this.emitAdCustomEvent(ou.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):(null==(a=e.value)?void 0:a.list)?this.emitAdCustomEvent(ou.CHANGEMULTISHOW,{list:e.value.list}):(null==t?void 0:t.list)&&this.emitAdCustomEvent(ou.CHANGEMULTISHOW,{list:t.list}):e.action===Wc.SHOWANIMATEDONE?this.show(!0):e.action===Wc.HIDEANIMATEDONE&&this.hide(!0)}isShow(){return!this.state.hidden}render(){var e,{props:{template:t,adPosition:i,systemInfo:a},state:{hidden:n,showFeedback:o,darkMode:r}}=this,s={display:n?"none":""},l=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&l.push("fixed"),this.isWidthRequired&&l.push("width"),this.isFullScreen?Object.assign(s,{width:a.screenWidth,height:a.screenHeight}):Object.assign(s,(e=i||{},l.reduce(((t,i)=>(t[i]=e[i],t)),{}))),n&&!this.useStyleHidden?Mu.default.createElement("div",null):Mu.default.createElement("div",{id:"body",style:s,className:this.isFullScreen?"full-size":""},t&&Mu.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick},t.children.map((e=>Mu.default.createElement(ah,ac(ac({key:e.id},this.getCommonSubComponentProps()),{template:e,darkMode:r}))))),this.useFullAreaFeedBack&&o&&Mu.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container "+("row"===this.fullAreaFeedBackType?"full-card-container-row":"full-card-container-column")},Mu.default.createElement("div",{className:"no-interest-logo "+("row"===this.fullAreaFeedBackType?"no-interest-logo-row":"no-interest-logo-column")}),Mu.default.createElement("div",{id:"full-card-feedback-container",className:""+("row"===this.fullAreaFeedBackType?"":"full-card-feedback-container-column")},Mu.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title "+("row"===this.fullAreaFeedBackType?"full-card-feedback-title-row":"full-card-feedback-title-column")},"感谢你的反馈"),Mu.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告"))),this.useDefaultFeedback&&o&&Mu.default.createElement("div",{id:"tip-container",className:"tip-container"},Mu.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})))}},oh=nh=rc([th()],nh),rh=oc(cc()),sh=oc(cc());function lh(e){class t extends Zu{constructor(e){super(e,{componentBehavior:Pu.HOC}),this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,sh.createRef)(),this.handleTouchStart=e=>{var{getPropertyOfElement:t}=this.hostContext;if(!e._isHandleMaskClick&&this.useMask&&this.containerRef.current){for(var i=e.target,a=this.containerRef.current;i&&i!==a;){var{preventMask:n}=Ac(i);if("true"===n)return;i=t(i,"parent")}this.setState({showMask:!0}),e._isHandleMaskClick=!0}},this.handleTouchEnd=()=>{this.setState({showMask:!1})},this.eventDelegator=this.renderContext.globalEventDelegator,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===ou.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){var{showMask:e}=this.state;return ac(ac({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},this.getDataValueWithDefault("_maskStyle",{})),{display:this.useMask&&e?"":"none"})}render(){var{props:t}=this,{forwardedRef:i}=t,a={};return this.useMask&&Object.assign(a,{maskContainerRef:this.containerRef,renderMask:()=>sh.default.createElement("div",{id:"mask",style:this.getMaskStyle()})}),sh.default.createElement(e,ac(ac(ac({},t),a),{ref:i}))}}return(0,sh.forwardRef)(((e,i)=>sh.default.createElement(t,ac(ac({},e),{forwardedRef:i}))))}var dh,ch,uh,hh,ph,fh,gh,mh,yh,vh,_h,Eh,bh,xh,wh,Th,Ch,Ah,Dh,Ih,Sh,kh,Ph=class extends Zu{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||du.COMMON,this.baseType===du.ROW?this.classRow=!0:this.baseType===du.COLUMN?this.classColumn=!0:(this.baseType,du.PROPORTION),this.state.children=this.template.children||[]}doAction({payload:e}){if(e.action===Wc.ADDCHILDREN){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}render(){var{children:e}=this.state,{renderMask:t,maskContainerRef:i,handleCommonClick:a,randomKey:n}=this.props,o=["layout"];return this.classRow&&o.push("layout-row"),this.classColumn&&o.push("layout-column"),rh.default.createElement("div",ac(ac({id:"container",className:o.join(" "),ref:i},a?{onClick:a}:{}),{style:this.containerStyle,key:n||""}),e.map((e=>rh.default.createElement(ah,ac(ac({key:e.id},this.getCommonSubComponentProps()),{template:e})))),null==t?void 0:t())}},Rh=lh(Ph=rc([th()],Ph)),Oh=oc(cc()),Nh=class extends Zu{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.classEllipsis=!1;var t=this.options.baseType||pu.NICKNAME;t===pu.COMMON?this.initCommonComponent():t===pu.NICKNAME?this.initNickNameComponent():t===pu.DESC?this.initDescComponent():t===pu.RELATION&&this.initRelationComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null)}componentDidMount(){super.componentDidMount(),this.options.baseType===pu.RELATION&&this.emitAdCustomEvent(ou.FETCHRELATIONTEXT,{targetid:this.id})}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){this.state.text="",this.addAdCustomListener((e=>{if(e.action===ou.CHANGERELATIONTEXT){var{targetid:t,text:i}=e.value;t===this.id&&this.setState({text:i})}}))}initNickNameComponent(){var e=this.getAdData(),t=[Gu.IOS,Gu.ANDROID].includes(null==e?void 0:e.product_type),i=[Gu.CHANNELS].includes(null==e?void 0:e.product_type),a=e.crt_size===Hu.CRT_SIZE_MULTI_POS_GRID,n=[Gu.WE_CHAT_ARTICLE,Gu.GDT_WE_CHAT_ARTICLE].includes(null==e?void 0:e.product_type),o=[Gu.WE_CHAT_SHOP,Gu.JD_URL].includes(null==e?void 0:e.product_type),r=[Gu.MINI_GAME].includes(null==e?void 0:e.product_type),s=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:a},{path:["crtInfo","0","wxgame_video_card","title"],condition:[Hu.CRT_SIZE_REWARD_VEDIO169,Hu.CRT_SIZE_REWARD_VEDIO916,Hu.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Hu.CRT_SIZE_MULTI_POS_VEDIO].includes(null==e?void 0:e.crt_size)},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["game_info","nick_name"],condition:r},{path:["app_info","app_name"],condition:t},{path:["crtInfo","card_info","title"],condition:i},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{path:["crtInfo","card_info","title"]},{value:"品牌推广",condition:n},{value:"电商推广",condition:o},{value:"活动推广"}];this.state.text=Nu(e,s)}initDescComponent(){var e=this.getAdData(),t=[Gu.IOS,Gu.ANDROID].includes(e.product_type),i=[Hu.CRT_SIZE_REWARD_VEDIO169,Hu.CRT_SIZE_REWARD_VEDIO916,Hu.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Hu.CRT_SIZE_MULTI_POS_VEDIO].includes(e.crt_size),a=e.product_type===Gu.MINI_GAME,n=e.product_type===Gu.WE_CHAT,o=[Gu.WE_CHAT_ARTICLE,Gu.GDT_WE_CHAT_ARTICLE].includes(e.product_type),r=[Gu.WE_CHAT_SHOP,Gu.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[Hu.CRT_SIZE_MULTI_POS_NEW_PIC,Hu.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:o},{value:"今日商品推荐",condition:r},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=Nu(e,s)}doAction({payload:e}){e.action===Wc.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{renderMask:t,maskContainerRef:i,randomKey:a}=this.props,{text:n}=this.state;return this.classEllipsis&&null!==this.maxLen&&n&&(n=((e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e})(n,2*this.maxLen)),Oh.default.createElement("div",{id:"container",ref:i,onClick:this.props.handleCommonClick,key:a||""},Oh.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:n}),null==t?void 0:t())}},Lh=lh(Nh=rc([th()],Nh)),Mh=oc(cc()),Bh=(e,t)=>{if(!e)return"";if(!t)return e;var i=e.split("#"),a=i[0].indexOf("?")>-1?"&":"?",n="",o=Object.keys(t);if(o.length>0){for(var r of o)n=n.concat(`${r}=${t[r]}&`);return n.length>0&&(n=n.substring(0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},Vh=class extends Zu{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.retry=0,this.exposureLoadRetry=0,this.loadError=!1,this.orginImgUrl="",this.handleAdCustomEvent=e=>{if(e.action===ou.ADSHOWEDGE&&this.loadError){var t=Number(this.getDataValueWithDefault("attachRetryTimes",5));if(this.exposureLoadRetry<t){this.exposureLoadRetry+=1;var i=Bh(this.state.imgUrl,{exposureLoadRetry:this.exposureLoadRetry});this.setState({imgUrl:i})}}},this.handleImgLoad=()=>{this.loadError=!1},this.handleImgError=()=>{this.loadError=!0;var e=Number(this.getDataValue("retryTimes"));if(e)if(this.orginImgUrl||(this.orginImgUrl=this.state.imgUrl),this.retry<e){this.retry+=1;var t=Bh(this.orginImgUrl,{retry:this.retry});this.setState({imgUrl:t})}else this.emitComponentEvent(au.IMGERROR)},this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||uu.ICON;switch(this.baseType=t,t){case uu.COMMON:this.initCommonComponent();break;case uu.AD:this.initADComponent();break;case uu.ICON:this.initIconComponent()}this.addAdCustomListener(this.handleAdCustomEvent),this.useBgMode}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[Gu.IOS,Gu.ANDROID].includes(e.product_type),i=[Gu.CHANNELS].includes(e.product_type),a=e.crt_size===Hu.CRT_SIZE_MULTI_POS_GRID,n=[Gu.WE_CHAT_SHOP,Gu.JD_URL].includes(e.product_type),o=[Gu.MINI_GAME].includes(e.product_type),r=[Hu.CRT_SIZE_REWARD_VEDIO169,Hu.CRT_SIZE_REWARD_VEDIO916,Hu.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var s=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:a},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:r},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","card_info","thumb"],condition:i},{path:["game_info","head_img"],condition:o},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{path:["crtInfo","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:n},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=Nu(e,s)}initADComponent(){var e,t=this.getAdData(),i=t.image_url;if(!i.startsWith("http"))try{i=(null==(e=t.crtInfo[0])?void 0:e.image_url)||t.crtInfo.image_url||i}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||i}doAction({payload:e}){e.action===Wc.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,{renderMask:i,maskContainerRef:a,randomKey:n}=this.props,o=this.baseType===uu.AD,{imgUrl:r}=this.state,s=["image-img"];return e&&s.push("image-img-appicon"),t&&s.push("image-img-icon"),Mh.default.createElement("div",{id:"container",className:"image",ref:a,onClick:this.props.handleCommonClick,key:n||""},Mh.default.createElement("img",ac(ac({id:"img"},o?{"bubble-event":!1}:{}),{className:s.join(" "),src:r,onLoad:this.handleImgLoad,onError:this.handleImgError})),null==i?void 0:i())}},Wh=lh(Vh=rc([th()],Vh)),Fh=oc(cc()),Hh=class extends Zu{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=e=>{e.action===ou.CHANGEADBTNTEXT&&e.value.text&&this.setState({buttonText:e.value.text})},this.handleButtonClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(ou.BTNTAP,{event:e}),this.emitComponentEvent(jc.BUTTONTAP,{event:e})};var t=this.options.baseType||gu.LOGICCOMMON;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),t===gu.COMMON?this.initCommonComponent():t===gu.LOGICCOMMON&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e,t=this.getAdData(),i=this.getDataValue("buttonText");i?this.state.buttonText=i:t.product_type===Gu.WE_CHAT?this.state.buttonText=(null==(e=null==t?void 0:t.biz_info)?void 0:e.is_subscribed)?"查看":t.button_action.button_text:this.state.buttonText=t.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){var t=this.getDataValue("value",e);e.action===Wc.BUTTONSETTEXT&&this.setText(t)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props;return Fh.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:i||""},this.isShowIcon&&Fh.default.createElement("div",{id:"button-icon",className:"button-icon"}),Fh.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},Uh=lh(Hh=rc([th()],Hh)),Gh=oc(cc()),zh=class extends Zu{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px 8px 0px 0px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoRef=Gh.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.preload="auto",this.toggleMuted=e=>{var t=!this.state.muted;null==e||e.stopPropagation(),this.setState({muted:t}),this.emitComponentEvent(Yc.MUTEDCHANGE,{muted:t}),this.emitAdCustomEvent(ou.ADVIDEOMUTECHANGE,{muted:t})},this.handleCustomEvent=e=>{var t;switch(e.action){case ou.APPENTERBACKGROUND:var i=Math.min(this.currentTime,this.videoDuration);"value"in e&&(null==(t=e.value)?void 0:t.inAdDetail)?this.reportVideoPlay("partial","app_exit",i):this.reportVideoPlay("partial","exit",i);break;case ou.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case ou.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case ou.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case ou.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration);break;case ou.OPERATEADVIDEO:var{type:a}=e.value;["play","pause","stop"].includes(a)&&this.operateVideoPlay(a)}},this.handleError=e=>{this.useResumeBtn&&this.setState({isShowResumeBtn:!0}),this.emitAdCustomEvent(ou.ADVIDEOLOADFAILED,e)},this.handleTimeUpdate=e=>{var t,i,a=e.duration||(null==(t=e.target)?void 0:t.duration),n=e.position||(null==(i=e.target)?void 0:i.currentTime);if(null!=a&&null!=n){var o=Math.min(1,n/a);this.setStyle("videoProgressPlayed",{width:100*o+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(a-n)}s`}),this.emitComponentEvent(Yc.VIDEOTIMEUPDATE,{event:e,rate:o}),this.emitAdCustomEvent(ou.ADVIDEOTIMEUPDATE,{duration:a,position:n}),this.currentTime=1e3*n,this.videoDuration||(this.videoDuration=1e3*a)}},this.handleEnded=e=>{this.emitComponentEvent(Yc.VIDEOENDED,{event:e}),this.emitAdCustomEvent(ou.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.emitAdCustomEvent(ou.ADVIDEOENDED),this.reportVideoPlay("complete","end",this.videoDuration),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(ou.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(Yc.VIDEOPLAY,{event:e}),this.emitAdCustomEvent(ou.ADVIDEOPLAY,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(Yc.VIDEOPAUSE,{event:e}),this.emitAdCustomEvent(ou.ADVIDEOPAUSE,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.handleLoadedMetaData=e=>{this.emitAdCustomEvent(ou.ADVIDEOLOADEDMETADATA),this.emitComponentEvent(Yc.VIDEOLOADEDMETADATA,{event:e,time:Date.now()})},this.handleResume=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(ou.ADVIDEORESUMEBTNCLICK)},this.baseType=this.options.baseType||yu.AD,this.baseType===yu.COMMON?this.initCommonComponent():this.baseType===yu.AD&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.preload=this.getDataValueWithDefault("preload","auto"),setTimeout((()=>{this.emitComponentEvent(Yc.MUTEDCHANGE,{muted:this.state.muted})}),0)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e=this.getAdData();this.src=this.getDataValue("src")||Nu(e,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.poster=this.getDataValue("poster")||Nu(e,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*Nu(e,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]),this.addAdCustomListener(this.handleCustomEvent),this.emitAdCustomEvent(ou.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case Wc.VIDEOTOGGLEMUTED:this.toggleMuted();break;case Wc.VIDEOPLAY:this.operateVideoPlay("play");break;case Wc.VIDEOPAUSE:this.operateVideoPlay("pause");break;case Wc.VIDEOSTOP:this.operateVideoPlay("stop")}}operateVideoPlay(e){var{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,i=0){this.baseType===yu.AD&&this.emitAdCustomEvent(ou.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:i,mutedIconSrc:a,voiceIconSrc:n,voicePlacement:o,countDownPlacement:r,isShowProgress:s,isShowCountDown:l,objectFit:d,playsInline:c,useResumeBtn:u,useClickMask:h,preload:p}=this,{muted:f,loop:g,autoplay:m,countDownNumber:y,isEndPageShowing:v,isShowResumeBtn:_}=this.state,{renderMask:E,maskContainerRef:b,randomKey:x}=this.props,w=["video-voice-box"],T=["video-count-down"];return w.push(`video-voice-box-${o}`),T.push(`video-count-down-${r}`),Gh.default.createElement("div",{id:"container",className:"video",ref:b,onClick:this.props.handleCommonClick,key:x||""},Gh.default.createElement("video",{id:"video",className:"video-context",ref:this.videoRef,src:e,poster:t,controls:!1,muted:f,loop:g,autoPlay:m,autoInsert:!1,playsInline:c,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:d,preload:p,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData},h&&Gh.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),u&&_&&Gh.default.createElement("div",{className:"video-resume-container"},Gh.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn",onClick:this.handleResume},Gh.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!v&&i&&Gh.default.createElement("div",{id:"videovoicebox",className:w.join(" "),onClick:this.toggleMuted,preventMask:!0},Gh.default.createElement("img",{src:f?a:n,id:"video-voice-img",className:"video-voice-icon"})),s&&Gh.default.createElement("div",{id:"video-progress",className:"video-progress"},Gh.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!v&&l&&y&&Gh.default.createElement("text",{id:"video-count-down",className:T.join(" "),value:y}),null==E?void 0:E())}},jh=lh(zh=rc([th()],zh)),$h=oc(cc()),Yh=class extends Zu{constructor(e){super(e),this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleCloseClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(ou.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.emitComponentEvent(Xc.TAGTAP,{event:e}),this.emitAdCustomEvent(ou.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})},this.handleTagClick=e=>{if(null==e||e.stopPropagation(),this.baseType===_u.SIMPLE)return this.handleSimpleTagClick(e);if(this.baseType===_u.SINGLETAG)return this.handleSingleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?(this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitAdCustomEvent(ou.FEEDBACKHIDE)):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(ou.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标",event:e}),this.emitComponentEvent(Xc.TAGTAP,{event:e}))},this.handleDislikeClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(Xc.DISLIKETAP,{event:e}),this.emitAdCustomEvent(ou.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Xc.FEEDBACKBTNTAP,{event:e}),this.emitAdCustomEvent(ou.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.emitAdCustomEvent(ou.FEEDBACKBTNTAP)},this.handleAdCustomEvent=e=>{e.action===ou.FEEDBACKHIDE&&this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.checkUseApx(),this.baseType=this.options.baseType||_u.COMMON,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.isShowCloseTag=this.getDataValueWithDefault("isShowCloseTag",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.addAdCustomListener(this.handleAdCustomEvent)}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(ou.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.getDataValue("preventHide")||this.emitAdCustomEvent(ou.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)}),this.emitComponentEvent(Xc.TAGTAP,{event:e})}handleSingleTagClick(e){this.emitAdCustomEvent(ou.FEEDBACKSINGLETAGTAP,{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Xc.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(ou.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e,event:t});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(ou.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(ou.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,{useStyleHidden:a}=this,{renderMask:n,maskContainerRef:o,randomKey:r}=this.props,s=["feedback-list"],l=["feedback-list"];i&&(s.push(`feedback-list-${i.toLowerCase()}`),l.push(`feedback-list-${i.toLowerCase()}`)),a&&(s.push(e?"show":"hide"),l.push(t?"show":"hide"));var d=this.getDataValue("feedbackIcon")||(this.baseType===_u.SIMPLE?this.closeIconSrc:this.feedbackIconSrc),c=this.baseType===_u.SIMPLE?"close-icon":"feedback-icon",u=this.getDataValueWithDefault("feedbackTagText","广告");return $h.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:o,onClick:this.props.handleCommonClick,key:r||""},$h.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:!0},$h.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),$h.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:u}),$h.default.createElement("img",{id:"feedback-icon",className:c,src:d})),(e||a)&&$h.default.createElement("div",{id:"menu1",key:"menu1",className:s.join(" ")},this.isShowFeedbackTitle&&$h.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),this.isShowCloseTag&&$h.default.createElement($h.default.Fragment,null,$h.default.createElement("div",{className:"feedback-line"}),$h.default.createElement("text",{id:"close-btn",className:"feedback-btn",onClick:this.handleCloseClick,value:"关闭此广告",preventMask:!0})),$h.default.createElement("div",{className:"feedback-line"}),$h.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),$h.default.createElement("div",{className:"feedback-line"}),$h.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||a)&&$h.default.createElement("div",{id:"menu2",key:"menu2",className:l.join(" ")},$h.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),$h.default.createElement("div",{className:"feedback-line"}),$h.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),$h.default.createElement("div",{className:"feedback-line"}),$h.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==n?void 0:n())}},qh=lh(Yh=rc([th()],Yh)),Xh=oc(cc()),Kh=class extends Zu{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:"5"},this.children=[],this.handleAdCustomEvent=e=>{if(e.action===ou.CHANGECOUNTDOWN){var t=2===e.value.value.toString().length?18:11;this.setStyle("countdownvalue",{width:t}),this.setState({countdownValue:e.value.value})}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={};a.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:Wc.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Wc.TRIGGEREVENT,value:{eventName:Jc.VIDEODISLIKE}}]},data:{}}};var n=this.getDataValue("childrenConf");if(n)for(var o of Object.keys(n))a[o]&&Vc(a[o],n[o]);var r=[];return r=[a.feedBack],3===e?r.concat(this.template.children||[]):r}render(){var{children:e,state:{countdownValue:t}}=this,{renderMask:i,maskContainerRef:a,randomKey:n}=this.props;return Xh.default.createElement("div",{id:"container",className:"countdown",ref:a,onClick:this.props.handleCommonClick,key:n||""},e.map((e=>Xh.default.createElement(ah,ac(ac({},this.getCommonSubComponentProps()),{template:e})))),Xh.default.createElement("div",{className:"countdown-right"},Xh.default.createElement("div",{id:"split-line",className:"split-line"}),Xh.default.createElement("div",{id:"countdown-container",className:"countdown-container"},Xh.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:t}),Xh.default.createElement("text",{className:"countdown-text",value:"秒"}))),null==i?void 0:i())}},Jh=lh(Kh=rc([th()],Kh)),Zh=oc(cc()),Qh=class extends Zu{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=e=>sc(this,[e],(function*({action:e}){switch(e){case ou.SHOWENDPAGE:yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(ou.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(Jc.SHOW);break;case ou.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case ou.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case ou.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case ou.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}})),this.handleReplay=e=>{null==e||e.stopPropagation(),this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(ou.ENDPAGEHIDE),this.emitComponentEvent(Jc.HIDE),this.reportEndPage({act_type:1003}),this.emitComponentEvent(Jc.REPLAY)},this.handleContainerClick=e=>{var t,i;this.reportEndPage({act_type:1002}),null==(i=(t=this.props).handleCommonClick)||i.call(t,e)};var t=this.getAdData();this.cardInfo=Ou(t,["crtInfo",0,"card_info"],"")||Ou(t,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);var{end_page_type:i}=this.cardInfo;(i||this.getDataValueWithDefault("forceEnabled",!1))&&(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((()=>{this.emitAdCustomEvent(ou.ENDPAGEINIT)}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(ou.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===Wc.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(ou.ENDPAGEHIDE),this.emitComponentEvent(Jc.HIDE))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:Wc.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Wc.TRIGGEREVENT,value:{eventName:Jc.VIDEODISLIKE}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:Wc.REPORTENDPAGE,value:{data:{act_type:1001}}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var r of Object.keys(o))a[r]&&Vc(a[r],o[r]);var s=[];return this.useEndDefaultFeedback&&s.push(a.feedBack),s=2===this.cardInfo.end_page_type?s.concat([a.layoutSmall,a.descBig,a.button]):s.concat([a.iconBig,a.nickBig,a.descSmall,a.button]),3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:i,showFreshIcon:a,state:{isShowEndPage:n}}=this,{renderMask:o,maskContainerRef:r,randomKey:s}=this.props;return Zh.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:r,key:s||"",style:{display:n?"flex":"none"}},e&&Zh.default.createElement("img",{id:"backgroundImage",src:e}),t.map((e=>Zh.default.createElement(ah,ac(ac({key:e.id},this.getCommonSubComponentProps()),{template:e})))),a&&Zh.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},Zh.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:i}),Zh.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==o?void 0:o())}},ep=Qh=rc([th()],Qh),tp=oc(cc()),ip=class extends Zu{constructor(e){super(e),this.forType=this.options.baseType||Cu.COMMON,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===Cu.ADS&&(this.forArr=this.getAdDatas())}render(){var{template:e}=this.props,t=this.forArr.map(((t,i)=>e.children.map((a=>tp.default.createElement(ah,ac(ac({},this.getCommonSubComponentProps()),{key:`${a.id}-${i}`,idPrefix:this.idPrefix+(e.id||"")+i.toString(),forType:this.forType,forItem:t,template:a,forIndex:i})))))).reduce(((e,t)=>[...e,...t]),[]);return tp.default.createElement(tp.default.Fragment,null,t)}},ap=ip=rc([th()],ip),np=oc(cc()),op=class extends Zu{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=e=>{null==e||e.stopPropagation();var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a=(this.isCol?e.pageY:e.pageX)-t,n=Math.floor(a/this.size);this.emitComponentEvent(Qc.UNITTAP,{index:n,event:e})},this.handleAdCustomEvent=({action:e})=>{[ou.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[ou.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||Du.ROWLOOP,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===Du.COLUMNLOOP,this.baseType===Du.ROWLOOP?this.initCarousel("width"):this.baseType===Du.COLUMNLOOP&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){return sc(this,null,(function*(){var e=this;if(this.isViewable&&!this.isPlaying){var t=this.baseType===Du.ROWLOOP?"left":"top";if(this.disabled)this.emitComponentEvent(Qc.SHOWCHANGE,{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent(Qc.SHOWCHANGE,{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(var i=function(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(Qc.SHOWCHANGE,{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<this.animateCount;a+=1)i(a);this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[t]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(e){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;var n=setTimeout((()=>{this.timerSet.delete(n),this.autoplay()}),this.duration/4);this.timerSet.add(n)}}}))}render(){var{template:{children:e}}=this.props,{renderMask:t,maskContainerRef:i,randomKey:a}=this.props,{baseType:n,allCount:o,showCount:r}=this;if(!(e&&e.length&&o&&r))return np.default.createElement("div",{id:"blank"});var s=["carousel-list",n===Du.ROWLOOP?"carousel-row":"carousel-col"];return np.default.createElement("div",{id:"container",className:"carousel",ref:i,onClick:this.props.handleCommonClick,key:a||""},np.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),np.default.createElement("div",{id:"list",className:s.join(" ")},e.map((e=>np.default.createElement(ah,ac(ac({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==t?void 0:t())}},rp=lh(op=rc([th()],op)),sp=oc(cc()),lp=()=>sp.default.createElement("div",null),dp=oc(cc()),cp="none",up="onlive",hp="end",pp="reserve",fp=class extends Zu{constructor(e){super(e),this.style={".livetag":{position:"relative",zIndex:1000010},".livetag-hidden":{display:"none"},".ad-channels-live":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-live-icon":{width:"10px",height:"10px",marginRight:"3px"},".ad-channels-live-text":{height:"14px",color:"#ffffff",fontSize:"10px",lineHeight:"15px"},".ad-channels-end":{display:"flex",backgroundColor:"#959FC1",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-reserve":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 6px"}},this.state={status:cp},this.handleAdCustomEvent=e=>{e.action===ou.UPDATECHANNELSTATUS&&this.setState({status:e.value.status},(()=>{this.updateInnerStyle()}))},this.addAdCustomListener(this.handleAdCustomEvent)}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,{status:a}=this.state;return a===cp&&["livetag"].push("livetag-hidden"),dp.default.createElement("div",{id:"container",className:"livetag",ref:t,key:i||""},a===up&&dp.default.createElement("div",{id:"ad-channels-live",className:"ad-channels-live"},dp.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),dp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播中"})),a===hp&&dp.default.createElement("div",{id:"ad-channels-end",className:"ad-channels-end"},dp.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),dp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播结束"})),a===pp&&dp.default.createElement("div",{id:"ad-channels-reserve",className:"ad-channels-reserve"},dp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播预约"})),null==e?void 0:e())}},gp=lh(fp=rc([th()],fp)),mp=class{constructor(e){var t;this.adCustomIdInc=0,this.containerMap=new WeakMap,"renderer"in e?(((e,t)=>{if(!e)throw new Error(t)})(((e,t)=>{for(var i of t)if(null==(null==e?void 0:e[i]))return!1;return!0})(e.renderer,["render","unmount","findDOMNode"]),"options.renderer achieved uncompletely"),this.renderer=e.renderer):this.renderer=new class{constructor(e){this.presetHostConfig={shouldSetTextContent:()=>!1,getRootHostContext:()=>null,getChildHostContext:e=>e,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit:()=>{},preparePortalMount:()=>{},supportsMutation:!0,now:Date.now,scheduleTimeout:(e,t)=>setTimeout(e,t),cancelTimeout:e=>clearTimeout(e),noTimeout:-1,isPrimaryRenderer:!1,commitMount:()=>{}},this.renderer=(0,mc.default)(ac(ac({},this.presetHostConfig),e))}render(e,t){return new Promise(((i,a)=>{try{t._rootContainer||(t._rootContainer=this.renderer.createContainer(t,!1,!1)),this.renderer.updateContainer(e,t._rootContainer,null,(()=>i()))}catch(e){a(e)}}))}unmount(e){return new Promise(((t,i)=>{if(e._rootContainer){try{this.renderer.updateContainer(null,e._rootContainer,null,(()=>t()))}catch(e){i(e)}delete e._rootContainer}}))}findDOMNode(e){return null==e?null:this.renderer.findHostInstance(e)}}(e.hostConfig),this.hostContext=e.hostContext,this.useTextTag=null==(t=e.useTextTag)||t,this.globalEventDelegator=new class{constructor(e){this.options=e,this.handlers={},this.sep="<^.^>",this.handleEvent=e=>t=>{if(t.target&&this.options.getPropertyOfElement){for(var i=!1,a=!1,n=ac(ac({},t),{stopPropagation:()=>{i=!0},stopImmediatePropagation:()=>{a=!0}}),o=t.target;o&&!i;){var{templateId:r,id:s}=Ac(o),l=`${e}${this.sep}${r}-${s}`;if(this.handlers[l])for(var d of this.handlers[l])a||d(n);o=this.options.getPropertyOfElement(o,"parent")}var c=`${e}${this.sep}__global`;if(this.handlers[c]&&!i)for(var u of this.handlers[c])a||u(n)}},this.handleTouchStart=this.handleEvent("touchstart"),this.handleTouchMove=this.handleEvent("touchmove"),this.handleTouchEnd=this.handleEvent("touchend"),this.handleTouchCancel=this.handleEvent("touchcancel"),this.handleClick=this.handleEvent("click"),e.onGlobalEvent&&e.getPropertyOfElement&&(e.onGlobalEvent("touchstart",this.handleTouchStart),e.onGlobalEvent("touchmove",this.handleTouchMove),e.onGlobalEvent("touchend",this.handleTouchEnd),e.onGlobalEvent("touchcancel",this.handleTouchCancel),e.onGlobalEvent("click",this.handleClick))}on(e,t,i){var a,n=`${e}${this.sep}${t}`;(a=this.handlers)[n]||(a[n]=new Set),this.handlers[n].add(i)}onGlobal(e,t){var i,a=`${e}${this.sep}__global`;(i=this.handlers)[a]||(i[a]=new Set),this.handlers[a].add(t)}off(e,t,i){var a=`${e}${this.sep}${t}`;this.handlers[a]&&this.handlers[a].delete(i)}offGlobal(e,t){var i=`${e}${this.sep}__global`;this.handlers[i]&&this.handlers[i].delete(t)}destroy(){this.options.offGlobalEvent&&(this.options.offGlobalEvent("touchstart",this.handleTouchStart),this.options.offGlobalEvent("touchmove",this.handleTouchMove),this.options.offGlobalEvent("touchend",this.handleTouchEnd),this.options.offGlobalEvent("touchcancel",this.handleTouchCancel),this.options.offGlobalEvent("click",this.handleClick)),this.handlers={}}}({onGlobalEvent:e.hostContext.onGlobalEvent,offGlobalEvent:e.hostContext.offGlobalEvent,getPropertyOfElement:e.hostContext.getPropertyOfElement})}generateCustomId(){return this.adCustomIdInc+=1,`AD_CUSTOM_${this.adCustomIdInc}`}getConvertRatio(e,t=0,i){var{width:a}=i||{};null==a&&(a=t),a=Number(a);var n=e.minWidth||0,o=e.maxWidth||0,r=e.baseWidth||375,s=Math.min(t,Math.max(n,a));return o&&(s=Math.min(s,o)),0===s?{ratio:1,width:null}:{ratio:s/r,width:s}}getTemplateRef(e,{emitter:t,adCustomId:i,rootRef:a,itemRef:n}){if("isEmpty"in e&&e.isEmpty)return null;var{hostContainer:o}=e,r=t=>!e.isPartial;return{emitEvent:(e,a)=>{t.emit("adCustomEvent",ac({adCustomId:i,action:e},a?{value:a}:{}))},onEvent:e=>(t.on("adCustomEvent",e),e),offEvent:e=>{t.off("adCustomEvent",e)},getCustomId:()=>i,getElementById:(e,t)=>a.current&&a.current.travelAndFindElementByIdDeeply(e,t,this.renderer.findDOMNode(a.current))||null,getRelativeTemplateInfo:(e,t)=>{if(!e||!t||!this.hostContext.getPropertyOfElement)return null;for(var i=e;i;){var a=Ac(i);if(t(a))return a;i=this.hostContext.getPropertyOfElement(i,"parent")}return null},update:e=>sc(this,null,(function*(){var t,i=(t=e,["adData","adDatas","position","systemInfo","isMulti","darkMode","extraScope"].reduce(((e,i)=>(null!=t[i]&&(e[i]=t[i]),e)),{}));n.current&&e.isPartial?yield this.renderer.render(gc.default.createElement(ah,ac({},ac(ac(ac(ac({},n.current.props),{ref:n}),i),e.template?{template:e.template}:{}))),o):a.current&&!e.isPartial&&(yield this.renderer.render(gc.default.createElement(oh,ac({},ac(ac(ac(ac({},a.current.props),{ref:a}),i),e.template?{template:e.template}:{}))),o))})),getRootElement:()=>a.current?this.renderer.findDOMNode(a.current):null,getRootData:e=>{var t;return r()&&(null==(t=a.current)?void 0:t.getRootData(e))},show:()=>sc(this,null,(function*(){var e;r()&&(yield null==(e=a.current)?void 0:e.show())})),hide:()=>sc(this,null,(function*(){var e;r()&&(yield null==(e=a.current)?void 0:e.hide())})),isShow:()=>{var e;return r()&&(null==(e=a.current)?void 0:e.isShow())||!1}}}render(e){return sc(this,null,(function*(){if("isEmpty"in e&&e.isEmpty)return this.renderer.render(gc.default.createElement(lp,null),e.hostContainer);var{hostContainer:t,adData:i,template:a,position:n,systemInfo:o,isMulti:r,darkMode:s,adCustomId:l,styleOptions:d,flattenLayer:c,ref:u,extraScope:h}=e,{adDatas:p}=e,{hostContext:f}=this,g=l||this.generateCustomId(),m=new Mc({maxListeners:1e3}),y=gc.default.createRef(),v=gc.default.createRef(),_=this.getConvertRatio(e.isPartial?{}:e.template.tplConfig||{},o.screenWidth,n),{width:E}=_,{ratio:b}=_;p||(p=[i]),(null==d?void 0:d.ratio)&&(b=d.ratio),null!=E&&null!=(null==n?void 0:n.width)&&(n.width=E);var x=this.getTemplateRef(e,{emitter:m,adCustomId:g,rootRef:y,itemRef:v});null==u||u(x),this.containerMap.set(t,{emitter:m});var w={adData:i,adDatas:p,isMulti:r||!1,systemInfo:o,position:n,adCustomId:g,darkMode:s,emitter:m,hostContext:f,extraScope:h,renderContext:{hostContainer:t,ratio:b,useTextTag:this.useTextTag,isFlattenLayer:()=>{var e,t;return null!=c?c:"root"===a.type&&null!=(null==(t=null==(e=null==a?void 0:a.options)?void 0:e.data)?void 0:t.flattenLayer)&&a.options.data.flattenLayer},styleOptions:d||{},getRootElement:e=>this.renderer.findDOMNode(e),globalEventDelegator:this.globalEventDelegator}};e.isPartial?yield this.renderer.render(gc.default.createElement(ah,ac({},ac(ac({},w),{ref:v,template:e.template}))),t):yield this.renderer.render(gc.default.createElement(oh,ac({},ac(ac({},w),{ref:y,template:e.template}))),t)}))}unmount(e){var{hostContainer:t}=e;if(this.containerMap.has(t)){var{emitter:i}=this.containerMap.get(t);return i.removeAllListeners(),this.renderer.unmount(t)}}destroy(){this.globalEventDelegator.destroy()}};(ch=dh||(dh={})).opacity="opacity",ch.left="left",ch.top="top",(hh=uh||(uh={})).rotate="rotate",hh.scaleX="scaleX",hh.scaleY="scaleY";var yp,{GameGlobal:vp,deviceInfo:_p,deviceInfoLoaded:Ep,appRouteInfo:bp,getDeviceOrientation:xp,proxyReady:wp,getIndentityInfo:Tp,loadDeviceInfoByManual:Cp}=y,Ap=!1,Dp=(ph=sn("handleAdDataDone"),fh=ln("handleAdDataError"),gh=sn("handleAdDataDone"),mh=ln("handleAdDataError"),yh=sn("handleAdDataDone"),vh=ln("handleAdDataError"),_h=sn("handleAdDataDone"),Eh=ln("handleAdDataError"),bh=sn("handleAdDataDone"),xh=ln("handleAdDataError"),wh=sn("handleAdDataDone"),Th=ln("handleAdDataError"),Ch=sn("handleAdDataDone"),Ah=ln("handleAdDataError"),Dh=sn("handleAdDataDone"),Ih=ln("handleAdDataError"),Sh=(e,t,i)=>{var a=i.value;i.value=function(...e){var t=e=>{yp&&yp in this&&"function"==typeof this[yp]&&this[yp](e)};try{var i=a.call(this,...e);return i instanceof Promise?i.catch((e=>t(e))):i}catch(e){t(e)}}},kh=class{constructor({adUnitId:e,adType:t,pluginAppid:i=""}){var a;this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.slotData={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.additionFetchPromise=null,this.webviewId=bp.currentWebviewId,this.fetchRetryCount=0,this.additionFetchRetryCount=0,this.isCanvasXmlHook=!1,this.rawAdInfoXml="",this.handledInNewFetch=!1,this.nativeMethodInvoker=new Fd,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.datas=[],this.data={},this.convertedAdData=null,this.convertedAdDatas=[],this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,this.isDuplicateRecommendedAds=!1,this.instanceId="",this.splashExpCondition={},"splashAd"!==t&&wp(),this.adUnitId=e,this.adType=t,this.pluginAppid=_p.isWaGame?"":i,this.mmReporter=new ms(this),this.cgiReporter=new Ts(this),this.lander=new Kl(this),this.bindProxyMethods(),this.setTimePoint("p1"),"function"==typeof(a=e=>{if(e.webviewId===bp.currentWebviewId&&this.data&&this.isViewable){var{uxinfo:t}=this.data;Sa({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}})&&Ja.on("_onWxAdUserCaptureScreen",a)}bindProxyMethods(){var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],i=function(t){var i=(e=>{for(var t=new Set,i=e;i;){for(var a of Object.getOwnPropertyNames(i))t.add(a);i=Object.getPrototypeOf(i)}return[...t]})(t),a=function(i){var a,n,o;n=i,(null===(o=(a=t)&&a[nn])||void 0===o?void 0:o.has(n))&&(e[i]=(...e)=>t[i](...e))};for(var n of i)a(n)};for(var a of t)i(a)}isLimitRequest(){return!this.isSplashAd()&&(0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime)}convertTestAdData(e){try{var t,i=we(e),a=JSON.parse(i.crt_exp_info);if(i.crtExpInfo=a,1002===a.exp_type){if(null!==(t=i.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var n=JSON.parse(a.exp_data);i.wx_game_video.wxgame_video_card.flooring_page=n}}else if(1001===a.exp_type){i.profile_exp=!0;var o=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;i.dest_type=o.dest_type;var r={};if(i.button_action)try{r=JSON.parse(e.button_action)}catch(e){}r.jump_type=o.jump_type,i.button_action=JSON.stringify(r)}else if(105===a.exp_type)i.ad_style_data=a.exp_data;else if(106===a.exp_type){Ee(i,a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data),i.common_exp=!0}else if(a.exp_type&&[108,109,2001].includes(a.exp_type))i.ad_dynamic_list=a.exp_data;else if(a.crt_size&&[Di.CRT_SIZE_WX_APPLICATION_NEW,Di.CRT_SIZE_WX_APPLICATION_X].includes(a.crt_size)){if(i.crt_size=a.crt_size,i.ad_width=a.width,i.material_width=a.width,i.ad_height=a.height,i.material_height=a.height,i.image_url=a.image_url,a.dest_url&&i.url&&[1,3,6].includes(i.dest_type)){var s=ko(i.url),l={};s.weixinadkey&&(l.weixinadkey=s.weixinadkey),s.ticket&&(l.ticket=s.ticket),s.gdt_vid&&(l.gdt_vid=s.gdt_vid),s.weixinadinfo&&(l.weixinadinfo=s.weixinadinfo),i.url=Mo(a.dest_url,l)}i.watermark_text=a.watermark||""}else if(a.landpage_type){var d;null!==(d=i.wx_game_video)&&void 0!==d&&d.wxgame_video_card&&(i.wx_game_video.wxgame_video_card.flooring_page=a)}return i}catch(t){return e}}getFetchArgs({isAdInterval:e},t){var i,a,n,o,r={scene_type:bp.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:_p.gameAppId,orig_weapp_id:this.pluginAppid?_p.gameAppId:"",weapp_path:bp.weappPath,pos_id:"",network_type:_p.adNetworkType,orientation:{landscape:1,portrait:2}[_p.deviceOrientation],sdk_version:_p.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:_p.startTime.valueOf(),wxa_enter_ts:bp.enterForegroundTime.valueOf(),weixin_version:_p.wechatVersion,os_version:_p.systemVersion,machine_type:_p.model,is_ad_interval:!!e,env:null===(i=D.host)||void 0===i?void 0:i.env,app_appid:null===(a=D.host)||void 0===a?void 0:a.appId,host_version:null===(n=D.host)||void 0===n?void 0:n.version,local_wechat_version:null===(o=D.host)||void 0===o?void 0:o.localWeChatVersion,wxa_fetch_ads_ts:Date.now()})};r.pos_id=Yi[this.adType];var s={};if("grid"===this.adType)s.box_slot_ad={count:String(this.slotData.gridCount),box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)};else if("splashAd"===this.adType){s.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,s.request_type=(null==t?void 0:t.requestType)||1,s.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[];var l=2===(null==t?void 0:t.requestType)?1:5;s.splash_ad={count:String(l)},delete r.appid}else"customAd"===this.adType?s={is_adunit_tmpl:!0}:"rewardedVideoAd"===this.adType?(null!=t&&t.requestType&&(s.request_type=t.requestType),Object.assign(s,Tp())):"cpsShopAd"===this.adType&&(s.cps_shop_req_info=t.cpsShopReqInfo||{},s.is_adunit_tmpl=t.isAdunitTmpl||!1);if(R()&&(s.in_3rd_app=1),s.machine_brand=_p.brand||(null==D?void 0:D.brand),_p.isWaGame)try{var{query:d}=vp;d.ad_free_param&&(s.ad_free_param=So(d.ad_free_param))}catch(e){}return r.ext_slot_custom_comm=JSON.stringify(s),r}validateFetchEnv(){if(R()&&this.reportAdMonitorData(ui.THIRD_ERROR),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){var{crt_size:t}=e;if(!Ri.includes(t)&&!this.isCpsShopAd())throw{errMsg:`unexpected advertisement crt_size ${t}`}}handleAdDataDone(){this.reportAdMonitorData(ui.AD_FETCH_SUCCESS),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(ui.AD_FETCH_ERROR,e)}handleWaidForList(e=[]){var t={};if(e.length<1)return Promise.resolve(t);var i=[];return null==e||e.forEach((e=>{i.push(N(e.apkName).then((t=>r()(r()({},t),{},{aid:e.aid}))))})),Promise.race([Promise.all(i).then((e=>(e.forEach((({waid:e,aid:i=""})=>{e&&i&&(t[i]=e)})),t))).catch((e=>(this.reportAdMonitorData(ui.READ_ADINFOS_ERROR,e),t))),M(2e3).then((()=>t))])}handleBulkSaveMaterials(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?Va(t):Promise.resolve()}getSplashAdMaterialList(e){var t,i,a=[],n=(null==e?void 0:e.crtInfo[0])||{},o=e.rerankingExtInfo.material_hash||"",r=(null==n?void 0:n.image_url)||"",s=(null==n||null===(t=n.card_info)||void 0===t?void 0:t.pure_color_url)||"",l=(null==n||null===(i=n.card_info)||void 0===i?void 0:i.material_blur_url)||"",d=`wxfile://ad/${e.aid}_${o}.png`;if(o&&a.push({url:r,fileName:`${e.aid}_${o}.png`,filePath:d}),s){var c=`wxfile://ad/${e.aid}_${o}_pure_color.png`;o&&a.push({url:s,fileName:`${e.aid}_${o}_pure_color.png`,filePath:c})}if(l){var u=`wxfile://ad/${e.aid}_${o}_blur.png`;o&&a.push({url:l,fileName:`${e.aid}_${o}_blur.png`,filePath:u})}if(null!=e&&e.adDynamicList||null!=e&&e.template)try{var h=null==e?void 0:e.adDynamicList;null!=e&&e.template&&(h=e.template);var{tplConfig:p}=h,f=null==p?void 0:p.cacheFile;if(f&&Object.keys(f).length>0)for(var g of Object.keys(f)){var m=`wxfile://ad/${e.aid}_${o}_${g}.png`;a.push({url:f[g],fileName:`${e.aid}_${o}_${g}.png`,filePath:m})}}catch(e){this.reportAdMonitorData({idKey:34,idKeyGroup:1646},e)}return a}handleAdInfosIndexCache(e,t,i){var a=this;return b()((function*(){var n;try{n=yield a.handleWaidForList(e)}catch(e){}t.deviceInfo=Tp(),t.waidMap=n,a.reportAdMonitorData(ui.READ_ADINFOS_SUCCESS,{adInfos:t}),t.lastSaveTime=Date.now();try{return yield Ba(t,i),a.reportAdMonitorData(pi.WRITE_ADINFOS_SUCCESS,{adInfos:t})}catch(e){var o=e instanceof Error?a.processStackMsg(e):e;return a.reportAdMonitorData(pi.WRITE_ADINFOS_FAIL,{adInfos:t,errMsg:o})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t,i=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(i)?"checkAd":"fetch",i}handleSplashAd(e){var t=this;return b()((function*(){if(t.isCheckAdIsOnlineRequest(e))return t.handleCheckAdIsOnlineResp(e);t.reportAdMonitorData(pi.dataLoadSuccess);var i=0,a=[],n=[],o=[],r=`${z()}_exposure_times`,s={slot_id:Yi[t.adType],ads:[],crtSizeMap:{},materialHashMap:{},total_exposure_times:0,[r]:0,requestInQueue:"true",totalSizeUsed:0,localBlacklistExtBackComm:[],expCondition:{}},l=yield Ma(Qi);s.totalSizeUsed=l.totalSize;var d=l.outedDateFileList||[];d=d.length<21&&l.totalSize>20971520?l.fileList:d;try{yield((e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();var i=[];for(var a of t){var n=`${e}/${a}`;i.push(La(n))}return Promise.all(i)})(Qi,d)}catch(e){t.reportAdMonitorData(pi.removeFileDataFail,e)}try{var c=e.advertisement_info.length>0&&e.advertisement_info.map(((e,l)=>{var d,c,u,h,p,f,g,m,y,v,_,E,b=t.handleAdData(e),x=b.rerankingExtInfo.material_hash||"",w={material_hash:b.rerankingExtInfo.material_hash||"",tid:b.rerankingExtInfo.tid.toString()||"",aid:b.aid,trace_id:b.traceid};s.ads.push(w),s.total_exposure_times=b.rerankingExtInfo.total_exposure_times||0,s[r]=b.rerankingExtInfo[r]||0;var T=null===(d=b.condition)||void 0===d?void 0:d.widget_gray_splash_data_channel_parallel;s.requestInQueue=T?"false":"true",s.isCheckAndFetch=(null===(c=b.condition)||void 0===c?void 0:c.widget_gray_splash_check_and_fetch)||0,s.outedDateIntervals=(null===(u=b.condition)||void 0===u?void 0:u.widget_gray_splash_outed_date_setting)||7,s.useLocalSelect=(null===(h=b.condition)||void 0===h?void 0:h.widget_gray_splash_use_local)||0,s.localBlackList=(null===(p=b.condition)||void 0===p?void 0:p.widget_gray_splash_local_black)||"",s.localSelectExpire=null!==(f=null===(g=b.condition)||void 0===g?void 0:g.widget_gray_splash_local_outed_date_setting)&&void 0!==f?f:1,s.isWaittingFetch=(null===(m=b.condition)||void 0===m?void 0:m.widget_gray_splash_wait_fetch)||0,s.materialHashMap[b.aid]=x,s.checkAndFetchUseCatch=(null==b||null===(y=b.condition)||void 0===y?void 0:y.widget_gray_check_fetch_catch)||0,s.onlineFetchTimeout=(null==b||null===(v=b.condition)||void 0===v?void 0:v.widget_gray_splash_timeout)||0,s.useOfflineAd=(null==b||null===(_=b.condition)||void 0===_?void 0:_.widget_gray_splash_offline_ad)||0,s.newTimeout=(null==b||null===(E=b.condition)||void 0===E?void 0:E.widget_gray_splash_new_timeout)||0,s.expCondition=null==b?void 0:b.condition;var C=b.crtInfo[0]||{};if(b.crtInfo){s.crtSizeMap[b.aid]=C.width>=C.height?"landscape":"portrait";var{extBackComm:A}=b,{card_info:D}=C;A.is_from_snsadinfo&&b.ad_desc&&!D.description&&(D.description=b.ad_desc),s.localBlacklistExtBackComm=null==A?void 0:A.splash_localselect_blacklist}var I=t.getSplashAdMaterialList(b);n=n.concat(I),i+=0===l?I.length:0;var S=`wxfile://ad/${b.aid}.txt`;if(a.push(Ba(b,S)),b.product_type===Ii.ANDROID){var k,P=null===(k=b.appInfo)||void 0===k?void 0:k.apkName;o.push({apkName:P,aid:b.aid})}return b}));t.datas=c}catch(e){throw t.reportAdMonitorData(pi.handleDataFail,e),e}var u=n.slice(0,i);return yield Va(u),a.push(Va(n)),a.push(t.handleAdInfosIndexCache(o,s,"wxfile://ad/adinfos.txt")),Promise.all(a).then((()=>t.reportAdMonitorData(pi.dataPreloadSuccess))).catch((e=>{throw t.reportAdMonitorData(pi.dataPreloadFail,e),e})),t.datas[0]}))()}handleCustomAd(e){var t=e.advertisement_info.map(((e,t)=>{var i,a,n,o,s=e=>{if(0===t)throw e},l=null,d=this.handleAdData(e),{crtInfo:c,button_action:u,product_type:h,dest_type:p,crt_size:f}=d;if(d.reranking_ext_info&&d.reranking_ext_info.refresh_time)o=d.reranking_ext_info.refresh_time;else if(d.reranking_ext_info&&"string"==typeof d.reranking_ext_info)try{var g=JSON.parse(d.reranking_ext_info);g.refresh_time&&(o=g.refresh_time)}catch(e){}if(null!=d&&null!==(i=d.extBackComm)&&void 0!==i&&i.tmpl_info)try{var m,y=JSON.parse(d.extBackComm.tmpl_info);l=JSON.parse(y.tmpl_content),a=Number(d.extBackComm.sub_templ_id),n=Number(null===(m=d.extBackComm)||void 0===m?void 0:m.templ_id)||0}catch(e){this.reportAdMonitorData(gi.TPL_PARSE_FAILED),s({errMsg:"custom template error",errCode:xi})}else this.reportAdMonitorData(gi.TPL_LOAD_FAILED),s({errMsg:"no custom template",errCode:bi});return r()(r()({},e),{},{crtInfo:c,button_action:u,product_type:h,dest_type:p,crt_size:f,condition:d.condition,template:l,subTemplId:a,templId:n,refreshTime:o,aid:d.aid,app:d.app,appInfo:d.appInfo,extBackComm:d.extBackComm,wording:d.hint_txt,card_info:d.card_info,video_info:d.video_info,image_url:d.image_url,weapp_info:d.weapp_info,wx_game_video:d.wx_game_video})}));return this.reportAdMonitorData(gi.LOAD_SUCCESS),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleCpsShopAd(e){var t=e.advertisement_info.map((e=>{var t=this.handleAdData(e);return r()(r()({},t),{},{extBackComm:r()(r()({},t.extBackComm),{},{cpsProduct:t.extBackComm.cps_weapp_shop_ad_info})})}));return this.datas||(this.datas=[]),this.datas=this.datas.concat(t),this.setCurrentData(0),t}handleGridAd(e){if(e.advertisement_info.length!==this.slotData.gridCount)throw this.reportAdMonitorData(ui.AD_GRID_LOAD_COUNT_ERROR,{count:this.slotData.gridCount,getCount:e.advertisement_info.length}),{errMsg:"no advertisement count error",errCode:e.ret};var t=e.advertisement_info.map(((e,t)=>{var i=this.handleAdData(e);return i._isGrid=!0,i._gridInfo={row:5===this.slotData.gridCount?1:2,column:5===this.slotData.gridCount?5:4,index:t},i}));for(var i of(this.datas=t,this.setCurrentData(0),this.fetchRetryCount=0,this.datas))if(i.crt_size!==Di.CRT_SIZE_MULTI_POS_GRID)throw{errMsg:`unexpected advertisement crt_size ${i.crt_size}`};return this.reportAdMonitorData(ui.AD_GRID_LOAD_SUCCESS),this.datas}handleInterstitialAd(e){var t,{crtInfo:i,extBackComm:a}=e;if(!i[0])throw{errMsg:"unexpected addata"};(t=i[0]).card_info||(t.card_info={});var n=r()(r()(r()({},i[0]),ve(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm","template","poi","rerankingExtInfo"])),{},{useTemplate:!!e.template}),o=i[0].card_info;if(a.is_from_snsadinfo){if(!o)throw this.reportAdMonitorData(ui.INTERSTITIAL_SNS_SUPPLEMENTARY_DATA_ERROR),{errMsg:"unexpected adData"};o.head_bg_img&&(o.bg_img=o.head_bg_img)}return e.ad_desc&&!o.description&&(o.description=e.ad_desc),null!=o&&o.desc&&null!=o&&o.description&&(o.description=""),n}getRewardedVideoData(e){var t=e.crtInfo&&Array.isArray(e.crtInfo)?e.crtInfo:[],{extBackComm:i,canvas_info:a,ad_desc:n}=e;if(i.is_from_snsadinfo){var o,r,s=null==t||null===(o=t[0])||void 0===o?void 0:o.card_info,l=null==t||null===(r=t[0])||void 0===r?void 0:r.short_video;if(l&&l.video_duration<1e3&&(l.video_duration*=1e3),!s)throw this.reportAdMonitorData(ui.REWARDED_VIDEO_SNS_SUPPLEMENTARY_DATA_ERROR),{errMsg:"unexpected adData"};var{head_bg_img:d,thumb:c="",title:u=""}=s;return{crtInfo:t,headBgImg:d,mpTagType:0,gaussVideo:null,shortVideo:l,showTime:0,icon:c,name:u,wording:n.replace(/\n/g," "),flooringPage:null}}0===t.length&&t.push({wxgame_video_card:{}});var[{wxgame_video_card:{head_bg_img:h,mp_tag_type:p},wxgame_gauss_video:f}]=t,{wx_game_video:{short_video:g,wxgame_video_card:{show_time:m,thumb:y,title:v,desc:_,flooring_page:E}}}=e,{antifraud_popup:b}=i;return{crtInfo:t,headBgImg:h,mpTagType:p,gaussVideo:f,canvasInfo:a,shortVideo:g,showTime:m,icon:y,name:v,wording:_,flooringPage:E,antifraudPopup:b||!1}}handleRewardedVideoAd(e){var t,i,a,n;e.crt_size===Di.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var{crtInfo:o,headBgImg:s,mpTagType:l,gaussVideo:d,canvasInfo:c,shortVideo:u,showTime:h,icon:p,name:f,wording:g,flooringPage:m,antifraudPopup:y}=this.getRewardedVideoData(e),v=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)v=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var _=JSON.parse(e.reranking_ext_info);_.rewarded_time&&(v=_.rewarded_time)}catch(e){}v=Math.floor(1e3*v),m&&[3,4].indexOf(m.landpage_type)>-1&&(this.data.isPlayable=!0);var E=r()(r()({crtInfo:o[0],canvas_info:c,type:ki[e.pt],shortVideo:this.mapRewardVideoFields(u),gaussVideo:d?this.mapRewardVideoFields(r()(r()({},d),{},{video_duration:d.video_duration_ms})):null,rewardedTime:v,card:{icon:p,name:f,wording:g,headBgImg:s,mpTagType:l,showTime:h},flooringPage:m},ve(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo","extBackComm","template"])),{},{useTemplate:!!e.template,antifraudPopup:y}),b=hs(E),x=ps(E);return this.reportRewardGaussVideo({useGaussVideo:b,useExpandStyle:x,expUseGaussVideo:null!==(t=null===(i=e.condition)||void 0===i?void 0:i.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(a=null==u?void 0:u.video_url)&&void 0!==a?a:"",gaussVideoUrl:null!==(n=null==d?void 0:d.video_url)&&void 0!==n?n:""}),null!=d&&d.video_url&&this.reportAdMonitorData(ui.REWARD_GAUSS_EXISTS),b&&x?this.reportAdMonitorData(ui.REWARD_USE_GAUSS_AND_EXPAND_STYLE):b?this.reportAdMonitorData(ui.REWARD_USE_GAUSS):x&&this.reportAdMonitorData(ui.REWARD_USE_EXPAND_STYLE),E}mapRewardVideoFields(e){var{thumb_url:t,video_url:i,video_duration:a,thumb_width:n,thumb_height:o}=e;return{poster:t,src:i,duration:a,width:n,height:o}}handleRewardedLandingPage(e){var t,i=_p.isAndroid&&D.clientVersion>=654315008||_p.isIOS&&D.clientVersion>=385879552;if((null===(t=this.data.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&i)try{var{canvas_info:a}=e,{root:n}=w()(a.ad_info_xml),o=j(e),r=this.composeExposureCommonInfo({top:0,left:0,width:_p.screenWidth,height:_p.screenHeight});n.children.push({name:"viewid",children:[],attributes:{},content:o},{name:"commInfo",children:[],attributes:{},content:r});var s=Pa(n);this.rawAdInfoXml=this.data.canvas_info.ad_info_xml,this.data.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}UpdateRewardedLandingPageData(e){try{if(this.checkCanvasXmlState()&&this.rawAdInfoXml){var{root:t}=w()(this.rawAdInfoXml),i=j(this.data),a=this.composeExposureCommonInfo({top:0,left:0,width:_p.screenWidth,height:_p.screenHeight,inputWeappExtraData:e.weappExtraData||{}});t.children.push({name:"viewid",children:[],attributes:{},content:i},{name:"commInfo",children:[],attributes:{},content:a});var n=Pa(t);this.data.canvas_info.ad_info_xml=n}}catch(e){this.reportAdMonitorData(ui.UPDATE_ADINFOXML_ERROR,e)}}handleBannerAd(e){var t,{extBackComm:i,crtInfo:a,pt:n,crt_size:o,image_url:s,material_width:l,material_height:d,ad_width:c,ad_height:u,use_style_data:h,hint_txt:p,watermark_type:f}=e,{antifraud_popup:g}=i;void 0===g&&(g=!1);var m,y,v=ki[n];h?(m=c,y=u):[Di.CRT_SIZE_WX_APPLICATION,Di.CRT_SIZE_WX_APPLICATION_NEW,Di.CRT_SIZE_WX_APPLICATION_X].includes(o)?(m=(c||l)/2,y=(u||d)/2):o===Di.CRT_SIZE_WX_APPLICATION_CARD&&(m=c,y=u);var _=r()(r()({antifraudPopup:g,type:v,crt_size:o,useStyleData:h,watermark:Pi[f],width:m,height:y,image:{src:s,width:l,height:d},wording:p},ve(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo","crtInfo","template"])),{},{useTemplate:!!e.template||e.crt_size===Di.CRT_SIZE_CARD_COMPT_IMAGE}),E=(null==a||null===(t=a[0])||void 0===t?void 0:t.card_info)||{};if(i.is_from_snsadinfo&&!E)throw{errMsg:"unexpected adData"};return i.is_from_snsadinfo&&e.ad_desc&&!E.description&&(E.description=e.ad_desc),null!=E&&E.desc&&null!=E&&E.description&&(E.description=""),this.convertedAdData=_,_}extractJson(e,t,i,a){var n=null!=i?i:t;if(e[n]&&"string"==typeof e[n])try{e[t]=JSON.parse(e[n])}catch(i){e[t]=null!=a?a:{}}else null!=a&&(e[t]=a)}buildWechatInfo(e){if(e.product_type===Ii.WE_CHAT){var{biz_appid:t,biz_info:{nick_name:i,is_subscribed:a,head_img:n,biz_uin:o}}=e;return{icon:n,nickname:i,uin:o,isFollowed:a,biz_appid:t}}return{}}buildAppInfo(e){var t=e.product_type;if([Ii.ANDROID,Ii.IOS].includes(t)){var{app_info:{app_name:i,apk_name:a,apk_url:n,app_md5:o,app_rating:r,icon_url:s,url_scheme:l,version_code:d,channel_id:c,desc:u}}=e;return{appName:i,apkName:a,apkUrl:n,appMd5:o,appRating:r,iconUrl:s,urlScheme:l,versionCode:d,channelId:c,desc:u}}return{}}handleAdData(e){var t,i,a,n,o,s;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var l,d,c,u=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):we(e),h=u;(u.crt_size&&(h.crt_size=Number(u.crt_size)),this.extractJson(h,"crtInfo","crt_info"),this.extractJson(h,"extBackComm","ext_back_comm"),this.extractJson(h,"button_action","button_action",{}),this.extractJson(h,"adStyleData","ad_style_data",""),this.extractJson(h,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(h,"extInfo","ext_info"),this.extractJson(h,"adDynamicList","ad_dynamic_list"),null!==(t=h.crtInfo)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(a=i.card_info)&&void 0!==a&&a.sns_to_mp_supplementary)&&Object.assign(h.crtInfo[0].card_info,null===(l=h.crtInfo)||void 0===l||null===(d=l[0])||void 0===d||null===(c=d.card_info)||void 0===c?void 0:c.sns_to_mp_supplementary);if(u.flow_exp_info)try{h.condition=ha(u.flow_exp_info),this.isSplashAd()||this.handleSplashAdFetchLog(h.condition)}catch(e){}if(h.adStyleData&&Zo("native",h.crt_size)){h.use_style_data=!0;var{adStyleData:p}=h;u.ad_width=p.width,u.ad_height=p.height,p.widgets.forEach((e=>{var t=u.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(h);var f=u.button_action;if(f.button_text=f.button_text||"查看",u.watermark_text=u.watermark_text||"去逛逛",18001===(null==h||null===(n=h.extInfo)||void 0===n?void 0:n.page_type)){var g={gdt_vid:u.traceid||"",uxinfo:u.uxinfo||"",ad_token:u.ad_token||"",rl:u.rl||""};u.url=Mo(u.url,g)}if(null!=h&&null!==(o=h.extBackComm)&&void 0!==o&&o.ad_template_info)try{h.template=JSON.parse(h.extBackComm.ad_template_info)}catch(e){h.template=null}null!=h&&null!==(s=h.extBackComm)&&void 0!==s&&s.templ_id&&(h.templId=Number(h.extBackComm.templ_id)||0);var m=this.buildWechatInfo(h),y=this.buildAppInfo(h);return u.product_type===Ii.ANDROID&&N(y.apkName).then((({waid:e})=>{h.waid=e,this.reportAdMonitorData(ui.GET_WAID_SUCCESS)})).catch((e=>{this.reportAdMonitorData(ui.GET_WAID_ERROR,e)})),r()(r()({},h),{},{app:m,appInfo:y})}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,Wa(e))}handleOperateWXData(e){var t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?oe(t):re(t)}processFetch(e,t,i){var a=this;return b()((function*(){if(a.validateFetchEnv(),Object.keys(t).length>0)Cp(t);else{_p.deviceOrientation=xp();try{var{networkType:n}=yield a.getNetworkType();_p.adNetworkType=n}catch(e){if(!a.isSplashAd()||!_p.adNetworkType)throw e}}a.isRewardedVideoAd()&&(yield Promise.race([Ep,M(200)]));var o=a.getFetchArgs({isAdInterval:e},i);a.setLastAdReqTs(+new Date),a.setLastExposureTime(0),a.setLastClickTime(0);try{var r=yield a.handleOperateWXData(o);if(a.fetchPromise=null,a.fetchRetryCount=0,a.handledInNewFetch=!1,a.setTimePoint("p3"),r=r.data,a.validateFetchRes(r),a.isSplashAd())return a.handleSplashAd(r);if(a.isGridAd())return a.handleGridAd(r);if(a.isCustomAd())return a.handleCustomAd(r);if(a.isCpsShopAd())return a.handleCpsShopAd(r);var s=a.handleAdData(r.advertisement_info[0]);return a.data=s,a.datas=[s],a.setCurrentData(0),a.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),a.isInterstitialAd(s)?a.convertedAdData=a.handleInterstitialAd(s):a.isRewardedVideoAd(s)?a.convertedAdData=a.handleRewardedVideoAd(s):a.isBannerAd(s)&&(a.convertedAdData=a.handleBannerAd(s)),a.convertedAdDatas=[a.convertedAdData],a.convertedAdData}catch(t){var l="";try{"string"==typeof t&&(l=JSON.parse(t).errMsg)}catch(e){}if(a.fetchPromise=null,0===l.indexOf("getAdData:fail")&&a.fetchRetryCount<1)return a.fetchRetryCount+=1,a.fetch(e);throw a.isBannerAd()?a.reportAdMonitorData(ui.AD_BANNER_LOAD_ERROR,t):a.isRewardedVideoAd()?a.reportAdMonitorData(ui.AD_VIDEO_LOAD_ERROR,t):a.isInterstitialAd()?a.reportAdMonitorData(ui.AD_INTERSTITIAL_LOAD_ERROR,t):a.isGridAd()?a.reportAdMonitorData(ui.AD_GRID_LOAD_ERROR,t):a.isCustomAd()?a.reportAdMonitorData(gi.LOAD_FAILED,t):a.isSplashAd()&&a.reportAdMonitorData(pi.dataLoadFail,t),t}}))()}processAdditionFetch(e,t,i){var a=this;return b()((function*(){if(a.validateFetchEnv(),Object.keys(t).length>0)Cp(t);else{_p.deviceOrientation=xp();var{networkType:n}=yield a.getNetworkType();_p.adNetworkType=n}var o=a.getFetchArgs({isAdInterval:e},i);a.setLastAdReqTs(+new Date);try{var r=yield a.handleOperateWXData(o);a.additionFetchPromise=null,a.additionFetchRetryCount=0,a.handledInNewFetch=!1,r=r.data,a.validateFetchRes(r);var s=a.handleAdData(r.advertisement_info[0]);a.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),a.datas.push(s);var l=null;return a.isInterstitialAd(s)?l=a.handleInterstitialAd(s):a.isRewardedVideoAd(s)?l=a.handleRewardedVideoAd(s):a.isBannerAd(s)&&(l=a.handleBannerAd(s)),l&&a.convertedAdDatas.push(l),l}catch(t){var d="";try{"string"==typeof t&&(d=JSON.parse(t).errMsg)}catch(e){}if(a.fetchPromise=null,0===d.indexOf("getAdData:fail")&&a.additionFetchRetryCount<1)return a.additionFetchRetryCount+=1,a.additionFetch(e);throw a.isBannerAd()?a.reportAdMonitorData(ui.AD_BANNER_LOAD_ERROR,t):a.isRewardedVideoAd()?a.reportAdMonitorData(ui.AD_VIDEO_LOAD_ERROR,t):a.isInterstitialAd()?a.reportAdMonitorData(ui.AD_INTERSTITIAL_LOAD_ERROR,t):a.isGridAd()?a.reportAdMonitorData(ui.AD_GRID_LOAD_ERROR,t):a.isCustomAd()?a.reportAdMonitorData(gi.LOAD_FAILED,t):a.isSplashAd()&&a.reportAdMonitorData(pi.dataLoadFail,t),t}}))()}checkDuplicateRecommendedAds(e,t,i){var a=this;return b()((function*(){var n=[],r="0",s=decodeURIComponent(a.data.apurl);/viewid=([^&]+)/.test(s)&&(r=RegExp.$1);var l={conv_status:n},d={},{imei:c,idfa:u}=yield Ep,h={viewid:r,app_status:0,follow_status:0,imei:c,idfa:u};if(a.isDuplicateRecommendedAds=!1,e===Ii.WE_CHAT){if(d.ad_type=1,d.ad_id=t.biz_appid,h.follow_status=t.isFollowed?2:1,t.isFollowed)return a.isDuplicateRecommendedAds=!0,a.reportAdMonitorData(ui.AD_FOLLOWED,{adInfo:d})}else if(e===Ii.ANDROID){var{apkName:p,versionCode:f}=i;try{var g=yield a.getInstallState(p),m=g.isInstalled&&(void 0===g.versionCode||g.versionCode>=f);d.ad_type=2,d.ad_id=p,h.app_status=m?2:1,a.isDuplicateRecommendedAds=Boolean(m),m&&a.reportAdMonitorData(ui.AD_INSTALLED,{adInfo:d})}catch(e){h.app_status=0,o.reportIDKey({key:"adGetInstallState_fail",force:!0})}}n.push(h),a.reportInstallFollow(l)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getSlotData(){return this.slotData}getDeviceInfo(){return _p}isBannerAd(e){return"banner"===this.adType}isRewardedVideoAd(e){return"rewardedVideoAd"===this.adType&&(!e||Zo("all",e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||Yd("all",e.crt_size))}isGridAd(){return"grid"===this.adType}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}isCpsShopAd(){return"cpsShopAd"===this.adType}getProgramStartTime(){return _p.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:bp.lastWebviewId,currentWebviewId:bp.currentWebviewId,openType:bp.currentOpenType}}getExpTidForReport(e){if(!e)return"";var t=[];for(var i of Object.keys(e))Ji[Number(i)]&&e[i]&&t.push(1===e[i]?i:`${i}:${e[i]}`);return t.join(";").slice(0,100)}setSlotData(e){this.slotData=Object.assign(this.slotData,e||{})}reset(){this.adDataIndex=0,this.datas=[],this.convertedAdDatas=[],this.cgiReporter.reset(),this.rawAdInfoXml=""}fetch(e=!1,t={},i={}){return this.fetchPromise||(this.fetchPromise=this.processFetch(e,t,i)),this.fetchPromise}additionFetch(e=!1,t={},i={}){return this.additionFetchPromise||(this.additionFetchPromise=this.processAdditionFetch(e,t,i)),this.additionFetchPromise}setRightButtonHide(e){var t=()=>_p.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((i=>(this.reportAdMonitorData(ui.RIGHTBUTTON_HIDE_ERROR,{retryCount:0,isHide:e,message:this.processStackMsg(i)}),t().catch((t=>{throw this.reportAdMonitorData(ui.RIGHTBUTTON_HIDE_ERROR,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,i,a){return Wd({taskName:e,taskUrl:t,fileMd5:i,extInfo:a}).catch((e=>(this.reportAdMonitorData(ui.ADD_DOWNLOAD_TASK_ERROR,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return _p.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!_p.isWaGame&&_p.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){var t=e.absoluteX,i=e.absoluteY,a=e.absoluteEndX,n=e.absoluteEndY,o=e.pressInterval,r=!1;return Math.abs(n-i)<30&&Math.abs(a-t)<30&&o<300&&(r=!0),r}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t,i;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e]),null!==(i=this.convertedAdDatas)&&void 0!==i&&i[e]&&(this.convertedAdData=this.convertedAdDatas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var i,a,n,o=null==this||null===(i=this.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.uid,r={};4===t?r.xj_scene=6:(r.gdt_vid=this.data.traceid||"",r.uxinfo=this.data.uxinfo||"",r.reward=1),r.rl=this.data.rl||"",r.ad_token=this.data.ad_token||"",_p.isIOS&&(r.uid=o||"");var s=Mo(e,r);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(ui.H5_PRELOAD_BUTTON_CLICKED),ie({url:s,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(n=this.data)||void 0===n?void 0:n.uxinfo})}setDeviceInfo(e){Object.assign(_p,e)}setSplashAdShowStatus(){Ap=!0}getSplashAdShowStatus(){return Ap}getChannelsLiveStatusWithRpc(){var e=this;return b()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(Vo(a,n)&&t===Ai.DEST_TYPE_CHANNELS_LIVE){var{id:o,username:r}=i;if(!o||!r)return"none";try{var{data:s}=yield re({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_finder_live_info",live_id:o})}}),{result:l}=s||"",{live_status:d}=JSON.parse(l);if([Ui.NONE,Ui.IN_PREPARE].includes(d))return"none";if(d===Ui.ON_AIR)return"onlive";if(d===Ui.ENDED)return"end";e.reportAdIDKey({key:ui.GET_CHANNELS_LIVE_STATUS_SUCCESS})}catch(t){e.reportAdMonitorData(ui.GET_CHANNELS_LIVE_STATUS_FAILED,{id:o,username:r,errMsg:t})}}else if(Wo(a,n)&&t===Ai.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}getChannelsLiveStatus(){var e=this;return b()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(Vo(a,n)&&t===Ai.DEST_TYPE_CHANNELS_LIVE){var{id:o,username:r}=i;if(!o||!r)return"none";try{var{status:s}=yield e.getChannelsLiveInfo({feedId:o,finderUserName:r});if([Ui.NONE,Ui.IN_PREPARE].includes(s))return"none";if(s===Ui.ON_AIR)return"onlive";if(s===Ui.ENDED)return"end";e.reportAdIDKey({key:ui.GET_CHANNELS_LIVE_STATUS_SUCCESS})}catch(t){e.reportAdMonitorData(ui.GET_CHANNELS_LIVE_STATUS_FAILED,{id:o,username:r,errMsg:t})}}else if(Wo(a,n)&&t===Ai.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}handleAdTemplateEvent(e){switch(e.action){case ou.FEEDBACKBTNTAP:return this.openFeedbackUrl(_p.isWaGame?1003:1005),!0;case ou.REPORTTIMEPOINT:return e.value.key&&this.setTimePoint(e.value.key),!0;case ou.REPORTMMDATA:return e.value.id&&e.value.data&&this.reportMMData(parseInt(e.value.id,10),e.value.data),!0;case ou.REPORTADMONITORDATA:var{id:t,key:i,extInfo:a}=e.value,n=t?{idKeyGroup:t,idKey:i}:i;return this.reportAdMonitorData(n,a),!0}return!1}isOriginExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e;return i+n>=1&&i<=_p.screenHeight-1&&t+a>=1&&t<=_p.screenWidth-1}isViewableExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e,o=t+a<=_p.screenWidth?t+a:_p.screenWidth-t,r=i+n<=_p.screenHeight?i+n:_p.screenHeight-i;return(o=o>a?a:o)*(r=r>n?n:r)/(a*n)>=.5}},C()(kh.prototype,"handleCheckAdIsOnlineResp",[ph,fh],Object.getOwnPropertyDescriptor(kh.prototype,"handleCheckAdIsOnlineResp"),kh.prototype),C()(kh.prototype,"handleSplashAd",[gh,mh],Object.getOwnPropertyDescriptor(kh.prototype,"handleSplashAd"),kh.prototype),C()(kh.prototype,"handleCustomAd",[yh,vh],Object.getOwnPropertyDescriptor(kh.prototype,"handleCustomAd"),kh.prototype),C()(kh.prototype,"handleCpsShopAd",[_h,Eh],Object.getOwnPropertyDescriptor(kh.prototype,"handleCpsShopAd"),kh.prototype),C()(kh.prototype,"handleGridAd",[bh,xh],Object.getOwnPropertyDescriptor(kh.prototype,"handleGridAd"),kh.prototype),C()(kh.prototype,"handleInterstitialAd",[wh,Th],Object.getOwnPropertyDescriptor(kh.prototype,"handleInterstitialAd"),kh.prototype),C()(kh.prototype,"handleRewardedVideoAd",[Ch,Ah],Object.getOwnPropertyDescriptor(kh.prototype,"handleRewardedVideoAd"),kh.prototype),C()(kh.prototype,"handleBannerAd",[Dh,Ih],Object.getOwnPropertyDescriptor(kh.prototype,"handleBannerAd"),kh.prototype),C()(kh.prototype,"checkDuplicateRecommendedAds",[Sh],Object.getOwnPropertyDescriptor(kh.prototype,"checkDuplicateRecommendedAds"),kh.prototype),kh),{initComponent:Ip}=y,Sp=function(e,t,i){return Ip.call(this,e,(e=>{var t={};for(var i of Object.keys(e||{}))e[i]&&(t[i]=Object.assign({},e[i]),e[i].landscape&&!e[i].landscapeLeft&&(t[i].landscapeLeft=Object.assign({},e[i].landscape)),e[i].landscape&&!e[i].landscapeRight&&(t[i].landscapeRight=Object.assign({},e[i].landscape)));return t})(t),i)},kp={type:"EOF"};class Pp{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",kp),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(kp)}}var Rp=e=>{for(var t=new Pp,i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},Op=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,Np=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Lp=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),Mp=e=>{var t;t="string"==typeof e?Rp(e):e;for(var i=[Op({type:"ROOT"})],a=e=>{for(var t=e.priority;Np(i[i.length-1])&&Lp(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=Op(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(Np(n))return;Lp(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?Np(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},o=0,r=t.length;o<r;o++)n(t[o]);return i},Bp=({type:e,children:t,operator:i},a,n={})=>{var o=e=>Bp(t[e],a,n);if("COMPARE"===e){var r=i&&{">":()=>o(0)>o(1),"<":()=>o(0)<o(1),">=":()=>o(0)>=o(1),"<=":()=>o(0)<=o(1),"==":()=>o(0)==o(1),"!=":()=>o(0)!=o(1),"===":()=>o(0)===o(1)}[i];return r?r():null}if("LOGIC"===e){var s=i&&{"&&":()=>o(0)&&o(1),"||":()=>o(0)||o(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>o(0)?o(1):o(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),o=e.substring(a+1,e.length-1);if(!i[n])return null;for(var r=Rp(o),s=[],l=[],d=0,c=r.length;d<c;d++){var u=r[d];"COMMA"===u.type||"EOF"===u.type?(s.push(l),l=[]):l.push(u)}var h=[];return s.forEach((e=>{h.push(Wp(e,t,i))})),i[n].apply(null,h)})(t[0],a,n)},d=l[e]||null;return d?d():null},Vp={"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":be,"#slice":(e,t,i)=>e.slice(t,i),"#compareVersion":(e,t)=>Qo(e,t)},Wp=(e,t,i)=>{try{var a=Mp(e);return Bp(a[1],t,Object.assign({},Vp,i))}catch(e){}return null},{deviceInfo:Fp,invokeMethod:Hp,gametext:Up}=y,Gp={},zp=I;class jp extends cn{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.touchInfo=null,this.handleCommonTouchStart=e=>{this.touchInfo=e},this.handleCommonTouchEnd=e=>{if(this.touchInfo){var t=Math.abs(e.x-this.touchInfo.x),i=Math.abs(e.y-this.touchInfo.y),a="none";(t>=20||i>=20)&&(t>=i&&e.x>this.touchInfo.x?a="right":t>=i&&e.x<this.touchInfo.x?a="left":i>=t&&e.y>this.touchInfo.y?a="bottom":i>=t&&e.y<this.touchInfo.y&&(a="top")),this.emitComponentEvent(Qe,{direction:a,startEvent:this.touchInfo,endEvent:e})}this.touchInfo=null},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||Qt,this.forItem=e.forItem,this.forIndex=e.forIndex,this.checkSize(),e.ratio&&(this.ratio=e.ratio);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent;var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.offTouchstart("container",this.handleCommonTouchStart),this.offTouchend("container",this.handleCommonTouchEnd),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.onTouchstart("container",this.handleCommonTouchStart),this.onTouchend("container",this.handleCommonTouchEnd),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope,innerFunctions:this.props.innerFunctions}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return this.forType===ti&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t,{template:i}=this;if(!i||"root"===i.type){this.tplConfig=(null==i?void 0:i.tplConfig)||{};var a=this.props.adPosition||{};if(this.tplConfig){var n,o,{tplConfig:r}=this,{width:s}=this.props.adPosition||{};if(null==s)s=(null===(n=this.props)||void 0===n||null===(o=n.systemInfo)||void 0===o?void 0:o.screenWidth)||Fp.screenWidth;s=Number(s);var l=r.minWidth||0,d=r.maxWidth||0,c=r.baseWidth||375,u=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||Fp.screenWidth,Math.max(l,s));d&&(u=Math.min(u,d)),0===u&&this.setRatio(c/c),a.width=u,this.setRatio(u/c)}}}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];null!=i&&i.length&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];null!=i&&i.length&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)i.force&&!i.targetid?this.doCommonAction({args:t,payload:i}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i.targetid?`${this.adCustomId}-${i.targetid}`:this.id,args:t,payload:i})}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=0,expr:n}=t,o=()=>{if(!n||this.run(n,i))switch(t.action){case Se:var{value:a}=t;if(a.styleExpr)for(var o of Object.keys(a.styleExpr))a.style[o]=this.run(a.styleExpr[o],i);this.setStyle(a.id,a.style);break;case Re:var{key:r}=t.value,s=this.getDataValue("value",t.value);this.getExprInnerVars()[r]=s;break;case ke:break;case Pe:var{detail:l={},eventName:d}=t.value;try{if(null!=i&&i.event&&(l.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var c of Object.keys(t.value.detailExpr)){var u=t.value.detailExpr[c];l[c]=this.run(u,i)}}catch(e){}this.emitAdCustomEvent(Mt.TRIGGEREVENT,{eventName:d,detail:l});break;case We:var{data:h,dataExpr:p,id:f}=t.value;if(p)for(var g of Object.keys(p)){var m=p[g];h[g]=this.run(m,i)}this.emitAdCustomEvent(Mt.REPORTMMDATA,{id:f,data:h});break;case Ge:var{id:y,animation:v}=t.value;this.doAnimation({id:y,animationName:v});break;case ze:var _,E=null==i?void 0:i.event;if(E)this.emitAdCustomEvent(Mt.BTNTAP,{event:E,isHandleDownload:(null===(_=t.value)||void 0===_?void 0:_.isHandleDownload)||!1});break;case $e:var b=null==i?void 0:i.event,{isButton:x}=(null==t?void 0:t.value)||{};"value"in t&&(b=this.getDataValue("event",t.value,{args:i||{}})||b),this.emitAdCustomEvent(Mt.LANDAD,{index:"value"in t?this.getDataValueWithDefault("index",0,t.value,{args:i}):0,event:b,isButton:x});break;case Ye:var w=null==i?void 0:i.event;w&&this.emitAdCustomEvent(Mt.SPLASHSKIPAD,{event:w});break;case Xe:var{id:T,key:C}=t.value,A=this.getDataValue("extInfo",t.value,{args:i});this.emitAdCustomEvent(Mt.REPORTADMONITORDATA,{id:T,key:C,extInfo:A});break;case Ke:var{list:D}=t.value;this.emitAdCustomEvent(Mt.REWARDEDVIDEODYNAMIC,{list:D});break;case Je:var{expr:I}=t.value;I&&this.run(I);break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};a?setTimeout(o,a):o()}run(e,t){var i=this.getInnerFunction(),a=r()(r()({},this.getScope()),i);return Wp(e,t?r()({$args:t},a):a,i)}getElementById(e){if(!e){var t,i,a=null!==(t=null===(i=this.getRootElement())||void 0===i?void 0:i.parent)&&void 0!==t?t:null;return a===Eo?this.getRootElement():a}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){var{left:i,top:a,scaleWidth:n,scaleHeight:o,opacity:r,rotate:s=0,easing:l="ease-in",duration:d=500}=t,c=new Promise(((t,c)=>{Hp("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:d,finalStyle:{left:i,top:a,opacity:r,rotate:s,scaleX:n,scaleY:o},success:t,fail:c})}));return"devtools"===zp&&(c=Promise.all([c,M(d)])),c}doAnimation({id:e,emitEvent:t=!0,animationName:i,animation:a}){var n=this;return b()((function*(){var o=!a&&i?n.animations[i]:a,s=n.getElementById(e);if(o&&s){var{keys:l,duration:d,easing:c,setInitialStyle:u=!0}=o;if(!(((null==l?void 0:l.length)||0)<2)){var h=0;for(var p of Object.keys(l)){var f=l[+p],g=n.getDataValue("offset",f),m=n.getDataValue("opacity",f),y=n.getDataValue("left",f),v=n.getDataValue("top",f),_=n.getDataValue("rotate",f),E=n.getDataValue("scaleX",f),b=n.getDataValue("scaleY",f),x=d*g,w=go({opacity:m,left:y,top:v,rotate:_,scaleWidth:E,scaleHeight:b});if(x<=0)u&&(yield n.setStyle(e,w));else{var T=r()(r()({},w),{},{easing:c,duration:x-h});T.left=w.left,T.top=w.top,yield jp.animate(s,T),h=x}}i&&t&&(yield n.emitComponentEvent(et,{animation:i}))}}}))()}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var i=()=>super.setStyle,a=this;return b()((function*(){var n,o=a.getDataValue("_useApx")?a.convertToApxRatio(t):t,r=e;"$$"===r&&(r=null===(n=a.getRootElement())||void 0===n?void 0:n.name);if(o){for(var s of Object.keys(o))o[s]=a.convertApxStyle(o[s]);var l;if(r)yield i().call(a,r,o);else null===(l=a.parent)||void 0===l||l.setStyle("container",o)}}))()}convertApxStyle(e){return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var o=i.split("Expr");2===o.length&&([a]=o,n=this.run(n))}this.setStyle(t,{[a]:n})}}removeInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(var i of Object.keys(e))this.setStyle(t,{[i]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===Gp[this.adCustomId]&&(Gp[this.adCustomId]={}),Gp[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars();return r()({"#getVar":t=>e[t],"#measureText":(e,t)=>Up.getTextWidth(e,t)},this.props.innerFunctions||{})}updateBubbleEvent(){var e=this.getRootElement();e&&To(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:i=!0,handleClickLimit:a=!0,isReport:n=!1,clickType:o=0}={}){var r=e=>{null!==this.reporter&&(i&&!this.reporter.judgeTriggerClick(e,n)||a&&this.reporter.isClickLimit(e,o))||t(e)};return this.clickCallbackMap.set(t,r),super.onClick(e,r)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var{ratio:t}=this,i=/(\d+)px/g,a={};for(var n of Object.keys(e))if(null!=Ci&&Ci.includes(n)){var o=e[n],r=o;"number"==typeof o?r=o*t:"string"==typeof o?r=o.replace(i,((e,i)=>{var a=Number(i);return Number.isNaN(a)?e:a*t+"px"})):Array.isArray(o)&&null!=o&&o.every((e=>"number"==typeof e))&&(r=o.map((e=>e*t))),a[n]=r}else a[n]=e[n];return a}}class $p extends jp{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}}render(){var{template:e}=this.props,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}$p.subComponents=()=>({CustomLayout:Qp,CustomText:ef,CustomImage:tf,CustomButton:af,CustomVideo:rf,CustomFeedback:sf,CustomEnd:lf,CustomFor:df,CustomCarousel:gf,CustomCountdown:mf});var{_onShow:Yp,_onHide:qp,_offShow:Xp,_offHide:Kp,deviceInfo:Jp}=y;class Zp extends jp{constructor(e){var t,i,a;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.setStyle("body",{hidden:!1,opacity:1}),this.emitAdCustomEvent(Mt.CHECKEXPOSURE)},this.hide=()=>{this.setStyle("body",{hidden:!0,opacity:0}),this.emitAdCustomEvent(Mt.CHECKEXPOSURE)},this.showFeedback=()=>{var{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(tt),this.emitAdCustomEvent(Mt.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(it),this.emitAdCustomEvent(Mt.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,i;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(at),null===(i=this.reporter)||void 0===i||i.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(i=this.template)||void 0===i||null===(a=i.tplConfig)||void 0===a?void 0:a.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");var n=["left","top"];!Jp.isWaGame&&n.push("fixed"),this.isWidthRequired&&n.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",ve(e.adPosition,n))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return r()(r()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}bindEvent(){Yp(this.handleEnterForeground),qp(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){Xp(this.handleEnterForeground),Kp(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var i,a;if(e.action===Ie)"value"in e&&e.value.preventClose?null===(i=this.manager)||void 0===i||i.hide(!0):null===(a=this.manager)||void 0===a||a.hide();else if(e.action===Ve){var n;null===(n=this.manager)||void 0===n||n.reload()}else if(e.action===je)e.value.listExpr?this.emitAdCustomEvent(Mt.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(Mt.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(Mt.CHANGEMULTISHOW,{list:t.list});else if(e.action===Ze){var o=this.getDataValue("reload",e.value,{args:t});this.checkLiveStatus(o)}}isShow(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}checkLiveStatus(e){var t=this;return b()((function*(){var i;if(t.isShow()){var a,n=yield null===(i=t.manager)||void 0===i?void 0:i.adProxy.getChannelsLiveStatusWithRpc();if(t.emitComponentEvent(ut,{status:n||""}),"end"===n&&e)null===(a=t.manager)||void 0===a||a.refetch()}}))()}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:i}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${i?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}Zp.subComponents={CustomItem:$p};class Qp extends jp{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||Bt,this.baseType===Vt?this.classRow=!0:this.baseType===Wt?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===qe){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var i=Math.round(t.height*e);this.setStyle("container",{width:i,left:(t.width-i)/2,top:0})}else{var a=Math.round(t.width/e);this.setStyle("container",{height:a,top:(t.height-a)/2,left:0})}}}getSubComponentProps(e,t){return r()(r()({},this.getCommonSubComponentProps()),{},{template:this.state.children[parseInt(t,10)]})}render(){var{children:e}=this.state,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}Qp.subComponents=()=>({CustomItem:$p});class ef extends jp{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;var t=this.options.baseType||zt;this.baseType=t,t===Gt?this.initCommonComponent():t===zt?this.initNickNameComponent():t===jt&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===$t&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){var e=this.getAdData(),t=[Zi.APPLE_APP_STORE,Zi.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Zo("video",e.crt_size),a=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:e.crt_size===$i.CRT_SIZE_GRID},{path:["crtInfo","0","wxgame_video_card","title"],condition:i},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:[Zi.WE_CHAT_ARTICLE,Zi.GDT_WE_CHAT_ARTICLE].includes(e.product_type)},{value:"电商推广",condition:[Zi.WE_CHAT_SHOP,Zi.JD_URL].includes(e.product_type)},{value:"活动推广"}];this.state.text=Co(e,a)}initDescComponent(){var e=this.getAdData(),t=[Zi.APPLE_APP_STORE,Zi.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Zo("video",e.crt_size),a=e.product_type===Zi.MINI_GAME,n=e.product_type===Zi.WECHAT,o=[Zi.WE_CHAT_ARTICLE,Zi.GDT_WE_CHAT_ARTICLE].includes(e.product_type),r=[Zi.WE_CHAT_SHOP,Zi.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[$i.CRT_SIZE_MULTI_POS_NEW_PIC,$i.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:o},{value:"今日商品推荐",condition:r},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=Co(e,s)}initRelationComponent(){var e=this;return b()((function*(){var t=e.getAdData();if(8===be(t,["crtInfo","0","card_info","mp_tag_type"])){var{aid:i}=t,a=Date.now(),n=be(t,["button_action","button_text"],"");try{var o,r=yield fa({aid:i,buttonText:n}),s=Date.now();e.adProxy.reportRelationFetchDuration({startTime:a,endTime:s,showTime:(null===(o=e.manager)||void 0===o?void 0:o.showDetailTime)||0});var l="";if(r){var{count:d,descText:c}=r;l=e.getDataValueWithDefault("text","",void 0,{args:{count:d,descText:c}}),e.emitComponentEvent(pt,{count:d,descText:c})}e.setState({text:l})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(gi.RELATION_FETCH_ERROR,t)}}}))()}doAction({payload:e}){e.action===Ue&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=$(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class tf extends jp{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||Ht;switch(this.baseType=t,t){case Ft:this.initCommonComponent();break;case Ut:this.initADComponent();break;case Ht:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[Zi.APPLE_APP_STORE,Zi.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=e.crt_size===Di.CRT_SIZE_MULTI_POS_GRID,a=[Zi.WE_CHAT_SHOP,Zi.JD_URL].includes(e.product_type),n=Zo("video",e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var o=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:n},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:a},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=Co(e,o)}initADComponent(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===He&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,i=this.baseType===Ut,{imgUrl:a}=this.state,n=["image-img"];return e&&n.push("image-img-appicon"),t&&n.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          ${i?'bubble-event="false"':""}\n          class="${n.join(" ")}"\n          src="${a}"\n        >\n      </view>\n    `}}class af extends jp{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===Mt.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(Mt.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(ht,{event:e})};var t=this.options.baseType||qt;t===Yt?this.initCommonComponent():t===qt&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Ii.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===Be&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}var nf={videoDataMap:{}},of=(e,t={})=>{e&&(nf.videoDataMap[e]=t)};class rf extends jp{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(vt,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case Mt.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case Mt.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case Mt.APPENTERBACKGROUND:var i=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",i):this.reportVideoPlay("partial","app_exit",i);break;case Mt.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case Mt.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case Mt.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case Mt.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(gi.AD_VIDEO_LOAD_FAILED,e)},this.handleTimeUpdate=e=>{var t,{duration:i,position:a}=e;if(null!=i&&null!=a){var n=Math.min(1,a/i);this.setStyle("videoProgressPlayed",{width:100*n+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(i-a)}s`}),this.emitComponentEvent(yt,{event:e,rate:n}),this.currentTime=1e3*a,this.videoDuration||(this.videoDuration=1e3*i);var o={currentTime:this.currentTime,duration:this.videoDuration},r=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;of(r,o)}},this.handleEnded=e=>{var t;this.emitComponentEvent(ft,{event:e}),this.emitAdCustomEvent(Mt.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),P&&this.reportVideoPlay("partial","start");var i={currentTime:this.videoDuration,duration:this.videoDuration},a=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;of(a,i),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(Mt.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(mt,{event:e}),this.emitAdCustomEvent(Mt.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(gt,{event:e}),this.emitAdCustomEvent(Mt.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||Kt,this.baseType===Xt?this.initCommonComponent():this.baseType===Kt&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(vt,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e,t=this.getAdData();this.src=this.getDataValue("src")||be(t,["video_info","videoUrl"])||be(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||be(t,["video_info","thumbUrl"])||be(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=be(t,["wx_game_video","short_video","video_duration"])||be(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var i={currentTime:0,duration:this.videoDuration},a=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;of(a,i),this.emitAdCustomEvent(Mt.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case Oe:this.toggleMuted();break;case Ne:this.operateVideoPlay("play");break;case Le:this.operateVideoPlay("pause");break;case Me:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,i=0){this.baseType===Kt&&this.emitAdCustomEvent(Mt.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:i,mutedIconSrc:a,voiceIconSrc:n,voicePlacement:o,countDownPlacement:r,isShowProgress:s,isShowCountDown:l,objectFit:d}=this,{muted:c,loop:u,autoplay:h,countDownNumber:p,isEndPageShowing:f}=this.state,g=["video-voice-box"],m=["video-count-down"];return g.push(`video-voice-box-${o}`),m.push(`video-count-down-${r}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${c}"\n          loop="${u}"\n          autoplay="${h}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${d}"\n        >\n          ${!f&&i?`\n            <view id="videovoicebox" bubble-event="false" class="${g.join(" ")}">\n              <image\n                src="${c?a:n}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!f&&l&&p?`\n            <text id="video-count-down" class="${m.join(" ")}" value="${p}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class sf extends jp{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===Zt)return this.handleSimpleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(Mt.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(Et,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(bt,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(_t,{event:e}),this.emitAdCustomEvent(Mt.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(Mt.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||Jt,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){for(var e of(this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick),Object.keys(this.dislikeReasonHandlers))){var t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(Mt.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(Mt.HIDEAD),this.emitComponentEvent(Et,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(xt,{event:t}),this.emitAdCustomEvent(Mt.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(Mt.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(Mt.HIDEAD)}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,a=["feedback-list"],n=["feedback-list"];i&&(a.push(`feedback-list-${i.toLowerCase()}`),n.push(`feedback-list-${i.toLowerCase()}`));var o=this.baseType===Zt?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===Zt?"close-icon":"feedback-icon"}" src="${o}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${a.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${n.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class lf extends jp{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case Mt.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(Mt.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(Tt);break;case Mt.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case Mt.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case Mt.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case Mt.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Mt.ENDPAGEHIDE),this.emitComponentEvent(Ct),this.reportEndPage({act_type:1003}),this.emitComponentEvent(wt)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};var t=this.getAdData();this.cardInfo=Y(t,["crtInfo",0,"card_info"],{});var{end_page_type:i}=this.cardInfo;i&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(Mt.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return r()(r()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(Mt.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===Fe&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Mt.ENDPAGEHIDE),this.emitComponentEvent(Ct))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:We,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Pe,value:{eventName:At}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:We,value:{id:"19002",data:Object.assign({act_type:1001},i)}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var r of Object.keys(o))a[r]&&G(a[r],o[r]);var s=[];return s=2===this.cardInfo.end_page_type?[a.feedBack,a.layoutSmall,a.descBig,a.button]:[a.feedBack,a.iconBig,a.nickBig,a.descSmall,a.button],3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:i}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${i}></image>\n        </view>\n      </view>\n    `}}lf.subComponents=()=>({CustomItem:$p});class df extends jp{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||ei,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===ei?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===ti&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,i){var{template:a,forArr:n}=this;return r()(r()({},this.getCommonSubComponentProps()),{},{idPrefix:this.idPrefix+(a.id||"")+t,forType:this.forType,forItem:n[Number(t)],template:a.children[Number(i)],forIndex:Number(t)})}render(){var{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,i)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${i}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}df.subComponents=()=>({CustomItem:$p});var cf=1,uf=(e,t)=>{cf=e/t},hf=/([+-]?\d+(?:\.\d+)?)apx/g,pf=/([+-]?\d+(?:\.\d+)?)rpx/g,ff=e=>null!=e&&e.replace?e.replace(pf,((e,t)=>`${(e=>{if(0===e)return 0;var{screenWidth:t}=Un,i=e/750*t;return i<0&&(i=-i),i=Math.floor(i+1e-4),e<0?-i:i})(Number(t))}px`)):e;class gf extends jp{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a,n=(this.isCol?e.relativeY:e.relativeX)-t,o=Math.floor(n/this.size);(o<0||o>=20)&&(null===(a=this.manager)||void 0===a||a.adProxy.reportAdMonitorData(ui.REPORT_CAROUSEL_INDEX_ERROR,{currentTime:Date.now(),moveTime:this.moveTime,duration:this.duration,size:this.size,animated:this.animated,animateCount:this.animateCount,posX:e.relativeX,posY:e.relativeY,offset:i,relativeOffset:n}),o=0);this.emitComponentEvent(It,{index:o,event:e})},this.handleAdCustomEvent=({action:e})=>{[Mt.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[Mt.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||ii,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{var i=t?ff(e):e;return i&&"string"==typeof i?i.replace(hf,((e,t)=>`${Number(t*cf)}px`)):i})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===ai,this.onClick("mask",this.handleMaskClick),this.baseType===ii?this.initCarousel("width"):this.baseType===ai&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return b()((function*(){if(e.isViewable&&!e.isPlaying){var t=e.baseType===ii?"left":"top";if(e.disabled)e.emitComponentEvent(Dt,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(Dt,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(var i=function(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(Dt,{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<e.animateCount;a+=1)i(a);e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;var n=setTimeout((()=>{e.timerSet.delete(n),e.autoplay()}),e.duration/4);e.timerSet.add(n)}}}))()}getCustomItemProps(e,t){return r()(r()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}render(){var{template:{children:e}}=this.props,{baseType:t,allCount:i,showCount:a}=this;return e&&e.length&&i&&a?`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===ii?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `:"<view></view>"}}gf.subComponents=()=>({CustomItem:$p});class mf extends jp{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===Mt.CHANGECOUNTDOWN){var i=this.getElementById("countdownvalue"),a=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:a}),i&&(i.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return r()(r()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={};a.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:We,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Pe,value:{eventName:At}}]},data:{}}};var n=this.getDataValue("childrenConf");if(n)for(var o of Object.keys(n))a[o]&&G(a[o],n[o]);var r=[];return r=[a.feedBack],3===e?r.concat(this.template.children||[]):r}render(){var{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}mf.subComponents=()=>({CustomItem:$p});var yf=Zp;class vf{constructor(){this.emitter=new g({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=n.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);"function"==typeof i&&(this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}class _f extends vf{}var Ef,bf={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},xf=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),wf={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},{SDKVersion:Tf}=D,{getSystemInfoSync:Cf,Component:Af,getPrivateThis:Df,createComponent:If,getExptInfoSync:Sf,nativeviewLayout:kf,_getABTestConfig:Pf}=y,Rf=0,Of=0,Nf=0,Lf=0,Mf=0,Bf=0,Vf=0,Wf=0,Ff=!1,Hf=!1,Uf=!1,Gf="",zf="",jf="",$f="",Yf={},qf=!0,Xf="wx_wxapp_expt_launad",Kf="wxfile://ad/adinfos.txt",Jf=k?200:400,Zf=2e3,Qf="CHECK_AD",eg="ONLINE",tg="LOCAL_SELECT",ig=[Qf,eg],ag=[tg],ng="NO_ADINFOS",og="ADINFOS",rg=function(e,t=!0){var i=Df(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&lg.call(this,e,a),i},sg=function(){var e=Df(this);return e.adInfos.useOfflineAd?P&&D.clientVersion<402660384||k&&D.clientVersion<671095808?[]:e.adProxy.getAdPushMsg({slotid:Yi.splashAd}).then((t=>(D.onReady((()=>{e.adProxy.reportAdMonitorData(oa.GET_ADMSG_SUCCESS,t)})),Array.isArray(t.msgData)?t.msgData.map((e=>e.aid)):[]))).catch((t=>{throw D.onReady((()=>{e.adProxy.reportAdMonitorData(oa.GET_ADMSG_FAIL,t)})),t})):[]},lg=function(e,t=0){var i,a=Df(this);if(a.container&&a.container.layoutBox){var{width:n,height:o}=a.container.layoutBox,r=0;[0,2,3].includes(t)&&(a.clickCount+=1,r=a.clickCount);var s={slotid:Yi[a.adType],costtype:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:Date.now(),click_cnt:r,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(n,10)||0,ad_height:parseInt(o,10)||0,press_interval:e.pressInterval,block_click:t};return a.adProxy.reportTouchClick(s)}},dg=function(){var e=Df(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},cg=function(e,t){var i,a=Df(this),{width:n,height:o}=a.container.style,r={click_button:e,cost_type:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,slotid:Yi[a.adType],is_game:Ff?1:0,pageentertime:+new Date(a.adProxy.getProgramStartTime()),ad_width:parseInt(n,10)||0,ad_height:parseInt(o,10)||0,clientexptime:a.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:Rf,screen_height:Of};return a.adProxy.reportAntifraud(r)},ug=function(e){var t,i=Df(this),a=+new Date,n={slotid:Yi[i.adType],is_game:Ff?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:a-i.startExposureTime-i.hideDuration,start_time:i.startExposureTime,close_time:a};return i.adProxy.reportCloseAction(n)},hg=function(e){var t,i=Df(this),a={slotid:Yi[i.adType],is_game:Ff?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return i.adProxy.reportAdEntranceExposure(a)},pg=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){var o=Df(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:Rf,adHeight:Of,adPosX:0,adPosY:0,expTime:o.startExposureTime,slotId:Yi[o.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})},fg=function(e=!1){var t=Df(this);if(!t.isShowed)return Promise.resolve();if(!t.data||!t.container.layoutBox)return M(100).then((()=>fg.call(this,e)));var{left:i,top:a,width:n,height:o}=t.container.layoutBox;if(!t.isShowedExposureReported){if(t.isShowedExposureReported=!0,t.startExposureTime=+new Date,t.adProxy.setTimePoint("p6"),k&&D.clientVersion>=671092224&&D.clientVersion<=671092533){t.adProxy.reportExposure({left:i,top:a,width:n,height:o,exposureType:"showed",source:t.source});var r="launch"===t.source?oa.firstShowSuccess:oa.secondShowSuccess;t.adProxy.reportAdMonitorData(r,{fetchSource:t.fetchSource,fetchType:t.fetchType,newTimeout:t.adInfos.newTimeout,localSelect:t.localSelectSuccess}),t.adProxy.setSplashAdShowStatus()}else D.onReady((()=>{t.adProxy.reportExposure({left:i,top:a,width:n,height:o,exposureType:"showed",source:t.source});var e="launch"===t.source?oa.firstShowSuccess:oa.secondShowSuccess;t.adProxy.reportAdMonitorData(e,{fetchSource:t.fetchSource,fetchType:t.fetchType,newTimeout:t.adInfos.newTimeout,localSelect:t.localSelectSuccess}),t.adProxy.setSplashAdShowStatus()}));try{var s=oa.EXPOSURE_SHOWAD_UNKNOWN;"success"===t.showSplashAdStatus?s=oa.EXPOSURE_SHOWAD_SUCCESS:"fail"===t.showSplashAdStatus&&(s=oa.EXPOSURE_SHOWAD_FAIL),"launch"===t.source&&t.adProxy.reportAdMonitorData(s)}catch(e){}}if(!t.isViewableExposureReported){if(!e)return M(1e3).then((()=>fg.call(this,!0)));t.adProxy.setTimePoint("p7"),t.isViewableExposureReported=!0,t.adProxy.isViewable=!0;t.adProxy.reportExposure({left:i,top:a,width:n,height:o,exposureType:"viewable",source:t.source})}return Promise.resolve()},gg=function(e){var t=Df(this);if(t.container&&t.container.layoutBox){var{left:i,top:a,width:n,height:o}=t.container.layoutBox,r=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-i,clickRelativeTop:e.absoluteY-a,pressInterval:e.pressInterval,left:i,top:a,width:n,height:o,source:t.source});return r}},mg=function(e,t,i=!1){var a=Df(this),{appInfo:{apkName:n,channelId:o,urlScheme:r},product_type:s,dest_type:l}=a.data;if(12===s&&k&&4===a.androidAppState&&r&&r.trim().length>0)gg.call(this,e),cg.call(this,t,e),a.adProxy.launchApplication(r,a.adProxy.data).catch((()=>{})),a.lastJsapiName="launchApplication",a.isLandingPage=!0;else if(12===s&&k&&a.isYYBInstalled){gg.call(this,e),cg.call(this,t,e);var{aid:d,traceid:c,apurl:u}=a.adProxy.data,h=["ANDROIDWX.YYB.WX.ADVERTISE",c,d,n.replace(/\./g,"_"),"0",15,u.indexOf("ad.wx.com")>-1?1:0].join("."),p=`tmast://download?oplist=1,2&pname=${n}&channelid=${o}&via=${h}`;a.adProxy.launchApplication(p).catch((()=>{yg.call(this,{isButton:i})})),a.lastJsapiName="launchApplication",a.isLandingPage=!0}else P&&46===s&&6===l?Promise.race([gg.call(this,e),M(500)]).then((()=>{cg.call(this,t,e),yg.call(this,{isButton:i})})).catch((()=>{cg.call(this,t,e),yg.call(this,{isButton:i})})):(gg.call(this,e),cg.call(this,t,e),yg.call(this,{isButton:i}))},yg=function(e={}){var t=Df(this),i=t.adProxy.land(e);try{t.countTimer||t.adProxy.reportAdMonitorData(oa.LANDING_COUNTDOWN_FAIL)}catch(e){}return i.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(oa.landingPageFail,{source:t.source,msg:e})})),i},vg=function(e){var t=Df(this);for(var i of e)t[i]&&clearTimeout(t[i])},_g=function(){var e,t=Df(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.showSplashAdStatus="unknown",t.localSelectSuccess=!1,t.fetchType="",t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",t.fetchSource="",vg.call(this,["countTimer"]),D.onReady((()=>{var e,i,a;t.adProxy.reportTimePoints({slotid:Yi[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(i=t.showInfo)||void 0===i?void 0:i.instanceId,scene:null===(a=t.showInfo)||void 0===a?void 0:a.scene,extInfo:{adInfos:t.adInfos}})}))},Eg=function(e={},t){t&&ug.call(this,t),function(e){te("closeSplashAd",e)}(e)},bg=function(){var e=Df(this);e.container&&(e.isDynamic&&(e.tplComponent&&Vn(e.tplComponent),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null),kf.remove(e.container)),_g.call(this)},xg=function(e={},t={}){return Df(this).adProxy.fetch(!1,e,t)},wg=function(){var e=Df(this);if((k||P)&&!Uf)try{e.adFetchResult=xg.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(oa.OTHER_ADS_EMIT_FETCH)}catch(e){}},Tg=function(){var e,t=Df(this).data||{},i={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)i=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var a=t.crtInfo?t.crtInfo[0]:{};i=null!=a&&a.card_info?a.card_info:{}}return i},Cg=function(){var e,t,i=Df(this),a=+new Date-i.startExposureTime-i.hideDuration,n=5e3;(null==i||null===(e=i.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_splashad_show_duration)>=n&&(n=i.data.condition.widget_gray_splashad_show_duration);var o=n-a;if(o>=0){var r=Math.ceil(o/1e3).toString();i.countDown&&(i.countDown.value=r),i.tplComponent&&i.tplComponent.emitAdCustomEvent(Mt.CHANGECOUNTDOWN,{value:r}),i.countTimer&&clearTimeout(i.countTimer),i.countTimer=setTimeout((()=>{Cg.call(this)}),1e3)}else"launch"===i.source&&i.isShowedExposureReported&&(i.isDynamic&&i.tplComponent.hide(),Eg.call(this,{source:i.source,animated:!0},12))},Ag=function(){var e=Df(this);if("launch"===e.source)e.topBar&&Lf&&(e.topBar.style.top=Lf,e.adFeedbackMenu.style.top=Lf+34,e.adFeedbackList.style.top=Lf+34),e.closeContainer&&(e.closeContainer.style.marginTop=Mf-68),e.appInfo&&(e.appInfo.style.height=Bf,e.appInfo.style.width=Rf,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=Ff?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=Rf,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=Rf,e.tipsLineOne.style.width=Rf,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=Of-Bf,e.adCloseTips.style.width=Rf);else if("menu"===e.source){var t;if(!e.data)return;var{data:i}=e,a=Tg.call(this),n=Cf();e.adIcon.src=a.thumb,e.adName.value=a.title,null!==(t=i.button_action)&&void 0!==t&&t.button_text&&(e.button.value=i.button_action.button_text),n.screenTop&&n.screenTop>0?Nf=n.screenTop:Nf&&0!==Nf||(Nf=88*Of/812),e.navigator.style.height=Nf,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=Rf,e.card.style.height=Bf-Nf,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=Mf-12,e.mediaBottom.style.width=Rf,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var o=e.data||{},r=Tg.call(this);if(r&&e.adHeadInfo&&(e.adHeadIcon.src=r.thumb||"",e.adversName.value=r.title||"",e.adHeadInfo.style.width=Rf/375*311,e.adversName.style.width=Rf/375*311),o.hint_txt&&e.adTitle&&o.crt_size!==$i.CRT_SIZE_BIG_PIC?(e.adTitle.value=o.hint_txt,e.adTitle.style.width=Rf/375*311):r.description&&e.adTitle?(e.adTitle.value=r.description,e.adTitle.style.width=Rf/375*311):e.adTitle&&o.product_type&&ua[o.product_type]&&(e.adTitle.value=`今日${ua[o.product_type]}推荐`,e.adTitle.style.width=Rf/375*311),o.button_action&&e.adButtonContainer){e.adButton.value=o.button_action.button_text,e.adButtonContainer.style.width=Rf,e.closeContainer&&(e.closeContainer.style.marginTop=Mf-132);var s={text:o.button_action.button_text,fontSize:17},l=q(s)||80;e.adButton.style.width=l+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},Dg=function(e){var t,i,a,n,o=Df(this);if(o.dynamicElems||(o.dynamicElems={}),o.dynamicEmitter||Ng.call(this),!o.dynamicElems.root){var s=null==o||null===(t=o.data)||void 0===t?void 0:t.adDynamicList;null!=o&&null!==(i=o.data)&&void 0!==i&&i.template&&(s=o.data.template),Yf=null===(a=s)||void 0===a||null===(n=a.tplConfig)||void 0===n?void 0:n.cacheFile;var l={};if(Yf&&Object.keys(Yf).length>0){var d,c,u,h=(null==o||null===(d=o.data)||void 0===d||null===(c=d.rerankingExtInfo)||void 0===c?void 0:c.material_hash)||"",p=(null===(u=o.data)||void 0===u?void 0:u.aid)||"";Object.keys(Yf).forEach((e=>{try{var t=`wxfile://ad/${p}_${h}_${e}.png`;me(t),l=r()(r()({},l),{},{[e]:t})}catch(e){o.adProxy.reportAdMonitorData({idKey:33,idKeyGroup:1646},e)}}))}var f=kg.call(this,{tpl:s,source:e,cacheLocalFile:l}),g=f.getRootElement();o.dynamicElems.root=g,o.container.add(o.dynamicElems.root),f.show(),o.tplComponent=f,o.tplComponent.emitComponentEvent(dt)}},Ig=function(){var e="",t=Df(this).adProxy.data,i=Tg.call(this);return t.hint_txt&&t.crt_size!==$i.CRT_SIZE_BIG_PIC?e=t.hint_txt:i.description?e=i.description:t.product_type&&ua[t.product_type]&&(e=`今日${ua[t.product_type]}推荐`),e},Sg=function(){var e="",t=Df(this).adProxy.data;return t.product_type&&ua[t.product_type]&&(e=`今日${ua[t.product_type]}推荐`),e},kg=function({tpl:e,source:t,cacheLocalFile:i}){var a=Df(this),n=a.adProxy.data,o=Ig.call(this),r=Tg.call(this),s=Sg.call(this);return Mn(Zp,{manager:null,reporter:null,emitter:a.dynamicEmitter,adProxy:a.adProxy,template:e,systemInfo:{screenWidth:Rf,screenHeight:Of},adData:n,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:Lf||40,source:t,screenTop:Nf||88*Of/812,isDarkMode:a.isDarkMode,adTitle:o||"",adSubTitle:s||"",cardInfo:r,materialFile:Gf,materialBgFile:jf,materialBlurFile:$f,private:a,appIcon:a.showInfo.appIcon,appName:a.showInfo.appName,cacheLocalFile:i}},!1)},Pg=function(){var e=b()((function*(e){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var i of e)try{var[a,n]=yield i;if(a)throw a;if(ag.includes(null==n?void 0:n.source)&&(2!==t.length||!t.every((e=>e===Ae))))throw"NOT_USE_LOCAL";if(null==n||!n.aid)throw`${null==n?void 0:n.source}_NO_AID`;return n}catch(e){t.push(e)}throw t}));return function(t){return e.apply(this,arguments)}}(),Rg=function(e){var t=Df(this);rg.call(this,e,!1)&&(dg.call(this)||"launch"===t.source&&Eg.call(this,{source:t.source,animated:!0},11))},Og=function(e){var t=Df(this);switch(e.action){case Mt.LANDAD:var{event:i,index:a,isButton:n}=e.value,o=a;if(!rg.call(this,i,13===o))return;13===o&&mg.call(this,i,o,n),Eg.call(this,{source:t.source,animated:!1},o),16===o&&(t.isLandingPage=!0,M(Jf).then((()=>mg.call(this,i,o,n))));break;case Mt.CHECKEXPOSURE:t.dynamicRendered=!0,t.isShowed=!0,t.isShowedExposureReported||fg.call(this),"launch"!==t.source||t.countTimer||Cg.call(this);break;case Mt.FEEDBACKREPORT:pg.call(this,e.value);break;case Mt.FEEDBACKBTNTAP:t.data&&t.adProxy.openFeedbackUrl(1014);break;case Mt.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case Mt.SPLASHSKIPAD:var{event:r}=e.value;Rg.call(this,r);break;case Mt.REPORTADMONITORDATA:var s=null==e?void 0:e.value,{id:l,key:d,extInfo:c}=s,u=l?{idKeyGroup:l,idKey:d}:d;t.adProxy.reportAdMonitorData(u,c)}},Ng=function(){var e=Df(this);e.dynamicEmitter=new _f,e.dynamicEmitter.on("adCustomEvent",(e=>{Og.call(this,e)}))},Lg=function(e,t=!1){var i=Df(this);e.forEach((e=>{var{root:t}=w()(wf[e.name]),a=If.call(this,t);i[e.parent].add(a)})),i.componentsRenderred=!0,Ag.call(this),t&&Mg.call(this)},Mg=function(){var e=Df(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||pg.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,pg.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&Eg.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,pg.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,pg.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&Eg.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,pg.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&Eg.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{rg.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,pg.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&Eg.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{rg.call(this,t,!1)&&(dg.call(this)||"launch"===e.source&&Eg.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{Bg.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{Bg.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{if(rg.call(this,t,!1))return e.data?(Eg.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,M(Jf).then((()=>mg.call(this,t,16)))):void 0}));for(var t of["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"])e[t]&&!e.eventsMap[t]&&(e.eventsMap[t]=!0)},Bg=function(e,t=""){var i,a,n=Df(this);if((!((null==n||null===(i=n.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_splash_click_area_switch)||0)||"button"===t)&&rg.call(this,e,!1))return n.data&&"launch"===n.source?!Ff||k?(mg.call(this,e,13),M(200).then((()=>Eg.call(this,{source:n.source,animated:!1},13)))):(Eg.call(this,{source:n.source,animated:!1},13),mg.call(this,e,13)):void 0},Vg=function(){var e,t=Df(this);if(t.data){var i=Tg.call(this);i&&"launch"===t.source&&(e={showMenu:!0,title:i.title,icon:i.thumb,success:()=>{t.adProxy.reportAdMonitorData(oa.showSplashAdMenuSuccess)},fail:e=>{t.adProxy.reportAdMonitorData(oa.showSplashAdMenuFail,{msg:e})}},te("showSplashAdMenu",e))}},Wg=function(){var e=Df(this);try{var t,i=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[i])}catch(e){}},Fg=function(){var e=Df(this);if(!e.data||""===e.data||"object"!=typeof e.data){var t=fe(zf,"utf-8");try{var i=JSON.parse(t);e.data=i,e.adProxy.data=i}catch(t){D.onReady((()=>{e.adProxy.reportAdMonitorData(oa.readFileDataFail,{source:e.source,msg:t})}))}}},Hg=function(){var e=Df(this);if("launch"===e.source){Lg.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},Ug=function(){var e=Df(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(k||Lf>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),Lg.call(this,t,!0),de({state:0}),kf.layout().then((()=>{de({state:1}),kf.auto=!0})).catch((t=>{D.onReady((()=>{e.adProxy.reportAdMonitorData(oa.secondInsertFail,{source:e.source,msg:t})}))}))}},Gg=function(){var e=Df(this);Bf=Math.max(160,160*Of/812),Mf=Of-Bf,e.adMedia.style.width=Rf,e.adMedia.style.height=Mf;var t=9*Of/16;e.adMaterial.style.width=t,e.adMaterial.style.height=Of,e.adMaterial.style.left=t>Rf?(Rf-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=Gf:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=Rf,e.adMaterial.style.height=Mf,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=Rf,e.adMaterialContainer.style.height=Mf,e.adMaterialBg.style.width=.45*Of*16/9,e.adMaterialBg.style.height=.45*Of,e.adMaterialBg.style.left=-(.45*Of*16/9-Rf)/2,e.adMaterialLandscape.style.width=Rf/375*311,e.adMaterialLandscape.style.height=Rf/375*175,e.adMaterialBg.src=Gf,e.adMaterialLandscape.src=Gf,e.adCardInfo.style.width=Rf/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=Of/1920},zg=function(e){var t,i,a=Df(this);a.showInfo=e,a.source=e.source,a.isDarkMode=e.isDarkMode||!1,e.isGame&&(Ff=e.isGame),k&&(Lf=(null==e?void 0:e.rightButtonTop)||0);var n=Cf();if(Rf=e.screenWidth,Of=Math.max(n.screenHeight,e.screenHeight),Fg.call(this),null!=a&&null!==(t=a.data)&&void 0!==t&&t.adDynamicList||null!=a&&null!==(i=a.data)&&void 0!==i&&i.template){var{root:o}=w()('\n  <view id="container">\n  </view>\n');Sp.call(this,o,bf),a.isDynamic=!0,kf.auto=!0,Dg.call(this,e.source)}else Sp.call(this,(()=>{if(!Ef){var{root:e}=w()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n');Ef=e}return Ef})(),xf),Gg.call(this);if(a.container.style.width=Rf,a.container.style.height=Of,a.container.style.backgroundColor=a.isDarkMode?"#191919":"#ffffff",kf.add(a.container),!a.isDynamic)try{ge({path:$f,success:()=>{a.adMaterialBg.src=$f}}),ge({path:jf,success:()=>{a.adMaterial.src=jf},fail:()=>{a.adMaterial.style.backgroundColor="#333333"}})}catch(e){}var r=[];"menu"!==a.source||a.isDynamic||(Fg.call(this),r=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===a.crtOrientation&&(r=r.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),a.navigator.style.hidden=!1,Lg.call(this,r,!0)),le({state:0}),kf.layout().then((()=>{if(a.firstInserted=!0,a.isShowed=!0,le({state:1}),"launch"!==a.source||a.isDynamic)kf.auto=!0,a.container.requestLayout();else try{Ug.call(this)}catch(e){D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.secondRenderFail,{source:a.source,msg:e})}))}})).catch((e=>{D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.firstInsertFail,{source:a.source,msg:e})}))}))},jg=function(e,t={},i,a){var n=Df(this),o=Wf+ca[a],r=oa[a];return D.onReady((()=>{var i;n.adProxy.reportAdMonitorData(r,t),n.adProxy.reportTimePoints({slotid:Yi[n.adType],costtype:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:o,scene:e.scene,extInfo:t})})),n.adInfos.newTimeout&&(D.onReady((()=>{n.adProxy.reportAdMonitorData(oa.NEW_TIMEOUT_CLOSE_AD,a)})),Eg.call(this,{source:e.source,animated:!1},50)),se({adCallTime:Date.now(),errCode:o,show:!1,eventReceivedTime:i.startInit,cgiFetchStart:i.startFetchTime||0,cgiFetchCallBack:i.fetchCallbackTime||0})},$g=function(e,t){this.showDetail(t,e,!1,!0)},Yg=function(e,t){var i=Df(this),a=i.adInfos.requestInQueue&&"true"===i.adInfos.requestInQueue,n=JSON.stringify({weapp_enter_scene:e.scene||0}),o={slot_id:Yi[i.adType],publisher_appid:e.appId,network_type:da[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:Tf,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:i.adInfos.ads||[],ext_check_ads_weapp:n};return i.adProxy.setTimePoint("p15"),D.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(oa.CHECK_AD_BEGIN,{localSelect:i.localSelectSuccess}),i.adProxy.reportAdMonitorData(oa.START_CHECK_AD_STATUS)}),1500)})),pa(o,a).then((e=>(D.onReady((()=>{setTimeout((()=>{var t;i.adProxy.reportAdMonitorData(oa.CHECK_AD_SUCCESS,r()(r()({},e),{},{localSelect:i.localSelectSuccess})),i.adProxy.reportAdMonitorData(oa.CHECK_AD_STATUS_SUCCESS),null!=e&&null!==(t=e.data)&&void 0!==t&&t.aid&&i.adProxy.reportAdMonitorData(oa.CHECK_AD_RESULT_SUCCESS,{localSelect:i.localSelectSuccess})}),1500)})),i.adProxy.setTimePoint("p16"),r()(r()({},e.data),{},{source:Qf})))).catch((a=>{if(i.adProxy.setTimePoint("p16"),i.adProxy.reportAdMonitorData(oa.CHECK_AD_FAIL,a),i.adInfos.checkAndFetchUseCatch)throw a;return jg.call(this,e,{msg:a},{startInit:t},"CHECK_AD_STATUS_ERROR")}))},qg=function(e,t,i=[]){var a=Df(this),n={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Tf,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:P,isAndroid:k,adNetworkType:e.networkType},o={weappEnterScene:e.scene,requestType:2,preloadAds:i};return a.adProxy.setTimePoint("p15"),D.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_BEGIN,{fetchType:a.fetchType,localSelect:a.localSelectSuccess}),a.adProxy.reportAdMonitorData(oa.START_CHECK_AD_STATUS)}),Zf)})),xg.call(this,n,o).then((e=>{if(D.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_SUCCESS,{fetchType:a.fetchType,localSelect:a.localSelectSuccess}),a.adProxy.reportAdMonitorData(oa.CHECK_AD_STATUS_SUCCESS),null!=e&&e.aid&&a.adProxy.reportAdMonitorData(oa.ONLINE_AD_RESULT_SUCCESS,{fetchType:a.fetchType,localSelect:a.localSelectSuccess})}),Zf)})),a.adProxy.setTimePoint("p16"),"fetch"!==a.adProxy.lastAdRespone||null==e||!e.aid)return{aid:0,isRealtime:!1,source:eg};return a.fetchSource||(a.data=e,a.adProxy.data=e),{aid:e.aid,isRealtime:!0,source:eg}})).catch((i=>{if(a.adProxy.reportAdMonitorData(oa.ONLINE_AD_FAIL,i),a.adProxy.setTimePoint("p16"),a.adInfos.checkAndFetchUseCatch)throw i;return jg.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR")}))},Xg=function(){var e=b()((function*(e){var t,i,a,n,o=Df(this);D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.LOCAL_SELECT_BEGIN)}));var r=null===(t=o.adInfos)||void 0===t?void 0:t.localBlacklistExtBackComm;if(Array.isArray(r)&&r.includes(o.showInfo.appId))throw D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var s=null===(i=o.adInfos)||void 0===i?void 0:i.localBlackList;if(""!==s&&s.includes(o.showInfo.appId))throw D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";Date.now();var l=yield sg.call(this);l.length>0&&o.adInfos.ads.some((e=>l.includes(Number(null==e?void 0:e.aid))))&&(o.adInfos.ads=o.adInfos.ads.filter((e=>!l.includes(Number(e.aid)))),D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.OFFLINE_AD)})));var d=this.getLocalSelectAid.call(this),c=null!==(a=null===(n=o.adInfos)||void 0===n?void 0:n.localSelectExpire)&&void 0!==a?a:1;if(d&&!Jg.call(this,c)){try{this.checkLocalAdFile(d)}catch(e){throw D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.LOCAL_SELECT_NO_FILE,e)})),e}if(D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.LOCAL_SELECT_SUCCESS)})),o.adInfos.newTimeout){Wf=6e4;var u={startInit:o.adProxy.getTimePoint("p14")};o.adProxy.setTimePoint("p17"),se({showMenu:!0,show:!0,errCode:Vf+Wf,adCallTime:o.adProxy.getTimePoint("p17"),eventReceivedTime:u.startInit,success:()=>{o.showSplashAdStatus="success",D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.launchShowSplashAdSuccess),o.adProxy.reportAdMonitorData(oa.SHOW_AD_BY_PRELOAD)}))},fail:e=>{o.showSplashAdStatus="fail",D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.SHOW_AD_BY_PRELOAD_FAIL,{adInfos:o.adInfos,msg:e})}))}})}return o.localSelectSuccess=!0,{aid:d,source:tg}}throw D.onReady((()=>{o.adProxy.reportAdMonitorData(d?oa.LOCAL_SELECT_NO_AID:oa.LOCAL_SELECT_OUTDATE)})),"NO_AID"}));return function(t){return e.apply(this,arguments)}}(),Kg=function(e){var t=Df(this);for(var i of(t.adDatas={},e))try{var a=`wxfile://ad/${i.aid}.txt`,n=fe(a,"utf-8"),o=JSON.parse(n);t.adDatas[i.aid]=o}catch(e){}},Jg=function(e){var t,i=24*e*3600*1e3,a=(null===(t=Df(this).adInfos)||void 0===t?void 0:t.lastSaveTime)||0;return!!a&&Date.now()-a>=i};class Zg extends Af{constructor(){super(),this.twoTimeoutRejectPromise=(e,t,i)=>{var a=Df(this);return Promise.race([e,new Promise(((e,n)=>{setTimeout((()=>{a.localSelectSuccess||n(Ae)}),t),setTimeout((()=>{a.localSelectSuccess&&n(Ae)}),i)}))])};var e=Df(this);e.canShowed=!1,e.today=z(),e.countTimer=null,e.componentsRenderred=!1,e.isShowed=!1,e.firstInserted=!1,e.adFeedbackInserted=!1,e.isDynamic=!1,e.isShowedExposureReported=!1,e.startExposureTime=0,e.isViewableExposureReported=!1,e.clickCount=0,e.lastLandingTime=0,e.lastJsapiName="",e.lastJsapiStatus=0,e.lastJsapiCostTime=0,e.isLandingPage=!1,e.landingPageCostTime=0,e.hideTime=0,e.hideDuration=0,e.showSplashAdStatus="unknown",e.localSelectSuccess=!1,e.fetchType="",e.isClosing=!1,e.isShowCloseTip=!1,e.clickFirstGradeTime=0,e.eventsMap={},e.source="",e.fetchSource="",e.crtOrientation="portrait",e.adType="splashAd",e.adProxy=new Dp({adUnitId:"",adType:e.adType}),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null,v("onSplashAdButtonClicked",(t=>{"close"===t.buttonType&&"launch"===t.source?(ug.call(this,10),vg.call(this,["countTimer"])):"close"===t.buttonType&&"menu"===t.source?ug.call(this,14):"back"!==t.buttonType||"menu"!==t.source||e.isLandingPage?"menu"===t.buttonType&&hg.call(this,1):ug.call(this,15)})),function(e){v("onSplashAdWillLayout",e)}((t=>{if(t.menuViewFrame&&("launch"===t.source?(Lf=t.menuViewFrame.y||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&Lf&&e.tplComponent.emitComponentEvent(ct,{countdownTop:Lf})):"menu"===t.source&&(Nf=t.menuViewFrame.height||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&Nf&&e.tplComponent.emitComponentEvent(ct,{navHeight:Nf,menuHeight:172-Nf})),P&&e.firstInserted&&!e.adFeedbackInserted))try{Hg.call(this)}catch(t){D.onReady((()=>{e.adProxy.reportAdMonitorData(oa.iosThirdInsertFail,{source:e.source,msg:t})}))}})),function(e){v("onSplashAdShow",e)}((()=>{e.adProxy.setTimePoint("p5"),"launch"!==e.source||e.isDynamic||(Fg.call(this),Ag.call(this)),Vg.call(this),Wg.call(this),e.hideTime>0&&(e.hideDuration=+new Date-e.hideTime),e.isShowedExposureReported||fg.call(this),"launch"!==e.source||e.countTimer||Cg.call(this),e.isLandingPage&&(e.isLandingPage=!1)})),function(e){v("onSplashAdHide",e)}((()=>{e.hideTime=+new Date,vg.call(this,["countTimer"])})),function(e){v("onSplashAdClose",e)}((()=>{Hf||(Hf=!0),P&&e.startExposureTime>0&&+new Date-e.startExposureTime>1e3&&fg.call(this,!0);try{e.countTimer||e.adProxy.reportAdMonitorData(oa.CLOSE_COUNTDOWN_FAIL);var t=oa.CLOSE_SHOWAD_UNKNOWN;"success"===e.showSplashAdStatus?t=oa.CLOSE_SHOWAD_SUCCESS:"fail"===e.showSplashAdStatus&&(t=oa.CLOSE_SHOWAD_FAIL),"launch"===e.source&&e.adProxy.reportAdMonitorData(t)}catch(e){}bg.call(this)}))}otherAdsEmitFetch(){wg.call(this)}show(e){var t=this;return b()((function*(){var i;Uf=!0;var a=Df(t);if(a.adProxy.instanceId=e.instanceId,a.showInfo=e,k&&(D.clientVersion>=671095864&&D.clientVersion<=671095903||D.clientVersion>=671096064)||P&&D.clientVersion>=402660898)try{Pf({experimentType:"opConfig",success:e=>{var t,i,n;null==e||null===(t=e.opConfig)||void 0===t||null===(i=t.expt_info)||void 0===i||null===(n=i.expt_param_list)||void 0===n||n.forEach((e=>{(null==e?void 0:e.param_name)===Xf&&(D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.GET_WETEST_CONFIG_SUCCESS,null==e?void 0:e.param_value)})),"1"===(null==e?void 0:e.param_value)&&(qf=!0),"0"===(null==e?void 0:e.param_value)&&(qf=!1))}))},fail:e=>{a.adProxy.reportAdMonitorData(oa.GET_WETEST_CONFIG_FAIL,e)}})}catch(e){a.adProxy.reportAdMonitorData(oa.GET_WETEST_CONFIG_FAIL,e)}a.adProxy.scene=e.scene,a.adProxy.setTimePoint("p14");var n=a.adProxy.getTimePoint("p14");if(D.onReady((()=>{setTimeout((()=>{var t="launch"===e.source?oa.launchAcceptShouldShow:oa.menuAcceptShouldShow;a.adProxy.reportAdMonitorData(t)}),Zf);var t=Sf([Xf]);"0"===t[Xf]&&(qf=!1),"1"===t[Xf]&&a.adProxy.reportAdMonitorData(oa.EXP_SHOW)})),"launch"!==e.source)return t.showDetail(e);k&&D.clientVersion>=671092224&&D.clientVersion<=671092533?setTimeout((()=>{a.adFetchResult=xg.call(t).catch((()=>{}))}),3e3):D.onReady((()=>{setTimeout((()=>{a.adFetchResult=xg.call(t).catch((()=>{}))}),3e3)}));var o={};try{var s=fe(Kf,"utf-8");o.adInfos=s||{},a.adInfos=JSON.parse(s)}catch(e){a.adInfos={},o.errMsg=a.adProxy.processStackMsg(e),o.fileName=Kf}var l=(null===(i=a.adInfos)||void 0===i?void 0:i.outedDateIntervals)||7;if(0===Object.keys(a.adInfos).length||Jg.call(t,l))Wf=1e4,Vf=ca.NO_ADINFOS,a.fetchType=ng,D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.FETCH_BEGIN,{fetchType:a.fetchType})})),t.showAdByRealtimeFetch(e,n);else{a.adProxy.splashExpCondition=a.adInfos.expCondition,a.fetchType=og;var d=a.adInfos.ads||[];setTimeout((()=>Kg.call(t,d)),50),Wf=5e4;var c=k?1500:1e3,u=k?1200:900,h=c-(Date.now()-n)-150;a.adInfos.onlineFetchTimeout&&(u=h=c-(Date.now()-n)-a.adInfos.onlineFetchTimeout);var p=qg.call(t,e,n),f=Yg.call(t,e,n);D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.FETCH_BEGIN,{fetchType:a.fetchType})}));var g=De(f,h).catch((e=>{throw e===Ae&&D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.CHECK_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e})),m=De(p,u).catch((e=>{throw e===Ae&&D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e}));if(a.adInfos.newTimeout){var y=(()=>{var e,t=D.envPreloadType,i=k?1500:1e3;0===t&&k&&(i=3e3);var n=a.showInfo.instanceId,o=null==n||null===(e=n.split("_"))||void 0===e?void 0:e[1],r=k?155:0;if(o){var s=Date.now()-o;s>=0&&s<=300&&(r=s)}return i-r}).call(t);g=t.twoTimeoutRejectPromise(f,h,y).catch((e=>{throw e===Ae&&D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.CHECK_AD_TIMEOUT)})),e})),m=t.twoTimeoutRejectPromise(p,h,y).catch((e=>{throw e===Ae&&D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_TIMEOUT)})),e}))}var v=[];if(v.push(m),v.push(g),"none"!==e.networkType){var _=Xg.call(t,n);v.push(_)}var E=Pg(v);yield E.then((i=>{D.onReady((()=>{a.adProxy.reportAdMonitorData(oa.FETCH_SUCCESS,r()(r()({},i),{},{localSelect:a.localSelectSuccess}))})),a.fetchSource=i.source,ig.includes(i.source)?t.showAdByOnline(i,e):ag.includes(i.source)&&$g.call(t,i,e)})).catch((i=>{var n={startInit:a.adProxy.getTimePoint("p14"),startFetchTime:a.adProxy.getTimePoint("p15"),fetchCallbackTime:a.adProxy.getTimePoint("p16")};return jg.call(t,e,{adInfos:a.adInfos,checkAdStatus:i},n,"NO_AID")}))}try{var b,x=(null===(b=a.adInfos)||void 0===b?void 0:b.deviceInfo)||{};a.adProxy.setDeviceInfo(x)}catch(e){}}))()}showAdByOnline(e,t){var i=(null==e?void 0:e.isRealtime)||!1;Wf=i?4e4:3e4,this.showDetail(t,e,i)}showAdByRealtimeFetch(e,t,i=[]){var a=Df(this),n={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Tf,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:P,isAndroid:k,adNetworkType:e.networkType},o={weappEnterScene:e.scene,requestType:2,preloadAds:i};return a.adProxy.setTimePoint("p15"),D.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_BEGIN,{fetchType:a.fetchType}),a.adProxy.reportAdMonitorData(oa.START_CHECK_AD_STATUS)}),Zf)})),xg.call(this,n,o).then((t=>{D.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(oa.ONLINE_AD_SUCCESS,{fetchType:a.fetchType}),a.adProxy.reportAdMonitorData(oa.CHECK_AD_STATUS_SUCCESS),null!=t&&t.aid&&a.adProxy.reportAdMonitorData(oa.ONLINE_AD_RESULT_SUCCESS,{fetchType:a.fetchType})}),Zf)})),a.adProxy.setTimePoint("p16");var i=!1;"fetch"===a.adProxy.lastAdRespone&&(a.isCheckAdRequest=!1,a.data=t,a.adProxy.data=t,i=!0,Wf=1e4===Wf?1e4:3e4),D.onReady((()=>{var e=Number(t.aid);0!==e&&a.adProxy.reportAdMonitorData(oa.FETCH_SUCCESS,{aid:e,source:eg})})),this.showDetail(e,{aid:Number(t.aid)},i)})).catch((i=>(a.adProxy.setTimePoint("p16"),a.adProxy.reportAdMonitorData(oa.ONLINE_AD_FAIL),jg.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}showAdByCheckAdsOnline(e,t){var i=Df(this),a=i.adInfos.requestInQueue&&"true"===i.adInfos.requestInQueue,n=JSON.stringify({weapp_enter_scene:e.scene||0}),o={slot_id:Yi[i.adType],publisher_appid:e.appId,network_type:da[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:Tf,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:i.adInfos.ads||[],ext_check_ads_weapp:n};i.adProxy.setTimePoint("p15"),D.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(oa.START_CHECK_AD_STATUS)}),1500)})),pa(o,a).then((t=>{D.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(oa.CHECK_AD_STATUS_SUCCESS)}),1500)})),i.adProxy.setTimePoint("p16");var a=t.data;this.showDetail(e,a)})).catch((a=>(i.adProxy.setTimePoint("p16"),jg.call(this,e,{msg:a},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}getLocalSelectAid(){var e,t,i,a=null===(e=Df(this).adInfos)||void 0===e||null===(t=e.ads)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.aid;return!(!a||0===Number(a))&&a}checkLocalAdFile(e){var t,i=Df(this),a=[],n=e?null==i||null===(t=i.adInfos)||void 0===t?void 0:t.materialHashMap[e]:"";zf=`wxfile://ad/${e}.txt`,Gf=`wxfile://ad/${e}_${n}.png`,a.push(zf),a.push(Gf),a.forEach((e=>{me(e)}))}showDetail(e,t={aid:0},i=!1,a=!1){var n=this;return b()((function*(){kf.style.width=e.screenWidth,kf.style.height=e.screenHeight,kf.auto=!1;var o=Df(n),r={startInit:o.adProxy.getTimePoint("p14"),startFetchTime:o.adProxy.getTimePoint("p15"),fetchCallbackTime:o.adProxy.getTimePoint("p16")},s=[],{aid:l}=t;if("launch"===e.source&&(!l||"0"===l))return jg.call(n,e,{adInfos:o.adInfos,checkAdStatus:t},r,"NO_AID");if("launch"===e.source&&i&&!a){var d,c,u,h=(null==o||null===(d=o.data)||void 0===d||null===(c=d.rerankingExtInfo)||void 0===c?void 0:c.material_hash)||"";Gf=`wxfile://ad/${l}_${h}.png`,jf=`wxfile://ad/${l}_${h}_pure_color.png`,$f=`wxfile://ad/${l}_${h}_blur.png`,s.push(Gf),o.crtOrientation="portrait";var p=(null==o||null===(u=o.data)||void 0===u?void 0:u.crtInfo[0])||{};if(Object.keys(p).length>0){var{width:f,height:g}=p;o.crtOrientation=f>=g?"landscape":"portrait"}"landscape"===o.crtOrientation&&s.push(jf)}else if("launch"!==e.source||i||a){if("menu"===e.source&&!a){var m,y,v={};null!==(m=o.data)&&void 0!==m&&m.crtInfo&&o.data.crtInfo.length>0?[v]=o.data.crtInfo:null!==(y=o.data)&&void 0!==y&&y.crtInfo&&(v=o.data.crtInfo),Object.keys(v).length>0&&!o.crtOrientation&&(o.crtOrientation=o.data.crtInfo.width>o.data.crtInfo.height?"landscape":"portrait"),hg.call(n,2)}}else{var _,E,b,x;if(l&&null!=o&&null!==(_=o.adDatas)&&void 0!==_&&_[l]&&(o.data=o.adDatas[l],o.adProxy.data=o.adDatas[l]),o.crtOrientation=l?null==o||null===(E=o.adInfos)||void 0===E||null===(b=E.crtSizeMap)||void 0===b?void 0:b[l]:"",!o.crtOrientation)return jg.call(n,e,{adInfos:o.adInfos,checkAdStatus:t},r,"CRT_ORIENTATION_NOT_SURE");var w=l?null==o||null===(x=o.adInfos)||void 0===x?void 0:x.materialHashMap[l]:"";zf=`wxfile://ad/${l}.txt`,Gf=`wxfile://ad/${l}_${w}.png`,jf=`wxfile://ad/${l}_${w}_pure_color.png`,$f=`wxfile://ad/${l}_${w}_blur.png`,s.push(zf),s.push(Gf),"landscape"===o.crtOrientation&&s.push(jf)}try{"launch"===e.source&&!a&&s.forEach((e=>{me(e)}))}catch(i){Vf=ca.MATERIAL_NOT_READY;var T=o.adProxy.processStackMsg(i),C=!1;if(o.data)try{o.adProxy.reportAdMonitorData(oa.NO_MATERIAL_BEFORE_SHOW),yield o.adProxy.handleBulkSaveMaterials(o.data),C=!0}catch(e){}if(!C)return jg.call(n,e,{adInfos:o.adInfos,checkAdStatus:t,msg:T},r,"MATERIAL_NOT_READY")}if(!qf)return jg.call(n,e,{adInfos:o.adInfos,checkAdStatus:t},r,"EXP_NOT_SHOW");o.adProxy.setTimePoint("p17"),"launch"!==e.source||o.adInfos.newTimeout&&o.localSelectSuccess,se({showMenu:!0,show:!0,errCode:Vf+Wf,adCallTime:o.adProxy.getTimePoint("p17"),eventReceivedTime:r.startInit,cgiFetchStart:r.startFetchTime,cgiFetchCallBack:r.fetchCallbackTime,success:()=>{o.showSplashAdStatus="success",o.adProxy.setTimePoint("p18"),D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.launchShowSplashAdSuccess),i?o.adProxy.reportAdMonitorData(oa.SHOW_AD_BY_ONLINE,{fetchType:o.fetchType}):a?o.adProxy.reportAdMonitorData(oa.SHOW_AD_BY_LOCAL_SELECT):o.adProxy.reportAdMonitorData(oa.SHOW_AD_BY_CHECK_AD)}))},fail:e=>{o.showSplashAdStatus="fail",o.adProxy.setTimePoint("p18"),D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.showSplashAdFail,{adInfos:o.adInfos,checkAdStatus:t,msg:e})})),bg.call(n)}});try{o.adProxy.setTimePoint("p4"),zg.call(n,e)}catch(t){Eg.call(n,{source:e.source,animated:!1},19),_g.call(n),D.onReady((()=>{o.adProxy.reportAdMonitorData(oa.firstRenderFail,{adInfos:o.adInfos,source:e.source,msg:t})}))}}))()}}var Qg=new vf,em="SHOW_REWARD",tm="HIDE_REWARD",im={banner:"SHOW_BANNER",rewardedVideoAd:em,grid:"SHOW_GRID"},am={banner:"HIDE_BANNER",rewardedVideoAd:tm,grid:"HIDE_GRID"};class nm{constructor({adUnitId:e,adType:t="banner"}){this.adUnitId=e,this.adType=t}show(){var e=im[this.adType];e&&Qg.emit(e,{adUnitId:this.adUnitId})}hide(){var e=am[this.adType];e&&Qg.emit(e,{adUnitId:this.adUnitId})}on(e,t){Qg.on(e,(e=>{e.adUnitId!==this.adUnitId&&t(e)}))}}var om={},rm=function(e,t,i){om.hasOwnProperty(e)||(om[e]={}),om[e][t]=i},sm=function(e,t){if(om.hasOwnProperty(e))return om[e][t]},lm={expandCardHeadline:{flexDirection:"row"},expandCardAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},expandCardWordingWrapper:{marginBottom:48,height:72},expandCardAppName:{fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,opacity:.8},expandCardAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1},expandCardAppRankImg:{width:20,height:20},expandCardAppRankText:{marginLeft:8,color:"#FA9D3B",fontSize:12,lineHeight:24}},dm={expandCardHeadline:{flexDirection:"column"},expandCardAppIcon:{borderRadius:8,width:64,height:64,marginTop:0,position:null},expandCardWordingWrapper:{height:144,marginBottom:24},expandCardAppName:{fontSize:20,marginTop:20,fontWeight:500,opacity:1,left:0,position:null},expandCardAppWording:{marginTop:4,fontWeight:300,opacity:.8,fontSize:17}},cm={defaultPageHeadline:{flexDirection:"row"},defaultPageAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},defaultPageWordingWrapper:{marginBottom:48,height:72},defaultPageAppName:{fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,opacity:.8},defaultPageAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1}},um={defaultPageHeadline:{flexDirection:"column"},defaultPageAppIcon:{borderRadius:8,width:64,height:64,marginTop:0,position:null},defaultPageWordingWrapper:{height:144,marginBottom:24},defaultPageAppName:{fontSize:20,marginTop:20,fontWeight:500,opacity:1,left:0,position:null},defaultPageAppWording:{marginTop:4,opacity:.8,fontSize:17,fontWeight:300}},hm=r()({defaultPageContainer:{hidden:!0,top:0,position:"absolute",backgroundColor:"#000000"},defaultPageBackgroundContainer:{position:"absolute"},defaultPageBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.6},defaultPageBackgroundImage:{position:"absolute",left:0,top:0},defaultPageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},defaultPageAppIcon:{borderRadius:8,width:64,height:64,left:0,marginTop:0},defaultPageAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1,left:0},defaultPageAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineBreak:"ellipsis",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:17,fontWeight:300},defaultPageAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},defaultPageButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:8},defaultPageSlideTipsContainer:{hidden:!0,position:"absolute",bottom:44,alignItems:"center",justifyContent:"center"},defaultPageSlideTipsClickArea:{width:100,height:44,alignItems:"center"},defaultPageSlideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},defaultPageSlideIcon:{marginTop:8,width:20,height:20,rotate:180}},{defaultPageRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginTop:14},defaultPageRankingImg:{height:20,width:20},defaultPageRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},defaultPageScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginTop:16,height:24},defaultPageScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},defaultPageScoreImg1:{height:13,marginLeft:12,width:13},defaultPageScoreImg2:{height:13,width:13,marginLeft:1},defaultPageScoreImg3:{height:13,width:13,marginLeft:1},defaultPageScoreImg4:{height:13,width:13,marginLeft:1},defaultPageScoreImg5:{height:13,width:13,marginLeft:1},defaultPageScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24}}),pm=r()({animationCardContainer:{hidden:!0,top:0,position:"absolute"},animationCardInfoContainer:{top:0,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},animationCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},animationCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:300,height:206},animationCardAppIcon:{backgroundColor:"#fffffff",borderWidth:.5,borderColor:"#ffffff",borderRadius:8,width:48,height:48,left:0,marginTop:0},animationCardAppName:{width:300,textAlign:"center",height:24,lineHeight:24,fontSize:18,marginTop:16,fontWeight:500,color:"#ffffff",opacity:1,left:0},animationCardAppWording:{marginTop:6,marginBottom:28,width:300,height:28,textAlign:"center",lineBreak:"ellipsis",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:16,fontWeight:400},animationCardAppConversion:{hidden:!0,marginTop:8,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},animationCardButton:{width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:8}},{animationCardRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginBottom:20},animationCardRankingImg:{height:20,width:20},animationCardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},animationCardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginBottom:20,height:24},animationCardScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},animationCardScoreImg1:{height:13,marginLeft:12,width:13},animationCardScoreImg2:{height:13,width:13,marginLeft:1},animationCardScoreImg3:{height:13,width:13,marginLeft:1},animationCardScoreImg4:{height:13,width:13,marginLeft:1},animationCardScoreImg5:{height:13,width:13,marginLeft:1},animationCardScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24}}),fm={hidden:!0,textAlign:"left",fontSize:10,fontWeight:500,height:16,lineHeight:16,overflow:"hidden",lineBreak:"ellipsis"},gm={playablePendantExpand:{hidden:!0,zIndex:1e6,opacity:0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:256,height:64,position:"absolute",right:0,bottom:80},playablePendantExpandBackground:{position:"absolute",right:0,bottom:0,width:256,height:64,backgroundColor:"#ffffff",borderRadius:12},playablePendantBorderFixExpand:{position:"absolute",right:0,bottom:0,height:64,width:12,backgroundColor:"#ffffff"},playablePendantArrowFoldGroup:{paddingLeft:12,paddingRight:8,width:28,height:64,flexDirection:"row",justifyContent:"center",alignItems:"center"},playablePendantArrowFold:{width:8,height:16},playablePendantAppIcon:{width:40,height:40,borderRadius:20,marginRight:8},playablePendantInfoGroup:{flexDirection:"column",flex:1,justifyContent:"flex-start",alignItems:"stretch",height:36},playablePendantAppName:{textAlign:"left",fontSize:14,fontWeight:700,flex:1,height:20,lineHeight:20,color:"#000000",opacity:.8,overflow:"hidden",lineBreak:"ellipsis"},playablePendantAppWording:r()(r()({},fm),{},{color:"#000000",opacity:.3}),playablePendantAppConversion:r()(r()({},fm),{},{color:"#000000",opacity:.3}),playablePendantAppRanking:r()(r()({},fm),{},{color:"#fa9d3b"}),playablePendantButton:{marginLeft:12,marginRight:12,paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,borderRadius:6,backgroundColor:"#fa9d3b",fontSize:14,lineHeight:28,height:28,width:44,color:"#ffffff",textAlign:"center"}},mm=r()(r()({},gm),{playablePendantFold:{hidden:!0,zIndex:1e6,opacity:0,position:"absolute",right:0,bottom:80,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:80,height:80},playablePendantTouchMask:{hidden:!0,zIndex:1e6,backgroundColor:"rgba(0,0,0,0)",position:"absolute",right:0,bottom:80,width:56,height:64},playablePendantBorderFixFold:{position:"absolute",right:0,bottom:0,height:64,width:12,backgroundColor:"#ffffff"},playablePendantFoldBackground:{position:"absolute",right:0,bottom:0,backgroundColor:"#ffffff",width:80,height:64,borderRadius:12},playablePendantArrowExpandGroup:{paddingLeft:12,marginTop:21,width:20,height:64,flexDirection:"row",justifyContent:"center",alignItems:"center"},playablePendantArrowExpand:{width:8,height:16},playablePendantAbbrGroup:{flexDirection:"column",alignItems:"center",alignSelf:"flex-start",width:56,height:72},playablePendantPhoneImage:{width:56,height:56,zIndex:1e6},playablePendantPhoneAppIcon:{position:"absolute",left:16.9,top:9.5,width:25,height:25,rotate:12,borderRadius:4},playablePendantAbbrTips:{marginTop:2,width:40,fontSize:10,fontWeight:700,color:"#000000",opacity:.8,height:14,zIndex:1000014,lineHeight:14,textAlign:"center"}}),ym={fontSize:12,marginTop:2,marginBottom:2,lineHeight:16,height:16,fontWeight:700,color:"#ffffff",opacity:.8,overflow:"hidden",lineBreak:"ellipsis",zIndex:1000001},vm={playableEndpage:{hidden:!0,opacity:0,position:"absolute",left:0,top:0,width:0,height:0,justifyContent:"center",alignItems:"center"},playableEndpageBackgroundContainer:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackground:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackgroundLandscape:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackgroundAdorn:{position:"absolute",left:0,bottom:0,width:0,height:0,portrait:{hidden:!1},landscape:{hidden:!0}},playableEndpageMainWrapper:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",portrait:{position:"relative",width:327,height:464},landscape:{position:"relative",width:569,height:256}},playableEndpagePlaceholder:{flexDirection:"row",justifyContent:"flex-start",portrait:{hidden:!0,height:0,flex:void 0},landscape:{hidden:!1,height:256,flex:1}},playableEndpagePlaceholderCard:{width:327,height:256},playableEndpageMainGroup:{position:"relative",top:0,left:0,flexDirection:"column",justifyContent:"center",alignItems:"center"},playableEndpageText:{color:"#ffffff",fontWeight:700,fontSize:22,lineHeight:40,height:40,width:186,textAlign:"center"},playableEndpageText2:{color:"#ffffff",fontWeight:700,fontSize:22,lineHeight:40,height:40,width:186,textAlign:"center",marginBottom:32},playableEndpageInfoGroup:{width:327,height:256,backgroundColor:"#fe9944",borderRadius:16,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",portrait:{marginBottom:38,position:void 0,left:void 0,top:void 0},landscape:{marginBottom:0,position:"absolute",left:-383,top:-43}},playableEndpageInfoAppCover:{marginTop:12,marginBottom:16,borderRadius:12,width:303,height:166},playableEndpageInfoBar:{width:295,height:44,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},playableEndpageAppIcon:{width:40,height:40,borderRadius:20,marginRight:12},playableEndpageInfoWordingGroup:{flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",flex:1},playableEndpageAppTitle:{fontSize:16,lineHeight:24,height:24,fontWeight:500,color:"#ffffff",overflow:"hidden",lineBreak:"ellipsis"},playableEndpageAppWording:ym,playableEndpageAppConversion:ym,playableEndpageAppRanking:ym,playableEndpageButton:{marginTop:10,width:186,height:48,fontSize:17,fontWeight:700,lineHeight:48,color:"#fa9d38",textAlign:"center",backgroundColor:"#ffffff",borderRadius:8}},_m=vm,Em=r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(r()({container:{rotate:0,position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:1000002,hidden:!0},videoBackgroundContainer:{top:0,left:0,position:"absolute",hidden:!0},videoBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.7},videoBackgroundImage:{position:"absolute",left:0,top:0},video:{padding:8,paddingBottom:16,flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"#ff0000",position:"absolute",bottom:0},videoContainer:{position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",top:0,left:0},videoTouchMask:{position:"absolute",top:0,left:0},videoMask:{position:"absolute",top:0,left:0,opacity:0,backgroundColor:"#000000"},animationCardClickMask:{position:"absolute",top:0,left:0,hidden:!0},blank:{width:1,height:1},cardContainer:{hidden:!0,position:"absolute",left:8,flexDirection:"column",alignSelf:"stretch",overflow:"hidden",zIndex:1000001},cardInnerContainer:{borderRadius:12},cardLine:{hidden:!0,paddingLeft:16,paddingRight:16,backgroundColor:"rgba(247, 247, 247, 0.95)"},cardLineInner:{height:1,backgroundColor:"rgba(0, 0, 0, 0.06)"},cardRanking:{hidden:!0,flexDirection:"row",alignItems:"column",justifyContent:"flex-start",backgroundColor:"rgba(247, 247, 247, 0.95)",portrait:{height:48,padding:16},landscape:{width:348,height:60,padding:10}},cardRankingImg:{height:16,width:16},cardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:12,lineHeight:16,width:120,height:16},cardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"rgba(247, 247, 247, 0.95)",portrait:{height:48,padding:16},landscape:{width:348,height:60,padding:10}},cardScoreTitle:{color:"#10AEFF",fontSize:12,lineHeight:16,width:60,height:16},cardScoreImg1:{height:13,marginLeft:12,width:13},cardScoreImg2:{height:13,width:13,marginLeft:1},cardScoreImg3:{height:13,width:13,marginLeft:1},cardScoreImg4:{height:13,width:13,marginLeft:1},cardScoreImg5:{height:13,width:13,marginLeft:1},cardScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:12,lineHeight:16,width:30,height:16},card:{hidden:!0,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(247, 247, 247, 0.95)",borderColor:"rgba(0, 0, 0, 0.08)",portrait:{height:90,padding:16},landscape:{width:348,height:72,padding:10}},appIcon:{borderRadius:8,opacity:.95,portrait:{width:48,height:48,marginRight:10},landscape:{width:45,height:45,marginRight:6}},appInformation:{flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},appName:{height:22.5,lineHeight:22.5,marginBottom:5,fontSize:17,lineBreak:"ellipsis",color:"#000000",portrait:{marginBottom:5},landscape:{marginBottom:2}},appWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#888888",fontSize:14},button:{width:84,height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#ffffff",borderWidth:1,borderColor:"#07C160",borderRadius:6,marginLeft:8,backgroundColor:"#07C160"},downloadButton:{width:62,height:32,hidden:!0,marginLeft:10},downloadButtonText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},toastContainer:{hidden:!0,opacity:0,position:"absolute",top:0,left:0,justifyContent:"center",alignItems:"center"},toast:{justifyContent:"center",alignItems:"stretch",width:136,height:56,backgroundColor:"#4c4c4c",borderRadius:12},toastText:{color:"#ffffff",opacity:.9,fontSize:14,lineHeight:20,height:20,textAlign:"center"},dialogContainer:{zIndex:1000007,position:"absolute",overflow:"hidden",top:0,left:0,hidden:!0},dialogMask:{position:"absolute",overflow:"hidden",backgroundColor:"#000000",opacity:.7,top:0,left:0},dialog:{position:"absolute",width:300,height:168,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)"},dialogTitle:{marginTop:28,marginBottom:27,width:300,height:48,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17,fontWeight:"bold",lineBreak:"break-all"},dialogSplit:{width:300,height:1,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogButton:{width:300,justifyContent:"center",flexDirection:"row",alignItems:"center"},buttonSplit:{width:1,height:63.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogClose:{marginTop:19,marginBottom:19,width:149.5,height:25,lineHeight:25,textAlign:"center",color:"#000000",fontWeight:"bold",fontSize:18},dialogCancel:{marginTop:19,marginBottom:19,width:150,height:25,lineHeight:25,textAlign:"center",color:"#576A94",fontWeight:"bold",fontSize:18},pageCardBody:{position:"absolute",hidden:!0,flexDirection:"column",alignItems:"center",height:340},pageCardHotArea:{flexDiretion:"cloumn",alignItems:"center",height:70},pageCardTipIcon:{hidden:!0,marginTop:33,width:20,height:6.5},pageCardTip:{marginTop:2,hidden:!0,width:52,height:20,lineHeight:20,fontSize:13,color:"#ffffff"},pageCardContainer:{borderRadius:10,flexDirection:"column",height:270},pageCard:{paddingLeft:15,paddingRight:15,flexDirection:"row",alignItems:"center",borderRadius:5,height:80},pageCardAppIcon:{borderRadius:10,opacity:.95,width:48,height:48},pageCardAppInformation:{paddingLeft:5,marginTop:3,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},pageCardAppName:{height:22.5,fontSize:16,color:"#ffffff"},pageCardAppWording:{height:20,marginTop:1,color:"#888888",fontSize:14},pageCardButton:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:14,color:"#ffffff",borderWidth:1,backgroundColor:"#07C160",borderColor:"#07C160",borderRadius:4},pageCardSplitLine:{marginLeft:15,marginRight:15,height:1,backgroundColor:"rgba(255, 255, 255, 0.10)"},pageCardImgContainer:{marginTop:15,marginLeft:15,marginRight:15,marginBottom:25,height:150,overflow:"hidden"},pageCardImgBox:{height:150,left:0,flexDirection:"row",justifyContent:"center"},pageCardImg0:{order:0,borderRadius:3},pageCardImg1:{marginLeft:10,order:1,borderRadius:3},pageCardImg2:{marginLeft:10,order:2,borderRadius:3},pageCardImg3:{marginLeft:10,order:3,borderRadius:3},pageHandler:{top:0,position:"absolute",hidden:!0},pageMask:{top:0,position:"absolute",backgroundColor:"#000000",hidden:!0},dialogCloseTip:{hidden:!0,position:"absolute",overflow:"hidden",top:0,left:0},adCloseTipWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{playableTipsWrap:{left:0,hidden:!0,marginBottom:10,width:132,height:32,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:4},playableTipsContent:{width:100,height:16,lineHeight:16,fontSize:12,color:"#ffffff",textAlign:"center"},playableGiveUp:{hidden:!0,marginLeft:8,width:24,height:32,lineHeight:32,fontSize:12,color:"#07C160"},playableCancelBox:{hidden:!0,width:44,height:32,left:72,position:"absolute"}}),{pageContainer:{top:0,hidden:!0,position:"absolute",backgroundColor:"#ffffff"},pageImgContainer:{position:"absolute",overflow:"hidden",backgroundColor:"#000000"},pageImgBox:{flexDirection:"row",justifyContent:"center",position:"absolute",backgroundColor:"#000000"},pageImg0:{flex:1,order:0},pageImg1:{flex:1,order:1},pageImg2:{flex:1,order:2},pageImgTips:{flexDirection:"row",justifyContent:"center",height:10,width:35},pageImgIcon0:{height:7,width:7,borderRadius:16,backgroundColor:"#ffffff"},pageImgIcon1:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageImgIcon2:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},pageInfoWrapper:{flexDirection:"column",alignItems:"center",height:242},pageAppIcon:{borderRadius:8,width:64,height:64},pageAppName:{marginTop:20,width:180,textAlign:"center",height:28,lineHeight:28,fontSize:20,color:"#000000",opacity:.99},pageAppWording:{marginTop:4,marginBottom:20,width:220,height:28,textAlign:"center",lineHeight:28,color:"#888888",fontSize:17,opacity:.99},pageAppConversion:{hidden:!0,width:220,height:24,textAlign:"center",lineHeight:24,color:"#000000",opacity:.3,fontSize:14},pageButton:{marginTop:14,width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4},pageDownloadButton:{marginTop:14,width:166,height:42,hidden:!0},pageDownloadButtonText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#ffffff"},pageDownloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},pageDownloadProgressText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#04be02"}}),hm),pm),{topBar:{zIndex:1000003,position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:0,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10}},barLeft:{flexWrap:"nowrap"},count:{marginLeft:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderWidth:.5,justifyContent:"center",flex:1,flexDirection:"row",alignItems:"center"},leftTimeIcon:{width:16,height:16,marginRight:6,hidden:!0},countDownPrepend:{height:32,lineHeight:32,fontSize:14,textAlign:"left",width:29},countDown:{width:33.5,height:32,lineHeight:32,fontSize:14,textAlign:"center"},countDownAppend:{height:32,lineHeight:32,fontSize:14},barCenter:{position:"absolute",top:0,left:0,height:32,flexDirection:"row",alignItems:"center",width:186,justifyContent:"space-between",hidden:!0},timeIcon:{width:16,height:16},centerCountDown:{flexDirection:"row"},centerCountDownLeftText:{width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},centerCountDownNumber:{width:24,fontSize:14,lineHeight:20,height:20,textAlign:"center",color:"#FFFFFF"},centerCountDownRightText:{width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},centerCountDownFinish:{hidden:!0,width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},barRight:{marginRight:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderWidth:.5,flexDirection:"row",alignItems:"center"},close:{width:29,height:32,lineHeight:32,fontSize:14},splitLine:{width:1,height:18.5,marginLeft:8,marginRight:8},sound:{width:20,height:20},adFeedback:{hidden:!0,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:12,height:12,marginLeft:2},rectangleLight:{width:12,height:12,marginLeft:2},splitLineLeft:{width:1,height:18.5,marginLeft:10,marginRight:10},adFeedbackList:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:1000005,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}}),{expandCardContainer:{hidden:!0,top:0,position:"absolute",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0)"},expandCardInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},expandCardAppIcon:{borderRadius:8,width:64,height:64,left:0,marginTop:0},expandCardAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1,left:0},expandCardAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineHeight:28,fontWeight:300,opacity:.8,color:"#ffffff",lineBreak:"ellipsis",fontSize:17},expandCardAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},expandCardButton:{marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:6},expandCardSlideTipsContainer:{opacity:0,hidden:!0,position:"absolute",bottom:44,alignItems:"center",justifyContent:"center"},expandCardSlideTipsClickArea:{width:100,height:44,alignItems:"center"},expandCardSlideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},expandCardSlideIcon:{marginTop:8,width:20,height:20,rotate:180},expandPageRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginTop:14},expandPageRankingImg:{height:20,width:20},expandPageRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},expandPageScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginTop:16,height:24},expandPageScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},expandPageScoreImg1:{height:13,marginLeft:12,width:13},expandPageScoreImg2:{height:13,width:13,marginLeft:1},expandPageScoreImg3:{height:13,width:13,marginLeft:1},expandPageScoreImg4:{height:13,width:13,marginLeft:1},expandPageScoreImg5:{height:13,width:13,marginLeft:1},expandPageScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24}}),{dynamicContainer:{hidden:!0,position:"absolute",top:0,left:0}}),{pendantContainer:{hidden:!0,position:"absolute"}}),{slideTipsContainer:{hidden:!0,position:"absolute",opacity:0,bottom:40,alignItems:"center",justifyContent:"center"},slideTipsMask:{height:136,position:"absolute",bottom:0},slideTipsClickArea:{width:100,height:44,alignItems:"center"},slideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},slideIcon:{marginTop:8,width:20,height:20,rotate:180},landscapeSlideTipsContainer:{hidden:!0,opacity:0,alignSelf:"flex-end",marginRight:40,width:90,height:36,zIndex:1000008,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},landscapeSlideTipsMask:{hidden:!0,width:220,position:"absolute",top:0,right:40},landscapeSlideTipsGroup:{width:60,height:36,flexDirection:"column",justifyContent:"center"},landscapeSlideTips1:{width:60,textAlign:"center",color:"#ffffff",fontSize:12,height:18,lineHeight:18},landscapeSlideTips2:{width:60,textAlign:"center",color:"#ffffff",fontSize:12,height:18,lineHeight:18},landscapeSlideIcon:{marginLeft:10,width:20,height:20,rotate:90}}),{feedCardContainer:{hidden:!0,position:"absolute",bottom:73,width:375,height:196},feedCardMask:{position:"absolute",top:0,left:0,width:375,height:196},feedCardInfoContainer:{flexDirection:"column",justifyContent:"flex-end",alignItems:"stretch",flex:1,paddingTop:30,paddingLeft:16,paddingRight:16,paddingBottom:12},feedCardMainInfo:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:44,marginBottom:12},feedCardAppIcon:{borderRadius:8,width:40,height:40,marginRight:12},feedCardWordingGroup:{flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",height:44,flex:1},feedCardAppName:{textAlign:"left",height:20,lineHeight:20,fontSize:17,fontWeight:500,color:"#ffffff"},feedCardAppWording:{textAlign:"left",height:18,lineHeight:18,fontSize:14,fontWeight:400,opacity:.8,color:"#ffffff",overflow:"hidden",lineBreak:"ellipsis"},feedCardExtraInfo:{hidden:!0,flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",paddingBottom:20},feedCardSplitLine:{marginBottom:12,height:1,backgroundColor:"rgba(255,255,255,0.12)"},feedCardAppConversion:{hidden:!0,textAlign:"left",height:24,lineHeight:24,fontSize:12,fontWeight:600,color:"#ffffff",opacity:.6},feedCardButton:{textAlign:"center",height:40,lineHeight:40,fontSize:16,fontWeight:500,paddingTop:8,paddingBottom:8,marginTop:4,color:"#ffffff",borderRadius:6,backgroundColor:"#07c160"}}),{feedGuideContainer:{hidden:!0,opacity:0,position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.1)",alignItems:"center",justifyContent:"center",flexDiretion:"column"},feedPath:{marginTop:38,width:16,height:94},feedFinger:{position:"absolute",opacity:0,width:120,height:120,top:0,left:0},feedGuideTip:{marginTop:36,width:120,height:40}}),mm),{playableLoading:{position:"absolute",hidden:!0,width:0,height:0,left:0,top:0,justifyContent:"center",alignItems:"center",flexDirection:"column",opacity:1,zIndex:1000001},playableLoadingBackground:{position:"absolute",left:0,top:0,width:0,height:0},playableLoadingLogoGroup:{width:128,height:128,marginBottom:12},playableLoadingLogo:{width:128,height:128,zIndex:1000001},playableLoadingAppIcon:{position:"absolute",width:41,height:41,borderRadius:8,rotate:15,top:18.8,left:47.7},playableLoadingTips:{fontSize:14,lineHeight:16,height:16,color:"#fafafa",opacity:.8,fontWeight:700,width:200,textAlign:"center",marginBottom:24},playableLoadingProgressBar:{width:48,height:6,borderRadius:3,position:"relative",overflow:"hidden"},playableLoadingProgressBarInner:{position:"absolute",width:48,left:-48,height:6,backgroundColor:"#ffffff",borderRadius:3,top:0,zIndex:1000001},playableLoadingProgressBarWrapper:{position:"absolute",width:48,height:6,backgroundColor:"#ffffff",opacity:.3,borderRadius:3,left:0,top:0}}),_m),bm=r()({},{count:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},countDownPrepend:{color:"#000000"},countDown:{color:"#000000"},countDownAppend:{color:"#000000"},barRight:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},close:{color:"#000000"},splitLine:{backgroundColor:"rgba(0, 0, 0, 0.25)"},adText:{color:"#000000"},rectangle:{hidden:!0},rectangleLight:{hidden:!1},splitLineLeft:{backgroundColor:"rgba(0, 0, 0, 0.25)"}}),xm=r()({},{count:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},countDownPrepend:{color:"#ffffff"},countDown:{color:"#ffffff"},countDownAppend:{color:"#ffffff"},barRight:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},close:{color:"#ffffff"},splitLine:{backgroundColor:"rgba(255, 255, 255, 0.25)"},adText:{color:"#ffffff"},rectangle:{hidden:!1},rectangleLight:{hidden:!0},splitLineLeft:{backgroundColor:"rgba(255, 255, 255, 0.25)"}}),{deviceInfo:wm}=y,Tm=function(e){if(!ex.call(this)){var t=Eb(this),i=5*e;if(t.globalCountDownCounter+=1,t.globalCountDownCounter<i){var a=Math.ceil((i-t.globalCountDownCounter)/5);t.emitter.emit(Uo,a),Im.call(this,a)}else t.emitter.emit(Go),Im.call(this,0,!0),Dm.call(this),t.isRewarded=!0}},Cm=function(e){if(!ex.call(this)){var t=5*e;Eb(this).globalCountDownCounter=t,Dm.call(this),Tm.call(this,e)}},Am=function(e){if(!ex.call(this)){var t=Eb(this);t.globalCountDownTimer||(t.emitter.emit(Ho),t.globalCountDownTimer=setInterval(Tm.bind(this,e),200))}},Dm=function(){if(!ex.call(this)){var e=Eb(this);e.globalCountDownTimer&&(e.emitter.emit(zo),clearInterval(e.globalCountDownTimer),e.globalCountDownTimer=null)}},Im=function(e,t=!1){var i=Eb(this),{screenWidth:a}=wm;if(Fv.call(this)){i.countDown.style.hidden=!0,i.countDownPrepend.style.hidden=!0,i.countDownAppend.style.hidden=!0,i.leftTimeIcon.style.hidden=!0,i.centerCountDown.style.hidden=t,i.centerCountDownFinish.style.hidden=!t;var n=t?92:e>9?186:178;i.barCenter.style.width=n,i.barCenter.style.left=(a-n)/2,i.centerCountDownNumber.value=e.toString(),i.centerCountDownNumber.style.width=e>9?24:16}else{var o=S_.call(this);i.leftTimeIcon.style.hidden=!o,i.splitLineLeft.style.hidden=!1,t?(i.countDown.style.hidden=!0,i.countDownPrepend.style.hidden=!0,i.countDownAppend.style.hidden=!1,i.countDownAppend.value="已获得奖励",i.countDownAppend.style.width=72):(i.countDown.style.hidden=!1,i.countDown.style.textAlign=o?"center":"left",i.countDownPrepend.style.hidden=!o,i.countDownAppend.style.hidden=!1,i.countDown.value=e.toString(),i.countDownAppend.value=o?"秒获得奖励":"秒后可获得奖励",i.countDown.style.width=2===e.toString().length?19:12,i.countDownAppend.style.width=o?72:100)}},{reportCanvasData:Sm,ReportCanvasDataEventType:km,deviceInfo:Pm}=y,Rm=function(e,t=0){var i;if(ex.call(this))return Promise.reject({errMsg:Nb});var a=Eb(this),{width:n,height:o}=a.pageType===Hy.ENDMODAL?a.pageCard.layoutBox:a.card.layoutBox;[0,2,3].includes(t)&&(a.clickCount+=1);var r={slotid:_b,costtype:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:+new Date,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:Number(n)||0,ad_height:Number(o)||0,press_interval:e.pressInterval,block_click:t};return a.adProxy.reportTouchClick(r)},Om=function(e,t){if(ex.call(this))return Promise.reject({errMsg:Nb});var i=Eb(this),a=Zm.call(this),n=Promise.resolve(),o={currentTime:i.currentTime,duration:a.duration},s=i.card,{absoluteX:l,absoluteY:d}=e;i.pageType===Hy.ENDMODAL?(s=i.pageCardContainer,l=Math.round(e.x),d=Math.round(e.y)):s=[Fo.REWARD_CARD_BUTTON,Fo.REWARD_CARD].indexOf(t)>-1?i.card:i.container;var{left:c,top:u}=s.getAbsolutePosition(),{width:h,height:p}=s.layoutBox;return n=i.adProxy.reportClick({clickAbsoluteLeft:l,clickAbsoluteTop:d,clickRelativeLeft:l-c,clickRelativeTop:d-u,pressInterval:e.pressInterval,left:c,top:u,width:h,height:p,videoData:o,weappExtraData:r()({},i.adWelfareData||{})}),i_.call(this,ui.REWARDED_VIDEO_FEED_CLICK,{clickPos:t}),Wm.call(this,t),bb(n,"激励视频","点击广告卡片"),Mm.call(this,{stage:1002}),n},Nm=function({playType:e,conditionType:t}){if(ex.call(this))return Promise.reject({errMsg:Nb});var i=Eb(this),a=Zm.call(this);return i.adProxy.reportVideo({playType:e,conditionType:t,playDuration:i.currentTime,videoDuration:a.duration,muted:Pv.call(this).muted,rewardedTime:i.data.rewardedTime,isRewarded:i.isRewarded,index:i.adProxy.adDataIndex})},Lm=function({button:e},t={}){var i;if(ex.call(this))return Promise.reject({errMsg:Nb});var a=Eb(this),n=Zm.call(this),o=5===e?+new Date:0,r=t?t.pressInterval:0;return a.adProxy.reportBehaviorButton({button:e,isEnded:a.isEnded,playDuration:a.currentTime,videoDuration:null!==(i=null==n?void 0:n.duration)&&void 0!==i?i:0,preloadVideo:a.preloadVideo?1:0,preloadVideoSuccess:a.preloadVideoSuccess?1:0,videoFirstPlay:a.videoFirstPlayTime,cardFirstShow:a.cardFirstShowTime,clickCard:o,pressInterval:r,currentPlayUrl:Pv.call(this).src,lastFetchUrl:n?n.src:""})},Mm=function({stage:e}){if(ex.call(this))return Promise.reject({errMsg:Nb});var t={adtype:2,stage:e};return Eb(this).adProxy.reportADFunnelModel(t)},Bm=e=>{Sm(e?km.EVENT_CANVAS_ADS_FIN:km.EVENT_CANVAS_ADS_CANCEL)},Vm=function(e){if(!ex.call(this)){var t=Eb(this),i=e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})));return bb(i,"激励视频","关注"),i}},Wm=function(e){var t=Eb(this),{adProxy:i}=t;i.reportMMClickPos({clickPos:e})},Fm=(e,t)=>{var i=e.touchendTimeStamp-e.touchstartTimeStamp;Ia(17035,{aid:t.aid,traceid:t.traceid,touch_start_x:Math.round(e.touchstartPosX),touch_start_y:Math.round(e.touchstartPosY),touch_end_x:Math.round(e.touchendPosX),touch_end_y:Math.round(e.touchendPosY),touch_duration:i,screenwidth:Pm.screenWidth,screenheight:Pm.screenHeight,device_orientation:Pm.deviceOrientation,clk_timems:e.touchstartTimeStamp,play_timems:+new Date,is_shield:0})},Hm=function(e={}){var t,i,a=Eb(this);return a.adProxy.reportPopupClickAction({buttonType:e.buttonType||0,buttonTime:e.buttonTime||0,adClkTime:e.buttonTime||0,adExpTime:0,adClkX:Math.round(e.gameTouchStartPosX||0),adClkY:Math.round(e.gameTouchStartPosY||0),adWidth:0,adHeight:0,isGame:Pm.isWaGame?1:0,costtype:null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2})},{deviceInfo:Um}=y,Gm=function(e,t=!0){if(ex.call(this))return!1;var i=Eb(this).adProxy.isTriggerClick(e);return t&&Rm.call(this,e,i?0:1),i},zm=function(){var{screenWidth:e,screenHeight:t}=Um;return e<t},jm=function(){var e,t=Eb(this),{data:i}=t;switch(null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegame_ranking_type){case ia:return"人气榜";case aa:return"畅销榜";case na:return"新游榜"}return""},$m=function(){var e,t=Eb(this),{data:i}=t,a=null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegame_ranking_no;if(!isNaN(a)){var n=a+1;return n<=5?n:n<=30?n-n%5+5:50}return 0},Ym=function(){var e,t,i,a,n=Eb(this),{data:o}=n;return[Ii.IOS,Ii.ANDROID].includes(o.product_type)&&null!=o&&null!==(e=o.appInfo)&&void 0!==e&&e.appRating&&!isNaN(null==o||null===(t=o.appInfo)||void 0===t?void 0:t.appRating)&&(null==o||null===(i=o.appInfo)||void 0===i?void 0:i.appRating)>3?Number(null==o||null===(a=o.appInfo)||void 0===a?void 0:a.appRating.toFixed(1)):0},qm=function(){var e=Eb(this);null!=e&&e.cardLine&&(e.cardLine.style.hidden=!0),null!=e&&e.cardRanking&&(e.cardRanking.style.hidden=!0),null!=e&&e.cardScore&&(e.cardScore.style.hidden=!0)},Xm=function(){var e=Eb(this);jm.call(this)&&(null!=e&&e.cardLine&&(e.cardLine.style.hidden=!1),null!=e&&e.cardRanking&&(e.cardRanking.style.hidden=!1)),Ym.call(this)&&(null!=e&&e.cardLine&&(e.cardLine.style.hidden=!1),null!=e&&e.cardScore&&(e.cardScore.style.hidden=!1))},Km=function(e=null){var t=Eb(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return!(!i||t.disableGaussBlur)&&hs(i)},Jm=function(e=null){var t=Eb(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return!!i&&(!Fv.call(this)&&ps(i))},Zm=function(e=null){var t=Eb(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return Km.call(this,e)&&null!=i&&i.gaussVideo?i.gaussVideo:(null==i?void 0:i.shortVideo)||null},Qm=function(){var e,t=Eb(this);return Zo("video",null===(e=t.data)||void 0===e?void 0:e.crt_size)},ey=function(){var e,t,i=Eb(this);return Zo("landpage",null===(e=i.data)||void 0===e?void 0:e.crt_size)&&![Ai.DEST_TYPE_CHANNELS,Ai.DEST_TYPE_CHANNELS_LIVE].includes(null===(t=i.data)||void 0===t?void 0:t.dest_type)},ty=function(){var e,t,i=Eb(this);return Zo("landpage",null===(e=i.data)||void 0===e?void 0:e.crt_size)&&[Ai.DEST_TYPE_CHANNELS,Ai.DEST_TYPE_CHANNELS_LIVE].includes(null===(t=i.data)||void 0===t?void 0:t.dest_type)},iy=function(){var e=Eb(this),{product_type:t}=e.data;return[Ii.ANDROID,Ii.IOS,Ii.WE_CHAT,Ii.MINI_GAME].includes(t)||!0},ay=function(){return!ex.call(this)&&!(ty.call(this)||ey.call(this)||S_.call(this))},ny=function(e=null){var t=Eb(this);return!ex.call(this)&&(Wv.call(this)?!!t.multiVideoInfo.isPlaying[null!=e?e:t.adProxy.adDataIndex]:t.isPlaying)},oy=function(e=null){var t=Eb(this);return!ex.call(this)&&(Wv.call(this)?!!t.multiVideoInfo.isEnded[null!=e?e:t.adProxy.adDataIndex]:t.isEnded)},ry=function(e=null){var t=Eb(this);return!ex.call(this)&&(Wv.call(this)?!!t.multiVideoInfo.isPause[null!=e?e:t.adProxy.adDataIndex]:t.isPause)},sy=function(e){return ny.call(this,e)||oy.call(this,e)},ly=function(){return Eb(this).sound.src===wb},dy=function(e=0){var t,i,a=Eb(this);return null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.datas)&&void 0!==i&&i[e]&&a.adProxy.datas[e].traceid||null},cy=function(e){var t=Eb(this),i=dy.call(this,e.index);return i!==e.identify&&t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_VALIDATE_INDENTIFY_FAILED,{current:i,target:e.identify}),i===e.identify},{deviceInfo:uy}=y,hy=function(){var e=Eb(this);py.call(this);var t=Zm.call(this);e.keepAliveTimer=setTimeout((()=>{e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_KEEP_ALIVE,{currentTime:e.currentTime,duration:t.duration,src:Pv.call(this).src,preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},py=function(){var e=Eb(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},fy=function(){var{deviceOrientation:e,screenWidth:t,screenHeight:i}=uy,{width:a,height:n}=Zm.call(this),o=Pv.call(this);if(o.style.width=t,o.style.height=i,o.style.left=0,o.style.bottom=0,Km.call(this)){if("portrait"===e&&a<n)o.style.height=Math.floor(t/a*n),o.style.width=t;else if("landscape"===e&&a>n){var r=Math.floor(i*a/n);o.style.width=r,o.style.height=i,o.style.left=(t-r)/2}}else Jm.call(this)&&gy.call(this)},gy=function(){var e=Pv.call(this);"portrait"===uy.deviceOrientation?e.style.bottom=217*uy.screenWidth/160-uy.screenHeight/2:e.style.left=43*-uy.screenHeight/96},my=function(e=null){var t=Eb(this);if(Km.call(this)){t.disableGaussBlur=!0;var{poster:i,src:a}=Zm.call(this,e),n=Pv.call(this,e);n.poster!==i&&(n.poster=i),n.src!==a&&(n.src=a,setTimeout((()=>{t.isVideoCalledPlay&&yy.call(this,"play")}),0)),n.style.width=uy.screenWidth,n.style.height=uy.screenHeight,gy.call(this)}},yy=function(e,t=null){var i=Eb(this),a=Pv.call(this,t);a&&("play"===e?(i.isVideoCalledPlay=!0,a.play()):"pause"===e?(i.isVideoCalledPlay=!1,a.pause()):"stop"===e&&(i.isVideoCalledPlay=!1,a.stop()))},vy=function(e,t){var i=Eb(this),{index:a}=e;if(!ex.call(this)&&i.isShowed&&cy.call(this,e)){var n=Number(t.duration),o=Number(t.position),s={position:o,duration:n,index:a};Wv.call(this)&&(i.multiVideoInfo.videoDuration[a]=1e3*n,i.multiVideoInfo.videoPosition[a]=1e3*o,qv.call(this)&&Nv.call(this));try{if(hy.call(this),i.isFirstPlay){var l=0;i.showTime>i.videoFirstPlayTime&&(l=i.showTime-i.videoFirstPlayTime),i.adProxy.setTimePoint("p21",{time:Date.now()-1e3*o}),i.adProxy.reportVideoLoadTime({beginTime:i.videoFirstPlayTime,endTime:(new Date).getTime()-Math.floor(1e3*o),departureTime:l,preloadVideo:i.preloadVideo?1:0,preloadVideoSuccess:i.preloadVideoSuccess?1:0,reportType:1}),Wv.call(this)&&Kv.call(this),i.isFirstPlay=!1,Mm.call(this,{stage:1004})}if(i.isPlaying=!0,Wv.call(this)&&(i.multiVideoInfo.isPlaying[a]=!0),o>0&&(i.currentTime=1e3*o),o>=1){var{width:d,height:c}=Pv.call(this).style;if(Wv.call(this)||i.isViewableExposureReported){if(Wv.call(this)&&!i.multiVideoInfo.isViewableExposured[a]){i.multiVideoInfo.isViewableExposured[a]=!0,i.adProxy.isViewable=!0;var u=i.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:d,height:c,weappExtraData:r()({},i.adWelfareData||{})});i_.call(this,ui.REWARDED_VIDEO_FEED_EXPOSURE,{type:"viewable"}),bb(u,"激励视频","广告流可视曝光")}}else{i.isViewableExposureReported=!0,i.adProxy.isViewable=!0;var h=i.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:d,height:c,weappExtraData:r()({},i.adWelfareData||{})});bb(h,"激励视频","可视曝光")}}var p=Cy.call(this);p&&(o+=p),Math.ceil(n-o)<=6&&[Hy.PLAYABLE_H5].indexOf(i.pageType)>-1&&i.playableGiveUp.style.hidden&&Uy.call(this);var{rewardedTime:f}=i.data,{duration:g}=Zm.call(this),m=n>f/1e3?f/1e3:n||g/1e3,y=Math.ceil((g>f?f:g)/1e3);if(0===n&&(i.reportDurationTimer&&clearTimeout(i.reportDurationTimer),i.reportDurationTimer=setTimeout((()=>{i.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_DURATION_ZERO,{duration:n,durationFromAd:g,rewardedTime:f})}),1e3)),!Wv.call(this))if(i.isRewarded)Im.call(this,0,!0);else if(m>o){var v=Math.ceil(m-o);v>y&&(v=y),Im.call(this,v)}else m<=o&&!i.isRewarded&&(Im.call(this,0,!0),i.isRewarded=!0);if(Wv.call(this)&&!i.multiVideoInfo.isCardExposured[a]&&(i.multiVideoInfo.isCardExposured[a]=!0,_y.call(this),i_.call(this,ui.REWARDED_VIDEO_FEED_EXPOSURE,{type:"incentiveVideoCard"})),(1e3*o>=i.cardShowTime||1e3*o>0)&&i.card.style.hidden&&!Wv.call(this)){if(i.data.flooringPage&&i.pageType===Hy.ENDMODAL&&"portrait"===uy.deviceOrientation?i.pageCardBody.style.hidden=!1:(i.playableTipsWrap.style.hidden=!(i.data.flooringPage&&[Hy.PLAYABLE_H5].indexOf(i.pageType)>-1),i.card.style.hidden=!1,Xm.call(this)),i.isCardExposureReported)return;i.card.nextLayout((()=>{i.isCardExposureReported||(i.isCardExposureReported=!0,_y.call(this),i.cardFirstShowTime=(new Date).getTime()),i.data.flooringPage&&i.pageType===Hy.ENDMODAL&&(i.showTipsTimer=setTimeout((()=>{qy.call(this)}),3e3))}))}if(f/1e3-o<=i.animationPageShowTime&&i.isUseAnimationPage&&!i.isShowAnimationPage){Tv.call(this),i.isShowAnimationPage=!0;var _=i.video.loop?_i.ANIMATION_CARD_EXPOSURE_LOOP:_i.ANIMATION_CARD_EXPOSURE;i.adProxy.reportAdMonitorData(_)}Oy.call(this,Pt,{event:s})}catch(e){i.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_RENDER_ERROR,e)}}},_y=function(){var e=Eb(this),{left:t,top:i}=e.card.getAbsolutePosition(),{width:a,height:n}=e.card.layoutBox,o=e.adProxy.reportExposure({exposureType:"incentiveVideoCard",left:t,top:i,width:a,height:n,weappExtraData:r()({},e.adWelfareData||{})});bb(o,"激励视频","卡片曝光")},Ey=function(){var e=b()((function*(e,t=!1){var i=Eb(this),{index:a}=e;if(!ex.call(this)&&(ny.call(this,a)||t)&&cy.call(this,e))if(Zm.call(this)){if(a!==i.adProxy.adDataIndex){var n=Pv.call(this,a);return n.seek(i.multiVideoInfo.videoPosition[a]/1e3),void n.pause()}var{duration:o}=Zm.call(this);i.currentTime=o;var r=Nm.call(this,{playType:"complete",conditionType:"end"});if(Fv.call(this)&&Wv.call(this)){var s=Pv.call(this,a);s.seek(0),uy.isAndroid&&(yield M(500)),s.play();var l=Nm.call(this,{playType:"complete",conditionType:"start"});return bb(l,"激励视频","广告流重播",a),void i.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_FEED_REPLAY)}if(i.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_END),py.call(this),i.isUseAnimationPage&&i.isShowAnimationPage&&i.video.loop)return Im.call(this,0,!0),i.isRewarded=!0,i.isEnded=!0,void(i.isAnimationPageReportedVideoEnd||(i.adProxy.reportAdMonitorData(_i.ANIMATION_CARD_VIDEO_END_LOOP),i.isAnimationPageReportedVideoEnd=!0));Pv.call(this,a).muted=!0,Wv.call(this)?(i.multiVideoInfo.isEnded[a]=!0,i.multiVideoInfo.isPlaying[a]=!1,ax.call(this,!1)):(Im.call(this,0,!0),i.sound.style.hidden=!0,i.splitLine.style.hidden=!0,i.isRewarded=!0,i.isPlaying=!1,i.isVideoCalledPlay=!1,i.isEnded=!0,i.isPause=!1),i.isUseAnimationPage&&i.isShowAnimationPage?i.isAnimationPageReportedVideoEnd||(i.adProxy.reportAdMonitorData(_i.ANIMATION_CARD_VIDEO_END),i.isAnimationPageReportedVideoEnd=!0):(rv.call(this),Zv.call(this),bb(r,"激励视频","播放完成"))}else i.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_ENDED_ERROR,{index:i.adProxy.adDataIndex})}));return function(t){return e.apply(this,arguments)}}(),by=function(e,t){if(!ex.call(this)&&cy.call(this,e)){var{index:i}=e;Eb(this).adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_LOAD_ERROR,t),py.call(this),Km.call(this,i)&&my.call(this)}},xy=function(e){if(!ex.call(this)){var t=Eb(this),i=Pv.call(this);!t.isShowed&&i&&i.src===e.resource&&(t.preloadVideoSuccess=!0,i.src=e.resource,t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PRELOAD_SUCCESS))}},wy=function(e,t){var i=Eb(this),a={index:t,identify:dy.call(this,t)};i.timeUpdateHandler[t]=vy.bind(this,a),i.endedHandler[t]=Ey.bind(this,a,!1),i.errorHandler[t]=by.bind(this,a),e.onTimeUpdate(i.timeUpdateHandler[t]),e.onEnded(i.endedHandler[t]),e.onError(i.errorHandler[t])},Ty=function(e,t){var i=Eb(this);e.offTimeUpdate(i.timeUpdateHandler[t]),e.offEnded(i.endedHandler[t]),e.offError(i.errorHandler[t]),delete i.timeUpdateHandler[t],delete i.endedHandler[t],delete i.errorHandler[t]},Cy=function(){if(ex.call(this))return 0;var e=Eb(this),t=0;for(var i of Object.keys(e.extraReduceTime))t=Math.max(t,e.extraReduceTime[i]);return t},{deviceInfo:Ay,getDeviceOrientation:Dy,View:Iy}=y,Sy=function(e){var t=Eb(this);return Wp(e,{$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:r()({},Ay),time:Date.now()},$scope:{private:t,safeArea:Ay.safeArea}},{"#rewardedVideoIsExpandStyle":()=>Jm.call(this),"#rewardedVideoIsScoreOrRanking":()=>Ym.call(this)||$m.call(this),"#setDarkMode":e=>$b.call(this,e)})},ky=null,Py=function(){var e=b()((function*(e){var t=this;if(!ex.call(this)){var i=Eb(this);null!=e&&e.length&&(i.dynamicElems||(i.dynamicElems={}),i.dynamicOldStyle||(i.dynamicOldStyle={}),i.dynamicEmitter||My.call(this),yield Promise.all(e.map(function(){var e=b()((function*(e){var{op:a,expr:n}=e;if(!n||Sy.call(t,n))if("insert"===a){var o,{id:s,parent:l,bubbleEvent:d}=e,{screenWidth:c,screenHeight:u,deviceOrientation:h,isAndroid:p}=Ay;if(null!==(o=i.dynamicElems)&&void 0!==o&&o[s]){if(c===ky)return;yield Ly.call(t,s)}ky=Ay.screenWidth;var f=Math.min(u,c)/375;if(e.useAdTemplate){var g;(g=i.dynamicElems)[s]||(g[s]=new Iy({name:`${s}TemplContainer`})),i.dynamicElems[s]._isTemplate=!0,i.dynamicElems[s]._isTemplateRoot=!0,yield i.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:c,screenHeight:u,deviceOrientation:h,platform:p?"android":"ios",hostEnv:"minigame"},isPartial:!0,flattenLayer:!0,hostContainer:i.dynamicElems[s],template:e.tpl,adData:i.adProxy.data,adCustomId:s,styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ignorePositionStatic:!0,ratio:f},extraScope:{private:i},ref:e=>{i.adTemplateRef=e,e.onEvent(i.handleAdTemplateEvent)}})}else{var m=Mn($p,{manager:null,reporter:null,emitter:i.dynamicEmitter,adProxy:i.adProxy,template:e.tpl,systemInfo:r()({},Ay),scope:{private:i,safeArea:Ay.safeArea},adData:i.adProxy.data,adDatas:i.adProxy.datas,adCustomId:Jo,ratio:f,isEmpty:!1,innerFunctions:{"#rewardedVideoIsExpandStyle":()=>Jm.call(t),"#rewardedVideoIsScoreOrRanking":()=>Ym.call(t)||$m.call(t),"#setDarkMode":e=>$b.call(t,e)}},!1);!1!==d&&m.updateBubbleEvent(),i.dynamicElems[s]=m.getRootElement()}i[l]&&i[l].add(i.dynamicElems[s])}else if("setStyle"===a){var{id:y,style:v}=e,_=i[y]||i.dynamicElems[y]||null;if(_){var E=!1;for(var b of(i.dynamicOldStyle&&!i.dynamicOldStyle[y]&&(E=!0,i.dynamicOldStyle[y]={}),Object.keys(v))){var x=b,w=v[b];if(b.includes("Expr")){var T=b.split("Expr");2===T.length&&([x]=T,w=Sy.call(t,w))}E&&(i.dynamicOldStyle[y][x]=_.style[x]),_.style[x]=w}}}else if("animate"===a){var{id:C,options:A}=e,D=i[C]||i.dynamicElems[C]||null;D&&D.animate(A)}else if("setAttrs"===a){var{id:I,attrs:S}=e,k=i[I]||i.dynamicElems[I]||null;if(k)for(var P of Object.keys(S))k[P]=S[P]}}));return function(t){return e.apply(this,arguments)}}()))),Oy.call(this,Ot)}}));return function(t){return e.apply(this,arguments)}}(),Ry=function(e,t){var i=Eb(this);if(null!=i&&i.dynamicElems){var a=[];for(var n of Object.keys(i.dynamicElems))a.push(i.dynamicElems[n].ready());Promise.all(a).then((()=>{i.dynamicEmitter&&i.dynamicEmitter.emit("adCustomEvent",{adCustomId:Jo,action:e,value:t})}))}},Oy=function(e,t){var i,a,n=Eb(this);if(n.dynamicElems)for(var o of Object.keys(n.dynamicElems)){var r,s=null===(r=n.dynamicElems[o])||void 0===r?void 0:r.referComponent;s&&s.emitComponentEvent(e,t)}null===(i=n.adTemplateRef)||void 0===i||null===(a=i.emitEvent)||void 0===a||a.call(i,ou.HOSTMESSAGE,{message:e,args:t})},Ny=function(){var e=b()((function*(){var e=Eb(this);try{var t;if(e.dynamicElems&&(yield Promise.all(Object.keys(e.dynamicElems).map((e=>Ly.call(this,e))))),e.dynamicOldStyle)for(var i of Object.keys(e.dynamicOldStyle)){var a,n=e[i]||(null===(a=e.dynamicElems)||void 0===a?void 0:a[i])||null,o=e.dynamicOldStyle[i];for(var r of Object.keys(o))n.style[r]=o[r]}e.dynamicElems=null,e.dynamicOldStyle=null,null!==(t=e.dynamicEmitter)&&void 0!==t&&t.off&&e.dynamicEmitter.off("adCustomEvent"),e.dynamicEmitter=null}catch(e){}}));return function(){return e.apply(this,arguments)}}(),Ly=function(){var e=b()((function*(e){var t=Eb(this);if(t.dynamicElems){var i=t.dynamicElems[e];null!=i&&i.remove&&i.remove(),i.referComponent&&Vn(i.referComponent),i._isTemplate&&(yield t.adTemplate.unmount({hostContainer:i}),delete t.dynamicElems[e])}}));return function(t){return e.apply(this,arguments)}}(),My=function(){var e=Eb(this);e.dynamicEmitter=new _f,e.dynamicEmitter.on("adCustomEvent",(e=>{var{adCustomId:t}=e;t===Jo&&Vy.call(this,e)}))},By=function(e){var t=Eb(this);!ex.call(this)&&t.data&&t.adTemplateRef&&Vy.call(this,e)},Vy=function(e){var t=Eb(this);switch(e.action){case ou.TEMPLATEMESSAGE:var i;if(e.value.message===$o&&["play","pause"].includes(null===(i=e.value.args)||void 0===i?void 0:i.operation))yy.call(this,e.value.args.operation);else if(e.value.message===Yo){var{id:a,time:n}=e.value.args||{};a&&n&&(t.extraReduceTime[a]=Number(n))}else if(e.value.message===qo){var{data:o}=e.value.args||{};o&&t.adProxy.setClipboardData({data:o}).then((()=>{t.adProxy.reportAdMonitorData(ui.COPY_GIFT_CODE_SUCCESS)})).catch((e=>{t.adProxy.reportAdMonitorData(ui.COPY_GIFT_CODE_FAIL,e)}))}else if(e.value.message===Xo){var r,s,l,d,c,{playableInfo:u}=e.value.args||{};if(u)t.playableInfo={appid:null==u?void 0:u.appid,moduleName:null==u?void 0:u.moduleName,versionType:null!==(r=null==u?void 0:u.versionType)&&void 0!==r?r:0,coverUrl:null==u?void 0:u.coverUrl,autoSwitchExpand:null!==(s=null==u?void 0:u.autoSwitchExpand)&&void 0!==s?s:null,rewardedTime:null!==(l=null==u?void 0:u.rewardedTime)&&void 0!==l?l:15,minIOSVersionForMute:null!==(d=null==u?void 0:u.minIOSVersionForMute)&&void 0!==d?d:null},t.expandPlayablePendant=null!==(c=null==u?void 0:u.pendantExpand)&&void 0!==c&&c;P_.call(this)}else e.value.message===Ko&&aE.call(this);break;case ou.LANDAD:var h,p=null===(h=e.value)||void 0===h?void 0:h.event;if(!p)return void Kb.call(this);if(!Gm.call(this,p))return;v_.call(this,p,"",Fo.REWARD_DYNAMIC_CONTENT);break;case ou.BTNTAP:var f,g=null===(f=e.value)||void 0===f?void 0:f.event;if(!Gm.call(this,g))return;v_.call(this,g,"button",Fo.REWARD_DYNAMIC_BUTTON);break;case ou.REPORTADMONITORDATA:var{id:m,key:y,extInfo:v}=e.value,_=m?{idKeyGroup:m,idKey:y}:y;t.adProxy.reportAdMonitorData(_,v);break;case ou.REWARDEDVIDEODYNAMIC:var{list:E}=e.value;Dy(),E&&Py.call(this,E);break;default:t.adProxy.handleAdTemplateEvent(e)}},{deviceInfo:Wy,gametext:Fy}=y,Hy={ENDPAGE:1,ENDMODAL:2,PLAYABLE_H5:3,PLAYABLE_XIJING:4},Uy=function(){var e=Eb(this);return e.playableTipsWrap.animate({left:-144,duration:200}).then((()=>{var t="即将跳转试玩";t=Wy.isIOS?`${t} `:t;var i=q({text:t,fontSize:12})||72,a=q({text:"放弃",fontSize:12})||24;return e.playableTipsContent.style.width=i,e.playableGiveUp.style.width=a,e.playableTipsWrap.style.width=i+a+32,e.playableTipsContent.value=t,e.playableGiveUp.value="放弃",e.playableGiveUp.style.hidden=!1,e.playableCancelBox.style.left=i+12,e.playableCancelBox.style.hidden=!1,e.playableCancelBox.style.width=a+20,M(300).then((()=>e.playableTipsWrap.animate({left:0,duration:200})))}))},Gy=function(e=!1){if(!ex.call(this)){var t,{screenWidth:i,screenHeight:a}=Wy,n=Eb(this),o=Pv.call(this),r="",s="",l=0,d=0,c=0,u=0,h=(a-o.style.height)/2;n.pageType===Hy.ENDPAGE?(n.pageHandler.style.width=i,n.pageHandler.style.height=i,r="pageImgBox",d=i/4,l=3*i/4-n.pageImgBox.style.width,t={xRevise:!0,decideByDirection:!0,setImgTips:!0,posQueue:[0,-i,-2*i]}):n.pageType===Hy.ENDMODAL&&(n.pageHandler.style.width=i,n.pageHandler.style.height=o.style.height,n.pageHandler.style.top=(a-o.style.height)/2,(a!==o.style.height||e)&&(n.pageMask.style.hidden=!1,n.pageMask.style.width=i,n.pageMask.style.height=(a-o.style.height)/2,n.pageMask.style.top=(a+o.style.height)/2),r="pageCardImgBox",s="pageCardBody",l=i-(d=60)-n.pageCardImgBox.style.width,c=o.style.height-n.pageCardBody.style.height+10,!Wy.isWaGame&&Wy.isAndroid&&(c=o.style.height-n.pageCardBody.style.height+h+10),u=c+180,n.pageCardBody.style.top=u,t={yRevise:!0,directionMap:{up:c,down:u},logPagePull:!0,showTips:!0,xInertia:!0,handleTail:!0,xHead:0,xTail:i-n.pageCardImgBox.style.width-20,touchClick:!0,imgBoxHeight:180,cardHeight:60,buttonWidth:60,buttonHeight:30}),n.flooringPageInfos={xMin:l,xMax:d,yMin:c,yMax:u,xContainer:r,yContainer:s,infos:t}}},zy=function(e={},t=""){if(!ex.call(this)){var i=Eb(this);if("img"===t)for(var a=i.imgBaseName,n=0;n<=3&&(3!==n||2===i.pageType);n++){var o=i[a+n].getAbsolutePosition(),{width:r}=i[a+n].style,{height:s}=i[a+n].style,l=o.left,d=o.left+r,c=o.top,u=o.top+s;e.x>=l&&e.x<=d&&e.y>=c&&e.y<=u&&(i.flooringPageState[`img${n}`].click+=1)}else["card","button"].includes(t)&&(i.flooringPageState[t].click+=1)}},jy=function(e={}){if(!ex.call(this)){var t=Eb(this),i=e.event?e.event:{};if(Ky.call(this,i))if(t.flooringPageIsShow){var a=t.pageCard.getAbsolutePosition(),n=a.top,o=a.top+e.cardHeight,r=t.pageCardImgContainer.getAbsolutePosition().top;if(i.y>n&&i.y<o){var s=t.pageCardButton.getAbsolutePosition(),l=s.top,d=s.top+e.buttonHeight,c=s.left,u=s.left+e.buttonWidth;i.y>l&&i.y<d&&i.x>c&&i.x<u?Jy.call(this,i,"button",Fo.REWARD_PAGE_BUTTON):Jy.call(this,i,"card",Fo.REWARD_PAGE_CARD)}else i.y>=r&&i.y<=Pv.call(this).style.height?Jy.call(this,i,"img",Fo.REWARD_PAGE_IMAGE):Yy.call(this,e)}else{var h=t.pageCard.getAbsolutePosition(),p=h.top,f=h.top+e.cardHeight,g=t.pageCardButton.getAbsolutePosition(),m=g.top,y=g.top+e.buttonHeight,v=g.left,_=g.left+e.buttonWidth;i.y>p&&i.y<f?i.y>m&&i.y<y&&i.x>v&&i.x<_?Jy.call(this,i,"button",Fo.REWARD_PAGE_BUTTON):Jy.call(this,i,"card",Fo.REWARD_PAGE_CARD):Yy.call(this,e)}}},$y=function(e={}){if(!ex.call(this)){var t=Eb(this),i=e.imgBox?e.imgBox:"",a=e.xMin?e.xMin:0,n=e.xMax?e.xMax:0,o=e.xHead?e.xHead:0,r=e.xTail?e.xTail:0;return t[i].nextLayout((()=>{var e=t[i].style.left,s=e;if(e>o&&e<=n?s=o:e>=a&&e<r&&(s=r),s!==e)return t[i].animate({left:s,duration:50})}))}},Yy=function(e={}){if(!ex.call(this)){var t=Eb(this),i=!0===t.flooringPageIsShow?e.max:e.min;return t.pageCardBody.animate({top:i,duration:50}).then((()=>dv.call(this,e))).then((()=>qy.call(this)))}},qy=function(){if(!ex.call(this)){var e=Eb(this);e.flooringPageIsShow?(e.pageCardTipIcon.style.hidden=!0,e.pageCardTip.style.hidden=!0):(e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.pageCardTipIcon.style.hidden=!1,e.pageCardTip.style.hidden=!1)}},Xy=function(e={}){if(ex.call(this))return!1;var t=Eb(this);if(t.direction)return t.direction===e.direction;if(t.pageType===Hy.ENDPAGE||!t.pageType)return!!t.flooringPageIsShow;var i=Pv.call(this);if(t.pageType===Hy.ENDMODAL){if("left"===e.direction){var{y:a}=e,n=t.flooringPageIsShow?i.style.height-180:0,o=t.flooringPageIsShow?i.style.height:0;return!!(a>n&&a<o)}if("top"===e.direction){var{y:r}=e,s=t.flooringPageIsShow?i.style.height-180:i.style.height;return!!(r>0&&r<s)}}return!1},Ky=function(e){if(!ex.call(this)){var t=Eb(this);return!!(Math.abs(e.x-t.startPosX)<30&&Math.abs(e.y-t.startPosY)<30)}},Jy=function(e,t="",i){ex.call(this)||Ky.call(this,e)&&v_.call(this,e,t,i)},Zy=function(e={}){if(!ex.call(this)){var t=Eb(this),i=e.container?e.container:"",a=e.event?e.event:{},n=t[i].getAbsolutePosition();return{x:n.left+a.x,y:n.top+a.y}}},Qy=function(e=!1,t={}){if(!ex.call(this)){var i=Eb(this);i.isPress=e,i.startPosX=null!=t&&t.x?t.x:0,i.startPosY=null!=t&&t.y?t.y:0,i.lastPosX=null!=t&&t.x?t.x:0,i.lastPosY=null!=t&&t.y?t.y:0,i.lastSecondPosX=null!=t&&t.x?t.x:0,i.lastSecondPosY=null!=t&&t.y?t.y:0,i.direction="",i.startTime=e?+new Date:0,e&&i.throttleTimer&&clearTimeout(i.throttleTimer),i.throttleTimer=null,i.timeStamp=0,i.callCount=0,i.distanceList=[]}},ev=function(){if(!ex.call(this))for(var e=Eb(this),t=e.imgBaseName,i=0;i<3;i++){var a=e[t+i].getAbsolutePosition();e[`pageImgIcon${i}`].style.backgroundColor=0===a.left?"#ffffff":"rgba(255, 255, 255, 0.55)"}},tv=function(e={}){if(!ex.call(this)){var t=Eb(this),i=e.event?e.event:{},a=e.direction?e.direction:"left",n="top"===a?i.y-t.lastPosY:i.x-t.lastPosX;Wy.isAndroid&&(n="top"===a?i.y-t.lastSecondPosY:i.x-t.lastSecondPosX);var o=e.critical?e.critical:0;return"top"===a?n<0&&Math.abs(n)>=o?"up":"down":n<0&&Math.abs(n)>=o?"right":"left"}},iv=function(e={}){if(ex.call(this))return Promise.reject({errMsg:Nb});var t=Eb(this),i=e.direction?e.direction:"left",a=e.imgBox?e.imgBox:"",n="top"===i?e.event.y:e.event.x,o=tv.call(this,e),r=e.directionMap?e.directionMap:{},s=e.posQueue?e.posQueue:[],l=null;if(Object.keys(r).length>0)l=r[o]?r[o]:0;else{n=t[a].style[i],s.sort(((e,t)=>e-t));for(var d=0,c=s.length-1;d<c;){var u=Math.floor((d+c)/2),h=c-d,p=s[u];if(n===p){l=p;break}if(n>p?d=u:c=u,h<=1)break}if(!l)if(e.decideByDirection)l=s[o]||("right"===o?s[d]:s[c]);else{var f=s[c],g=s[d];l=Math.abs(n-f)>=Math.abs(n-g)?g:f}}return Promise.resolve().then((()=>{t[a].style[i]=l})).then((()=>{if(e.logPagePull)return dv.call(this,e);Qy.call(this)})).then((()=>{if(e.showTips)return qy.call(this)})).then((()=>{if(e.setImgTips)return t[a].nextLayout((()=>{ev.call(this)}))}))},av=function(e={}){if(!ex.call(this)){var t=Eb(this);if(e&&"object"==typeof e&&t.data.flooringPage){var i=e.padding?e.padding:0,{pageType:a}=t,n=t.data.flooringPage.img_list?t.data.flooringPage.img_list:[];n="string"==typeof n?JSON.parse(n):n;var o=0;return n.forEach(((e,t)=>{var{width:n}=nv.call(this,{pageType:a,width:e.width,height:e.height});o+=0===t?n:i+n})),o}}},nv=function(e){if(!ex.call(this)){var t={},{screenWidth:i}=Wy;if(!e||"object"!=typeof e)return t;var{pageType:a,width:n,height:o}=e;return a!==Hy.ENDPAGE&&a?a===Hy.ENDMODAL&&n===o?(t.scale=150/n,t.width=150,t.height=150):a===Hy.ENDMODAL&&n!==o&&(t.scale=150/o,t.width=150*n/o,t.height=150):(t.scale=i/n,t.width=i,t.height=i),t}},ov=function(){if(!ex.call(this)){var e=Eb(this);if(e.data.flooringPage){var{pageType:t}=e,i=e.data.flooringPage.img_list?e.data.flooringPage.img_list:[];i="string"==typeof i?JSON.parse(i):i;var a=e.imgBaseName?e.imgBaseName:"";i.forEach(((i,n)=>{var o=a+n,{width:r,height:s,scale:l}=nv.call(this,{pageType:t,width:i.width,height:i.height});e[o].scale=l,e[o].style.width=r,e[o].style.height=s,e[o].src=i.image_url}))}}},rv=function(){var e=b()((function*(){var e,t;if(!ex.call(this)){var i=Eb(this),{deviceOrientation:a,screenWidth:n,screenHeight:o}=Wy,r=null===(e=i.data)||void 0===e||null===(t=e.card)||void 0===t?void 0:t.headBgImg;if(i.pageType===Hy.ENDPAGE&&i.data.flooringPage&&"portrait"===a)Oy.call(this,Rt,{pageType:Hy.ENDPAGE}),i.pageContainer.style.width=n,i.pageContainer.style.height=o,i.pageContainer.style.left=n,i.pageContainer.style.hidden=!1,i.pageHandler.style.hidden=!1,i.card.style.hidden=!0,qm.call(this),i.pageHandler.style.zIndex=1000003,i.topBar.style.zIndex=1000004,i.pageImgTips.style.zIndex=1000004,yield i.pageContainer.nextLayout(),yield i.pageContainer.animate({left:0,duration:300}),dv.call(this);else if(i.pageType===Hy.ENDMODAL&&!i.flooringPageIsShow&&i.data.flooringPage&&"portrait"===a){Oy.call(this,Rt,{pageType:Hy.ENDMODAL});var{yMin:s,yMax:l}=i.flooringPageInfos;yield i.pageCardBody.animate({top:s,duration:50}),i.flooringPageAutoShow=!0,dv.call(this,{min:s,max:l}),qy.call(this)}else if(i.data.flooringPage&&[Hy.PLAYABLE_H5].includes(i.pageType)&&!i.isCancelPlayablePage){Oy.call(this,Rt,{pageType:i.pageType});var d=i.data.flooringPage.page_url||"";if(!d&&i.data.crtInfo)try{var{wxgame_video_card:{flooring_page:c}}=i.data.crtInfo;d=c.page_url||""}catch(e){}yield i.adProxy.handleRewardedVideoPlayableLand(d,i.pageType),i.isLandingPlayablePage=!0}else!i.pageType&&r&&(Oy.call(this,Rt,{pageType:void 0}),i.defaultPageContainer.style.hidden=!1,i.defaultPageContainer.style.opacity=0,yield i.defaultPageContainer.nextLayout(),i.cardContainer.style.hidden=!0,yield i.defaultPageContainer.animate({opacity:1,duration:280}),dv.call(this))}}));return function(){return e.apply(this,arguments)}}(),sv=function(){if(!ex.call(this)){var e=Eb(this);if([Hy.ENDPAGE,Hy.ENDMODAL].includes(e.pageType)){e.flooringPageState.pageType=e.pageType,e.flooringPageState.card={click:0},e.flooringPageState.button={click:0};for(var t=0;t<=3&&(3!==t||2===e.pageType);t++)e.flooringPageState[`img${t}`]={exposure:0,click:0}}}},lv=function(){if(!ex.call(this)){var e=Eb(this);if(Wy.isIOS){for(var t=0;t<3;t++)e[`pageImg${t}`].src=Tb,e[`pageCardImg${t}`].src=Tb;e.pageCardImg3.src=Tb,e.pageAppIcon.src=Tb,e.pageCardAppIcon.src=Tb,e.pageCardTipIcon.src=Tb}}},dv=function(e={}){if(!ex.call(this)){var t=Eb(this);if(t.pageType===Hy.ENDMODAL){var i=e.min?e.min:0,a=e.max?e.max:0;t.pageCardBody.style.top!==i||t.flooringPageIsShow||t.flooringPageAutoShow?t.pageCardBody.style.top===a&&t.flooringPageIsShow?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,cv.call(this,{type:2,staytime:0,componentsstartstr:""}),cv.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageShowTime=0,t.flooringPageCloseTime=0,sv.call(this)):t.pageCardBody.style.top===i&&t.flooringPageAutoShow?(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,cv.call(this,{type:4,staytime:0,componentsstartstr:""}),uv.call(this)):e.isClose&&t.flooringPageIsShow&&(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,cv.call(this,{type:5,staytime:0,componentsstartstr:""}),cv.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,sv.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,cv.call(this,{type:1,staytime:0,componentsstartstr:""}),uv.call(this))}else t.pageType===Hy.ENDPAGE?e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,cv.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,sv.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,cv.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),uv.call(this)):t.pageType||(e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,cv.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,sv.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,cv.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),uv.call(this)))}},cv=function(e){if(!ex.call(this)){var t=Eb(this);t.pageType===Hy.ENDPAGE&&delete e.type;var i=[];return i.push(e),t.adProxy.reportFlooringPage(t.pageType,i)}},uv=function(e=!1){if(!ex.call(this)){var t=Eb(this);if(e){if(t.pageType)for(var i=t.imgBaseName,a=0;a<=3&&(3!==a||2===t.pageType);a++){var n=t[i+a].getAbsolutePosition(),{width:o}=t[i+a].style,r=-o/2,s=Wy.screenWidth-o/2;n.left>r&&n.left<s&&(t.flooringPageState[`img${a}`].exposure+=1)}}else t.exposureTimer&&(clearTimeout(t.exposureTimer),t.exposureTimer=null),t.exposureTimer=setTimeout((()=>uv.call(this,!0)),1e3)}},hv=function(e){if(!ex.call(this)){var t=Eb(this),i=Zy.call(this,{event:e,container:"pageHandler"});t.startPosX=i.x,t.startPosY=i.y,t.lastPosX=i.x,t.lastPosY=i.y,t.lastStartTime=(new Date).getTime()}},pv=function(e){if(!ex.call(this)){var t=Eb(this),i=t.pageHandler.getAbsolutePosition(),a=i.left+e[0].x,n=i.top+e[0].y,{xMin:o,xMax:r,yMin:s,yMax:l,xContainer:d,yContainer:c}=t.flooringPageInfos;if(a-t.lastPosX!=0&&d&&Xy.call(this,{x:a,y:n,direction:"left"})){var u=t[d].style.left;(u+=a-t.lastPosX)>=o&&u<=r&&(t[d].style.left=u,t.lastSecondPosX=t.lastPosX,t.lastPosX=a,t.direction="left",t.lastMoveTime=(new Date).getTime())}if(n-t.lastPosY!=0&&c&&Xy.call(this,{x:a,y:n,direction:"top"})){var h=t[c].style.top;(h+=n-t.lastPosY)>=s&&h<=l&&(t[c].style.top=h,t.lastSecondPosY=t.lastPosY,t.lastPosY=n,t.direction="top")}}},fv=function(e){if(!ex.call(this)){var t=Eb(this),i=Zy.call(this,{event:e,container:"pageHandler"}),{xMin:a,xMax:n,yMin:o,yMax:r,xContainer:s,yContainer:l,infos:d}=t.flooringPageInfos;if(d.event=i,d.event&&(d.event.pressInterval=(new Date).getTime()-t.lastStartTime),d.touchClick&&jy.call(this,Object.assign({},d,{event:i,max:r,min:o})),"top"===t.direction&&d.yRevise)iv.call(this,Object.assign({},d,{max:r,min:o,direction:"top",imgBox:l}));else if("left"===t.direction&&d.xRevise)iv.call(this,Object.assign({},d,{max:n,min:a,direction:"left",imgBox:s})),uv.call(this);else if("left"===t.direction&&d.xInertia){var c=i.x-t.lastPosX,u=t[s].style.left+5*c;u>=d.xHead&&u<=d.xTail?t[s].style.left=u:$y.call(this,Object.assign({},d,{xMax:n,xMin:a,imgBox:s})),uv.call(this)}else t.startPosX=0,t.startPosY=0,t.lastPosX=0,t.lastPosY=0,t.lastSecondPosX=0,t.lastSecondPosY=0,t.direction="";t.direction=""}},gv=function(e){var t;if(!ex.call(this)){var i=Eb(this);if(Gm.call(this,e)&&!i.isCancelPlayablePage){i.isCancelPlayablePage=!0,i.playableGiveUp.value="已放弃",i.playableGiveUp.style.color="#ffffff",i.playableGiveUp.style.opacity=.6;var a=q({text:"已放弃",fontSize:12})||36;i.playableGiveUp.style.width=a,i.playableTipsWrap.style.width=i.playableTipsContent.style.width+a+32,i.adProxy.reportCancelRewardPlayablePage({costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,slotid:_b,is_reward:1,is_cancel:1})}}},mv=function(){var e=Eb(this),{deviceOrientation:t,screenWidth:i,screenHeight:a}=Wy,n="portrait"===t,o=n?a:i,r=n?i:a;e.defaultPageBackgroundImage.style.width=o,e.defaultPageBackgroundImage.style.height=o;var s=(o-r)/-2;n?(e.defaultPageBackgroundImage.style.left=s,e.defaultPageBackgroundImage.style.top=0):(e.defaultPageBackgroundImage.style.left=0,e.defaultPageBackgroundImage.style.top=s)},yv=function(){if(!ex.call(this)){var e=Eb(this),{card:{icon:t,name:i,wording:a}}=e.data,{screenWidth:n,screenHeight:o}=Wy;e.pageAppIcon.src=t,e.pageAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageAppName.value=B(i,20),e.pageAppWording.value=a,e.pageButton.value=e.button.value,e.imgBaseName="pageImg",e.pageImgContainer.style.width=n,e.pageImgContainer.style.height=n,e.pageImgBox.style.width=3*n,e.pageImgBox.style.height=n,e.pageImgBox.style.left=0,e.pageInfoContainer.style.width=n,e.pageInfoContainer.style.height=o-n,e.pageInfoContainer.style.top=n,e.pageImgTips.style.top=n-20,e.pageImgTips.style.left=n/2-17.5,Wy.isIOS&&(e.pageImgIcon0.style.borderRadius=4,e.pageImgIcon1.style.borderRadius=4,e.pageImgIcon2.style.borderRadius=4),e.pageImgIcon0.style.backgroundColor="#ffffff",e.pageImgIcon1.style.backgroundColor="rgba(255, 255, 255, 0.55)",e.pageImgIcon2.style.backgroundColor="rgba(255, 255, 255, 0.55)",ov.call(this),Gy.call(this)}},vv=function(){if(!ex.call(this)){var e=Eb(this),{card:{icon:t,name:i,wording:a}}=e.data,{screenWidth:n}=Wy;e.pageCardContainer.style.width=n,e.pageCardAppIcon.src=t,e.pageCardAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageCardAppName.value=B(i,20),e.pageCardAppWording.value=a,e.pageCardButton.value=e.button.value,e.pageCard.style.width=n,e.pageCardSplitLine.style.width=n-20,e.pageCardHotArea.style.width=n,e.pageCardImgContainer.style.width=n-20,e.pageCardImgBox.style.width=av.call(this,{padding:10}),e.pageCardTipIcon.src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=f8ba19ac709edca00138c47585de39be&filekey=3033020101041f301d02016d040253480410f8ba19ac709edca00138c47585de39be020202d1040d00000004627466730000000131&hy=SH&storeid=32303138313031303133353430323030303461363337313336666664393336663561333230613030303030303664&bizid=1023",Pv.call(this).style.padding=0,Pv.call(this).style.paddingBottom=0,e.imgBaseName="pageCardImg",ov.call(this),Gy.call(this),e.pageHandler.style.hidden=!1}},_v=function(){if(!ex.call(this)){var e=Eb(this),t="视频结束后可试玩";t=Wy.isIOS?`${t} `:t;var i=q({text:t,fontSize:12})||100;e.playableTipsContent.style.width=i,e.playableTipsWrap.style.width=i+24}},Ev=function(){if(!ex.call(this)){var e=Eb(this),{product_type:t,card:{icon:i,name:a,wording:n,headBgImg:o}}=e.data,r=iy.call(this);if(r&&(e.defaultPageAppIcon.bubbleEvent=!1),e.defaultPageAppIcon.src=i,e.defaultPageAppName.value=B(a,20),e.defaultPageAppWording.value=n,e.defaultPageButton.value=e.button.value,r)for(var s of(e.defaultPageAppIcon.style.left=0,Object.keys(um))){var l=um[s];e[s]&&Object.assign(e[s].style,l)}else{var d=Fy.getTextWidth(B(a,20),17);for(var c of(e.defaultPageAppIcon.style.left=134-d/2,Object.keys(cm))){var u=cm[c];e[c]&&Object.assign(e[c].style,u)}}var h=jm.call(this),p=$m.call(this);h&&p?(e.defaultPageRanking.style.hidden=!1,e.defaultPageRankingInfo.value=`小游戏${h} TOP${p}`):e.defaultPageRanking.style.hidden=!0;var f=Ym.call(this);if(f){var g="https://wxa.wxs.qq.com/images/factory/noneStar.png",m="https://wxa.wxs.qq.com/images/factory/halfStar.png";e.defaultPageScore.style.hidden=!1,t===Ii.IOS?(e.defaultPageScoreTitle.value="App Store评分",e.defaultPageScoreTitle.style.width=95):t===Ii.ANDROID&&(e.defaultPageScoreTitle.value="应用宝评分",e.defaultPageScoreTitle.style.width=70),f<3.5?(e.defaultPageScoreImg4.src=m,e.defaultPageScoreImg5.src=g):f<=4?e.defaultPageScoreImg5.src=g:f<4.5&&(e.defaultPageScoreImg5.src=m),e.defaultPageScoreNum.value=`${f}分`}else e.defaultPageScore.style.hidden=!0;(p||f)&&(e.defaultPageWordingWrapper.style.height+=40),e.defaultPageAppIcon.style.borderRadius=r?8:3,-1===[Ii.ANDROID,Ii.IOS].indexOf(t)&&(e.defaultPageAppIcon.style.borderRadius=r?32:12),e.defaultPageBackgroundImage.src=o||"",mv.call(this)}},bv=function(){if(!ex.call(this)){var e=Eb(this),{product_type:t,card:{icon:i,name:a,wording:n,headBgImg:o}}=e.data,{screenHeight:r,screenWidth:s}=Wy;for(var l of(e.animationCardContainer.style.top=r,e.animationCardContainer.style.width=s,e.animationCardWordingWrapper.style.height=206,e.videoBackgroundContainer.style.height=r,e.videoBackgroundContainer.style.width=s,e.videoBackgroundMask.style.height=r,e.videoBackgroundMask.style.width=s,e.videoBackgroundImage.style.height=r,e.videoBackgroundImage.style.width=s,e.animationCardAppIcon.src=i,e.animationCardAppName.value=B(a,20),e.animationCardAppWording.value=n,e.animationCardButton.value=e.button.value,e.animationCardAppIcon.style.left=0,Object.keys(um))){var d=um[l];e[l]&&Object.assign(e[l].style,d)}var c=jm.call(this),u=$m.call(this);c&&u?(e.animationCardRanking.style.hidden=!1,e.animationCardRankingInfo.value=`小游戏${c} TOP${u}`):e.animationCardRanking.style.hidden=!0;var h=Ym.call(this);if(h){var p="https://wxa.wxs.qq.com/images/factory/noneStar.png",f="https://wxa.wxs.qq.com/images/factory/halfStar.png";e.animationCardScore.style.hidden=!1,t===Ii.IOS?(e.animationCardScoreTitle.value="App Store评分",e.animationCardScoreTitle.style.width=95):t===Ii.ANDROID&&(e.animationCardScoreTitle.value="应用宝评分",e.animationCardScoreTitle.style.width=70),h<3.5?(e.animationCardScoreImg4.src=f,e.animationCardScoreImg5.src=p):h<=4?e.animationCardScoreImg5.src=p:h<4.5&&(e.animationCardScoreImg5.src=f),e.animationCardScoreNum.value=`${h}分`}else e.animationCardScore.style.hidden=!0;(u||h)&&(e.animationCardWordingWrapper.style.height+=44),e.animationCardAppIcon.style.borderRadius=8,-1===[Ii.ANDROID,Ii.IOS].indexOf(t)&&(e.animationCardAppIcon.style.borderRadius=32),e.videoBackgroundImage.src=o||""}},xv=function(){if(!ex.call(this)){var e=Eb(this),{flooringPage:t}=e.data;sv.call(this),t&&e.pageType===Hy.ENDPAGE&&"portrait"===Wy.deviceOrientation?yv.call(this):t&&e.pageType===Hy.ENDMODAL&&"portrait"===Wy.deviceOrientation?vv.call(this):t&&[Hy.PLAYABLE_H5].includes(e.pageType)?_v.call(this):e.pageType||e.isUseAnimationPage?e.isUseAnimationPage&&bv.call(this):Ev.call(this)}},wv=function(e){return t=>{if(Gm.call(this,t)){var i=iy.call(this);if(!(i&&"wrapper"===e||!i&&["logo","wording"].includes(e))){var a=[[Fo.REWARD_ENDPAGE_HEAD_IMG,i&&"logo"===e],[Fo.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED,i&&["wording","wrapper"].includes(e)],[Fo.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED,!i&&["wording","wrapper"].includes(e)],[Fo.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED,i&&"button"===e],[Fo.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED,!i&&"button"===e],[Fo.REWARD_ENDPAGE_RANKING,"ranking"===e],[Fo.REWARD_ENDPAGE_SCORE,"score"===e]].find((([,e])=>e))[0];v_.call(this,t,"button"===e?"button":"",a)}}}},Tv=function(){var e=Eb(this),{screenWidth:t,screenHeight:i}=Wy;e.cardContainer.animate({top:i,duration:500}).finally((()=>{e.cardContainer.style.hidden=!0})),e.videoBackgroundContainer.style.hidden=!1;var a=Math.floor(16*t/9);e.videoContainer.style.height=a,e.video.style.height=a,e.videoContainer.style.borderRadius=20,e.animationCardContainer.style.hidden=!1,e.animationCardAppConversion.style.hidden||(e.animationCardWordingWrapper.style.height+=32);var n=e.topBar.style.top+82,o=e.animationCardWordingWrapper.style.height,r=i-o-24,s=i-n-o,l=s/a,d=n-(a-s)/2;e.videoContainer.animate({top:d,scaleWidth:l,scaleHeight:l,duration:1e3}),e.animationCardContainer.animate({top:r,duration:1e3}),setTimeout((()=>{e.animationCardClickMask.style.height=e.videoContainer.style.height,e.animationCardClickMask.style.width=e.videoContainer.style.width,e.animationCardClickMask.style.hidden=!1}),1e3)},{deviceInfo:Cv,Video:Av}=y,Dv=function(){var e=b()((function*({startTime:e}){if(!ex.call(this)){var t=Eb(this),i=Date.now(),a=yield Iv.call(this,{currentSuccessCount:1,currentFailedCount:0,requestCount:t.data.condition.widget_gray_rewarded_video_feed_request_count||3,minCount:t.data.condition.widget_gray_rewarded_video_feed_min_count||3,maxFailedCount:t.data.condition.widget_gray_rewarded_video_feed_max_fail_count||3,startTime:e,additionStartTime:i});if(t.multiVideoInfo.additionFetchDone=!0,t.multiVideoInfo.useMultiVideo=!0,a){var n,o;if(Cv.isAndroid&&(null===(n=t.adProxy.data)||void 0===n||null===(o=n.condition)||void 0===o||!o.widget_gray_rewarded_video_disable_preload)){var r=t.adProxy.convertedAdDatas.filter(((e,i)=>i!==t.adProxy.adDataIndex)).map((e=>{var t;return null==e||null===(t=e.shortVideo)||void 0===t?void 0:t.src}));t.adProxy.preloadVideo(r).catch((e=>{t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_ADDITION_PRELOAD_ERROR,e)}))}kv.call(this)}else for(;t.adProxy.datas.length>1;)Sv.call(this)}}));return function(t){return e.apply(this,arguments)}}(),Iv=function(){var e=b()((function*(e){var{currentSuccessCount:t,requestCount:i,currentFailedCount:a,maxFailedCount:n,fetchInterval:o}=e;if(ex.call(this))return!1;var s=Eb(this),l=(t=!1)=>r()(r()({},ve(e,["currentSuccessCount","currentFailedCount","requestCount","maxFailedCount","minCount"])),t?{startTime:e.startTime,additionStartTime:e.additionStartTime,endTime:Date.now()}:{});if(a>=n){var d=t>=e.minCount;return i_.call(this,d?ui.REWARDED_ADDITION_FETCH_ALL_SUCCESS:ui.REWARDED_ADDITION_FETCH_ALL_FAILED,l(!0)),d}if(s.adProxy.datas.length<i)try{var c=yield s.adProxy.additionFetch(!1,{},Hb.call(this));i_.call(this,ui.REWARDED_ADDITION_FETCH_SUCCESS,l());var u=0,h=0;return Gv.call(this,c)?h=1:(Sv.call(this),u=1),o&&(yield M(o)),Iv.call(this,r()(r()({},e),{},{currentSuccessCount:t+h,currentFailedCount:a+u}))}catch(t){return i_.call(this,ui.REWARDED_ADDITION_FETCH_FAILED,r()(r()({},e),{},{e:t instanceof Error?s.adProxy.processStackMsg(t):t})),o&&(yield M(o)),Iv.call(this,r()(r()({},e),{},{currentFailedCount:a+1}))}return i_.call(this,ui.REWARDED_ADDITION_FETCH_ALL_SUCCESS,l(!0)),!0}));return function(t){return e.apply(this,arguments)}}(),Sv=function(){if(!ex.call(this)){var e=Eb(this);e.adProxy.datas.length>1&&(e.adProxy.datas.pop(),e.adProxy.convertedAdDatas.pop())}},kv=function(){if(!ex.call(this)){var e=Eb(this);e.videoElems={0:e.video};for(var t=1;t<e.adProxy.convertedAdDatas.length;t+=1){var i,a=null===(i=e.adProxy.convertedAdDatas[t])||void 0===i?void 0:i.shortVideo,n=new Av({style:r()(r()({},Em.video),{},{hidden:!0}),controls:!1,muted:!0,autoplay:!1,objectFit:"contain",enableProgressGesture:!1,enablePlayGesture:!1,showCenterPlayBtn:!1,autoInsert:!1,scene:"ad",playerHint:"supportSoftDecode,mp4Only",autoPauseIfNavigate:!0,autoPauseIfOpenNative:!0,src:a.src});wy.call(this,n,t),e.adProxy.isValidCondition("widget_gray_video_sound")?n.muted=!1:n.muted=!0,Cv.isIOS&&(n.obeyMuteSwitch=!0),e.videoContainer.add(n),e.videoElems[t]=n}}},Pv=function(e=null){if(ex.call(this))return null;var t=Eb(this);return t.videoElems[null!=e?e:t.adProxy.adDataIndex]||null},Rv=function(){var e=b()((function*(e){var t=Eb(this);if(!ex.call(this)&&!t.slideFrozen){t.slideFrozen=!0,setTimeout((()=>{t.slideFrozen=!1}),500);var{multiVideoInfo:i}=t,a="next"===e?(t.adProxy.adDataIndex+1)%t.adProxy.datas.length:(t.adProxy.adDataIndex+t.adProxy.datas.length-1)%t.adProxy.datas.length;Qv.call(this),i.isEnded[t.adProxy.adDataIndex]||yy.call(this,"pause"),Mv.call(this),t.adProxy.setCurrentData(a),t.data=t.adProxy.convertedAdData;var n=!i.isEnded[t.adProxy.adDataIndex]&&!i.isEnded[a];for(var o of(n&&(yield t.videoMask.animate({opacity:1,duration:150})),zb.call(this,!0),Object.keys(t.videoElems))){var s=t.videoElems[o];s.style.hidden=!0,s.muted=!0}if(!i.isExposured[a]){i.isExposured[a]=!0,i_.call(this,ui.REWARDED_VIDEO_FEED_EXPOSURE,{type:"showed"});var{width:l,height:d}=t.video.style;t.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:l,height:d,weappExtraData:r()({},t.adWelfareData||{})})}var c=i.isEnded[a];if(c)Zv.call(this);else{var u=Pv.call(this);u.style.hidden=!1,u.muted=ly.call(this),sy.call(this,a)||u.seek(0)}if(ax.call(this,!c),n&&(yield M(50),yield t.videoMask.animate({opacity:0,duration:150})),!c){yy.call(this,"play");var h=Nm.call(this,{playType:"partial",conditionType:"start"});bb(h,"激励视频","广告流开始播放",a)}qv.call(this)&&Nv.call(this)}}));return function(t){return e.apply(this,arguments)}}(),Ov=function(){if(!ex.call(this)&&Uv.call(this)){var e=Eb(this),{screenWidth:t}=Cv;Wv.call(this)&&(e.defaultPageSlideTipsContainer.style.width=t,e.expandCardSlideTipsContainer.style.width=t),Lv.call(this,!0)}},Nv=function(){if(!ex.call(this)&&Uv.call(this)){var e=Eb(this),t=e.adProxy.adDataIndex,{screenHeight:i}=Cv;e.multiVideoInfo.isSlideTipsShowed[t]||(e.multiVideoInfo.isSlideTipsShowed[t]=!0,e.multiVideoInfo.isEnded[t]?zm.call(this)?e.defaultPageSlideTipsContainer.style.hidden=!1:(e.landscapeSlideTipsContainer.style.hidden=!1,e.landscapeSlideTipsContainer.style.opacity=1):zm.call(this)?Jm.call(this)?(e.expandCardSlideTipsContainer.style.hidden=!1,e.expandCardSlideTipsContainer.animate({opacity:1,duration:300})):(e.cardContainer.animate({top:i-198,duration:300}),e.slideTipsContainer.style.hidden=!1,e.slideTipsContainer.animate({opacity:1,duration:300})):(e.landscapeSlideTipsMask.style.hidden=!1,e.landscapeSlideTipsContainer.style.hidden=!1,e.landscapeSlideTipsContainer.animate({opacity:1,duration:300})),i_.call(this,ui.REWARDED_VIDEO_FEED_SLIDE_TIPS_SHOW))}},Lv=function(e){if(!ex.call(this)&&Uv.call(this)){var t=Eb(this);if(e){if(Wv.call(this)){var i=t.adProxy.adDataIndex,a=i+1===t.adProxy.datas.length;zm.call(this)?(t.multiVideoInfo.isSlideTipsShowed[i]&&!a?(t.slideTips.style.hidden=!0,t.expandCardSlideTips.style.hidden=!0):(t.slideTips.style.hidden=!1,t.expandCardSlideTips.style.hidden=!1),a?(t.slideTips.value="回到第一个",t.expandCardSlideTips.value="回到第一个"):(t.slideTips.value="不感兴趣，换一个",t.expandCardSlideTips.value="不感兴趣，换一个"),t.multiVideoInfo.isSlideTipsShowed[i]&&(Jm.call(this)?(t.expandCardSlideTipsContainer.style.hidden=!1,t.expandCardSlideTipsContainer.style.opacity=1):(t.slideTipsContainer.style.hidden=!1,t.slideTipsContainer.style.opacity=1))):(t.multiVideoInfo.isSlideTipsShowed[i]&&!a?t.landscapeSlideTipsGroup.style.hidden=!0:t.landscapeSlideTipsGroup.style.hidden=!1,a?(t.landscapeSlideTips1.value="回到第一个",t.landscapeSlideTips2.style.hidden=!0):(t.landscapeSlideTips1.value="不感兴趣",t.landscapeSlideTips2.value="换个看看",t.landscapeSlideTips2.style.hidden=!1),t.multiVideoInfo.isSlideTipsShowed[i]?(t.landscapeSlideTipsMask.style.hidden=!1,t.landscapeSlideTipsContainer.style.hidden=!1,t.landscapeSlideTipsContainer.style.opacity=1):t.landscapeSlideTipsMask.style.hidden=!0)}}else if(Wv.call(this))if(zm.call(this)){var n=(t.adProxy.adDataIndex+1)%t.adProxy.datas.length;sy.call(this,n)&&n?t.defaultPageSlideTips.style.hidden=!0:sy.call(this,n)?(t.defaultPageSlideTips.style.hidden=!1,t.defaultPageSlideTips.value="回到第一个"):(t.defaultPageSlideTips.style.hidden=!1,t.defaultPageSlideTips.value="3 秒后自动更换"),t.defaultPageSlideTipsContainer.style.hidden=!1}else{var o=(t.adProxy.adDataIndex+1)%t.adProxy.datas.length;sy.call(this,o)&&o?t.landscapeSlideTipsGroup.style.hidden=!0:sy.call(this,o)?(t.landscapeSlideTipsGroup.style.hidden=!1,t.landscapeSlideTips1.value="回到第一个",t.landscapeSlideTips2.style.hidden=!0):(t.landscapeSlideTipsGroup.style.hidden=!1,t.landscapeSlideTips1.value="3 秒后",t.landscapeSlideTips2.value="自动更换",t.landscapeSlideTips2.style.hidden=!1),t.landscapeSlideTipsMask.style.hidden=!0,t.landscapeSlideTipsContainer.style.hidden=!1,t.landscapeSlideTipsContainer.style.opacity=1}}},Mv=function(){if(!ex.call(this)){var e=Eb(this);Ny.call(this),e.pageType===Hy.ENDPAGE?e.pageContainer.style.hidden=!0:e.pageType===Hy.ENDMODAL?(e.pageHandler.style.hidden=!0,e.pageCardBody.style.hidden=!0,e.pageMask.style.hidden=!0,e.pageCardTip.style.hidden=!0,Pv.call(this).style.padding=8,Pv.call(this).style.paddingBottom=16):e.pageType||(e.defaultPageContainer.style.hidden=!0),e.pageHandler.style.hidden=!0,e.expandCardSlideTipsContainer.style.hidden=!0,e.expandCardSlideTipsContainer.style.opacity=0,e.slideTipsContainer.style.hidden=!0,e.slideTipsContainer.style.opacity=0,e.landscapeSlideTipsContainer.style.hidden=!0,e.landscapeSlideTipsContainer.style.opacity=0,e.defaultPageSlideTipsContainer.style.hidden=!0,Cv.isAndroid&&e.adProxy.setInnerAudioOption(!0).catch((()=>{})),e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.exposureTimer&&clearTimeout(e.exposureTimer),e.updateScreenInfoTimer&&clearTimeout(e.updateScreenInfoTimer),e.layoutTimer&&clearTimeout(e.layoutTimer),e.rewardPageTimer&&clearTimeout(e.rewardPageTimer),e.reportDurationTimer&&clearTimeout(e.reportDurationTimer),e.pageType=0,e.imgBaseName=""}},Bv=function(e){var t=Eb(this);if(!ex.call(this)){var i=!1,a=!1;zm.call(this)&&["up","down"].includes(e.direction)?(i="up"===e.direction,a="down"===e.direction):!zm.call(this)&&["left","right"].includes(e.direction)&&(i="left"===e.direction,a="right"===e.direction);var n=Fv.call(this),o=t.adProxy.adDataIndex,r=t.adProxy.datas.length,s=n&&o===r-1&&i,l=n&&0===o&&a;i&&qv.call(this)&&!s?(Rv.call(this,"next"),i_.call(this,ui.REWARDED_VIDEO_FEED_SLIDE,{type:"slideDown"})):a&&o&&(Rv.call(this,"prev"),i_.call(this,ui.REWARDED_VIDEO_FEED_SLIDE,{type:"slideUp"})),(l||s)&&Vv.call(this,"没有更多内容")}},Vv=function(){var e=b()((function*(e,t=1e3,i=136){var a=Eb(this);if(!ex.call(this)&&!a.toastShowing&&Wv.call(this)&&Fv.call(this)){var n=200;a.toastText.value=e,a.toast.style.width=i,a.toastShowing=!0,a.toastContainer.style.hidden=!1,yield M(100),a.toastContainer.animate({opacity:1,duration:n}),yield M(t+n),a.toastContainer.animate({opacity:0,duration:n}),yield M(n),a.toastContainer.style.hidden=!0,a.toastShowing=!1}}));return function(t){return e.apply(this,arguments)}}(),Wv=function(e=!1){var t,i,a,n,o,r,s=Eb(this);if(ex.call(this)||Cv.isIPad||Cv.isPC)return!1;var l=null===(t=s.adProxy.convertedAdDatas)||void 0===t?void 0:t[0];if(!Gv.call(this,l))return!1;if(!e&&(s.adProxy.datas.length<=1||!s.multiVideoInfo.useMultiVideo))return!1;var d=null!==(i=null===(a=l.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_feed_min_duration)&&void 0!==i?i:100;if(s.multiVideoInfo.randomNumber>=d)return!1;var c=null!==(n=null===(o=l.condition)||void 0===o?void 0:o.widget_gray_rewarded_video_feed_min_duration)&&void 0!==n?n:0;return!(null!=l&&null!==(r=l.shortVideo)&&void 0!==r&&r.duration&&c&&l.shortVideo.duration<1e3*c)&&zv.call(this)},Fv=function(){var e,t=Eb(this);if(ex.call(this)||"portrait"!==Cv.deviceOrientation)return!1;var i=null===(e=t.adProxy.convertedAdDatas)||void 0===e?void 0:e[0];return!(!(i&&i.condition&&Wv.call(this))||S_.call(this))&&Hv(i)},Hv=function(e){var t;return Boolean(null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewarded_video_feed_new_style)},Uv=function(){return!(ex.call(this)||!Wv.call(this)||Fv.call(this))},Gv=function(e){var t;return e&&Zo("video",e.crt_size)&&(!e.flooringPage||!e.flooringPage.landpage_type)&&((null==e||null===(t=e.card)||void 0===t?void 0:t.headBgImg)||Hv(e))},zv=function(){return!ex.call(this)&&!!jv.call(this)},jv=function(){var e,t,i=Eb(this);return ex.call(this)?0:null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_time},$v=function(){var e,t,i=Eb(this);return ex.call(this)?0:(null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_animate_start_time)||0},Yv=function(){var e,t,i=Eb(this);return ex.call(this)?0:Boolean(null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_end_immediately)},qv=function(){var e,t=Eb(this);if(ex.call(this))return!1;if(!t.multiVideoInfo.additionFetchDone)return!1;var i=t.adProxy.adDataIndex,a=null!==(e=t.data.condition.widget_gray_rewarded_video_slide_duration)&&void 0!==e?e:0,n=Fv.call(this),o=t.multiVideoInfo.isEnded[i]||t.multiVideoInfo.videoPosition[i]>=1e3*a,r=0!==i||sy.call(this,1)||t.multiVideoInfo.videoPosition[0]>=1e3*a;return!n&&o||n&&r},Xv=function(){if(!ex.call(this)){var e=Eb(this);try{var t=5*jv.call(this);e.multiVideoCounter+=1;var i=$v.call(this);if(e.multiVideoCounter>=1e3*i/200&&!e.feedGuideAnimated&&Fv.call(this)&&(e.feedGuideAnimated=!0,u_.call(this,2)),e.multiVideoCounter<t){var a=Math.ceil((t-e.multiVideoCounter)/5);Im.call(this,a)}else{if(Im.call(this,0,!0),Jv.call(this),!Fv.call(this)&&!e.isRewarded&&Yv.call(this)){var n,o;yy.call(this,"stop");for(var r=e.adProxy.adDataIndex,s=0;s<e.adProxy.datas.length;s+=1)e.multiVideoInfo.isPlaying[s]=!1,e.multiVideoInfo.isEnded[s]=!0,e.multiVideoInfo.isSlideTipsShowed[s]=!0;null===(n=(o=e.endedHandler)[r])||void 0===n||n.call(o,!0)}e.isRewarded=!0}}catch(t){e.adProxy.reportAdMonitorData(ui.REWRADED_VIDEO_FEED_INTERVAL_ERROR,t)}}},Kv=function(){if(!ex.call(this)){var e=Eb(this);e.multiVideoTimer||(e.multiVideoTimer=setInterval(Xv.bind(this),200))}},Jv=function(){if(!ex.call(this)){var e=Eb(this);e.multiVideoTimer&&(clearInterval(e.multiVideoTimer),e.multiVideoTimer=null)}},Zv=function(){var e=Eb(this);ex.call(this)||e.flooringPageSlideTimer||(e.flooringPageSlideTimer=setTimeout((()=>{e.flooringPageSlideTimer=null,sy.call(this,(e.adProxy.adDataIndex+1)%e.adProxy.datas.length)||(Rv.call(this,"next"),i_.call(this,ui.REWARDED_VIDEO_FEED_SLIDE,{type:"endPageAutoSwitch"}))}),3e3))},Qv=function(){if(!ex.call(this)){var e=Eb(this);e.flooringPageSlideTimer&&(clearInterval(e.flooringPageSlideTimer),e.flooringPageSlideTimer=null)}},e_=function(){!ex.call(this)&&Wv.call(this)&&(Rv.call(this,"next"),i_.call(this,ui.REWARDED_VIDEO_FEED_SLIDE,{type:"clickArea"}))},t_=function(e,t){var i=Eb(this);if(!ex.call(this))if(Wv.call(this))for(var a of Object.keys(i.videoElems)){i.videoElems[a][e]=t}else i.video[e]=t},i_=function(e,t={}){var i,a=Eb(this);ex.call(this)||zv.call(this)&&a.adProxy.reportAdMonitorData(e,r()({feed_traceid:null===(i=a.adProxy.datas)||void 0===i?void 0:i[0].traceid},t))},a_=function(){var e=Eb(this);ex.call(this)||(e.expandCardSlideTipsContainer.style.opacity=0,e.expandCardSlideTipsContainer.style.hidden=!0,e.slideTipsContainer.style.opacity=0,e.slideTipsContainer.style.hidden=!0,e.landscapeSlideTipsContainer.style.opacity=0,e.landscapeSlideTipsContainer.style.hidden=!0,e.defaultPageSlideTipsContainer.style.hidden=!0)},{deviceInfo:n_,invokeMethod:o_,gametext:r_}=y,s_=1e3,l_=function(){if(!ex.call(this)){var e=Eb(this),{flooringPage:t}=e.data;e.pageType=null!=t&&t.landpage_type?t.landpage_type:0,d_.call(this),p_.call(this),c_.call(this),Ov.call(this),f_.call(this),xv.call(this),m_.call(this)}},d_=function(){if(!ex.call(this)){var e=Eb(this),{product_type:t,button_action:i,card:{icon:a,name:n,wording:o,showTime:r}}=e.data;e.cardShowTime=r,e.appIcon.src=a,e.appName.value=B(n,20),e.appWording.value=o,e.appIcon.style.borderRadius=10,-1===[Ii.ANDROID,Ii.IOS].indexOf(t)&&("portrait"===n_.deviceOrientation?e.appIcon.style.borderRadius=24:"landscape"===n_.deviceOrientation&&(e.appIcon.style.borderRadius=22)),e.button.value=i.button_text,i.button_text||(t===Ii.ANDROID?e.button.value="下载":t===Ii.IOS&&(e.button.value="查看"));var s=jm.call(this);if(s){var l=$m.call(this);e.cardRankingInfo.value=`小游戏${s} TOP${l}`}var d=Ym.call(this);if(d){var c="https://wxa.wxs.qq.com/images/factory/noneStar.png",u="https://wxa.wxs.qq.com/images/factory/halfStar.png";t===Ii.IOS?(e.cardScoreTitle.value="App Store评分",e.cardScoreTitle.style.width=82):t===Ii.ANDROID&&(e.cardScoreTitle.value="应用宝评分",e.cardScoreTitle.style.width=60),d<3.5?(e.cardScoreImg4.src=u,e.cardScoreImg5.src=c):d<=4?e.cardScoreImg5.src=c:d<4.5&&(e.cardScoreImg5.src=u),e.cardScoreNum.value=`${d}分`}(s||d)&&(e.card.style.height=84),h_.call(this)}},c_=function(){var e=Eb(this),t=Fv.call(this),{screenWidth:i,screenHeight:a}=n_,n=i<a?i:a,o=i>=a?i:a;e.splitLineLeft.style.hidden=t,e.sound.style.hidden=t||oy.call(this),e.splitLine.style.hidden=t||oy.call(this),e.barCenter.style.hidden=!t,e.cardContainer.style.hidden=t||Jm.call(this),e.expandCardContainer.style.hidden=t||!Jm.call(this)||oy.call(this),e.feedCardContainer.style.hidden=!t,e.feedCardContainer.style.width=n,e.feedCardMask.style.width=n,e.feedCardContainer.style.bottom=(o-16*n/9)/2-1;var{product_type:r,button_action:s,card:{icon:l,name:d,wording:c}}=e.data;e.feedCardAppIcon.src=l,e.feedCardAppName.value=B(d,20),e.feedCardAppWording.value=c,e.feedCardAppIcon.style.borderRadius=8,[Ii.ANDROID,Ii.IOS].includes(r)&&(e.feedCardAppIcon.style.borderRadius=20),e.feedCardButton.value=s.button_text,s.button_text||(r===Ii.ANDROID?e.feedCardButton.value="下载":r===Ii.IOS&&(e.feedCardButton.value="查看")),e.feedFinger.style.left=(n-120)/2,e.feedFinger.style.top=(o-120)/2+42},u_=function(){var e=b()((function*(e=2){var t=Eb(this),i=200,{screenHeight:a}=n_,n=(a-120)/2+42,o=(a-120)/2-48,r=function(){var e=b()((function*(e){e||(t.feedFinger.animate({opacity:0,duration:100,easing:"ease-out"}),yield M(200),t.feedFinger.style.top=n,yield M(200)),t.feedFinger.animate({opacity:1,duration:100,easing:"ease-out"}),yield M(200),t.feedFinger.animate({top:o,duration:450,easing:"ease-out"}),yield M(950)}));return function(t){return e.apply(this,arguments)}}();t.feedGuideContainer.style.hidden=!1,t.feedFinger.style.opacity=0,yield M(200),t.feedGuideContainer.animate({opacity:1,duration:i,easing:"ease-out"}),yield M(300);for(var s=0;s<e;s+=1)yield r(0===s);t.feedGuideContainer.animate({opacity:0,duration:i,easing:"ease-out"}),yield M(300),t.feedGuideContainer.style.hidden=!0}));return function(){return e.apply(this,arguments)}}(),h_=function(){var e=Eb(this),t=0,{screenHeight:i,screenWidth:a,safeArea:n}=n_,o=Ym.call(this),r=jm.call(this);if((o||r)&&(t-=48),[Hy.PLAYABLE_H5].includes(e.pageType)&&e.data.flooringPage&&(t-=32),Wv.call(this)&&!Jm.call(this)&&zm.call(this)){var s=e.adProxy.adDataIndex,l=s+1===e.adProxy.datas.length;e.multiVideoInfo.isSlideTipsShowed[s]&&!l?t-=52:e.multiVideoInfo.isSlideTipsShowed[s]&&(t-=68)}if(zm.call(this))e.cardContainer.style.width=a-16,e.cardContainer.style.top=i-130+t,e.cardContainer.style.left=8;else{var d=n.top||0;e.cardContainer.style.width=348,e.cardContainer.style.top=i-104+t,e.cardContainer.style.left=d+18}},p_=function(){if(!ex.call(this)){var e=Eb(this),{product_type:t,card:{icon:i,name:a,wording:n}}=e.data,o=iy.call(this);o&&(e.expandCardAppIcon.bubbleEvent=!1),e.expandCardAppIcon.src=i,e.expandCardAppName.value=B(a,20),e.expandCardAppWording.value=n,e.expandCardButton.value=e.button.value;var{screenWidth:r,screenHeight:s}=n_,l=e.expandCardInfoContainer.style;if("portrait"===n_.deviceOrientation?(l.width=r,l.justifyContent="flex-start",l.paddingLeft=0,l.paddingTop=48,l.height=400/375*r,l.bottom=0,l.position="absolute"):(l.justifyContent="center",l.paddingLeft=.672*s,l.width=l.paddingLeft+300,l.paddingTop=0,l.height=s,l.bottom=null,l.position=null),o)for(var d of(e.expandCardAppIcon.style.left=0,Object.keys(dm))){var c=dm[d];e[d]&&Object.assign(e[d].style,c)}else{var u=r_.getTextWidth(B(a,20),17);for(var h of(e.expandCardAppIcon.style.left=134-u/2,Object.keys(lm))){var p=lm[h];e[h]&&Object.assign(e[h].style,p)}}e.expandCardAppIcon.style.borderRadius=o?8:3,-1===[Ii.ANDROID,Ii.IOS].indexOf(t)&&(e.expandCardAppIcon.style.borderRadius=o?32:12);var f=jm.call(this),g=$m.call(this);f&&g?(e.expandPageRanking.style.hidden=!1,e.expandPageRankingInfo.value=`小游戏${f} TOP${g}`):e.expandPageRanking.style.hidden=!0;var m=Ym.call(this);if(m){var y="https://wxa.wxs.qq.com/images/factory/noneStar.png",v="https://wxa.wxs.qq.com/images/factory/halfStar.png";e.expandPageScore.style.hidden=!1,t===Ii.IOS?(e.expandPageScoreTitle.value="App Store评分",e.expandPageScoreTitle.style.width=95):t===Ii.ANDROID&&(e.expandPageScoreTitle.value="应用宝评分",e.expandPageScoreTitle.style.width=70),m<3.5?(e.expandPageScoreImg4.src=v,e.expandPageScoreImg5.src=y):m<=4?e.expandPageScoreImg5.src=y:m<4.5&&(e.expandPageScoreImg5.src=v),e.expandPageScoreNum.value=`${m}分`}else e.expandPageScore.style.hidden=!0;(g||m)&&(e.expandCardWordingWrapper.style.height+=40)}},f_=function(){if(!ex.call(this)){var e=Eb(this),{product_type:t,button_action:i,app:a}=e.data;t===Ii.WE_CHAT&&e.adProxy.checkFollow(e.data.app.uin).then((t=>{ex.call(this)&&e.adProxy.reportAdMonitorData(ui.CHECK_FLOW_ERROR);var a=t?"查看公众号":i.button_text||"关注公众号";e.button.value=a,y_.call(this),e.data.flooringPage&&e.pageType===Hy.ENDPAGE&&0===e.buttonTextType?e.pageButton.value=a:e.data.flooringPage&&e.pageType===Hy.ENDMODAL&&0===e.buttonTextType?e.pageCardButton.value=a:e.pageType||(e.defaultPageButton.value=a),e.expandCardButton.value=a,e.feedCardButton.value=a,Ry.call(this,Mt.CHANGEADBTNTEXT,{text:a})})).catch((()=>{var t=a.isFollowed?"查看公众号":i.button_text||"关注公众号";e.button.value=t,y_.call(this),Ry.call(this,Mt.CHANGEADBTNTEXT,{text:t})})),1===e.buttonTextType&&(e.button.value=i.button_text,Ry.call(this,Mt.CHANGEADBTNTEXT,{text:i.button_text})),y_.call(this),e.androidAppState=0,e.button.style.hidden=!1,e.pageButton.style.hidden=!1,e.defaultPageButton.style.hidden=!1,e.expandCardButton.style.hidden=!1,e.downloadButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!0,t===Ii.ANDROID&&e.adProxy.isValidCondition("widget_gray_video_download_v2")&&(e.button.style.hidden=!0,e.downloadButton.style.hidden=!1,e.downloadButtonText.value=i.button_text,e.downloadProgressText.value=i.button_text,y_.call(this),e.pageType===Hy.ENDPAGE&&(e.pageButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!1,e.pageDownloadButtonText.value=i.button_text,e.pageDownloadProgressText.value=i.button_text))}},g_=function(e,t){var i=Eb(this);i.feedCardExtraVisibility[e]=t;var a=["conversion"],n={conversion:i.feedCardAppConversion};for(var o of a)n[o].style.hidden=!0;var r=!1,s=Object.keys(i.feedCardExtraVisibility);for(var l of a)!r&&!1===i.feedCardExtraVisibility[l]&&s.includes(l)?(r=!0,n[l].style.hidden=!1):n[l].style.hidden=!0;i.feedCardExtraInfo.style.hidden=!r},m_=function(){if(!ex.call(this)){var e=Eb(this),{card:{mpTagType:t}}=e.data;if(t===Si){var i=+new Date;fa({buttonText:e.button.value,aid:e.adProxy.data.aid}).then((t=>{var a=+new Date;if(e.adProxy.reportRelationFetchDuration({startTime:i,endTime:a,showTime:e.showDetailTime||0}),t){var{count:n,descText:o}=t,r=`最近已有${n}人${o}`,s=`- ${r} -`;e.pageType?e.pageType===Hy.ENDPAGE&&(e.pageAppConversion.value=s,e.pageAppConversion.style.hidden=!1):(e.defaultPageAppConversion.value=s,e.defaultPageAppConversion.style.hidden=!1),e.expandCardAppConversion.value=s,e.expandCardAppConversion.style.hidden=!1,e.feedCardAppConversion.value=r,e.playablePendantAppConversion.value=r,e.playableEndpageAppConversion.value=r,e.animationCardAppConversion.value=r,e.animationCardAppConversion.style.hidden=!1,g_.call(this,"conversion",!1),M_.call(this,"conversion",!1)}else e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.style.hidden=!0,e.expandCardAppConversion.style.hidden=!0,e.animationCardAppConversion.style.hidden=!0,g_.call(this,"conversion",!0),M_.call(this,"conversion",!0)})).catch((t=>{e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.style.hidden=!0,e.expandCardAppConversion.style.hidden=!0,e.animationCardAppConversion.style.hidden=!0,g_.call(this,"conversion",!0),M_.call(this,"conversion",!0),e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_RELATION_FETCH_ERROR,t)}))}else e.pageAppConversion.style.hidden=!0,e.defaultPageAppConversion.style.hidden=!0,e.expandCardAppConversion.style.hidden=!0,g_.call(this,"conversion",!0),M_.call(this,"conversion",!0)}},y_=function(){var e=Eb(this);try{if(n_.isIOS&&n_.isApp&&e.adProxy.isValidCondition("widget_gray_measure_text")){var t;o_("measureText",{text:e.button.value,fontSize:16,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){t={width:e.width||0}}}),!1===e.button.style.hidden&&(e.button.style.width=t.width+24),e.data.flooringPage&&e.pageType===Hy.ENDMODAL&&(o_("measureText",{text:e.button.value,fontSize:e.pageCardButton.style.fontSize||14,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){t={width:e.width||0}}}),e.pageCardButton.style.width=t.width+24)}else{var i=r_.getTextWidthInAndroid(e.button.value,e.button.style.fontSize||16)+24;!1===e.button.style.hidden&&(e.button.style.width=i),!1===e.downloadButton.style.hidden&&(i=r_.getTextWidthInAndroid(e.downloadButtonText.value,e.downloadButtonText.style.fontSize||13)+24,e.downloadButton.style.width=i+2,e.downloadButtonText.style.width=i,e.downloadProgressText.style.width=i),e.data.flooringPage&&e.pageType===Hy.ENDMODAL&&(i=r_.getTextWidthInAndroid(e.button.value,e.pageCardButton.style.fontSize||14)+24,e.pageCardButton.style.width=i)}}catch(e){}},v_=function(e,t="",i){if(!ex.call(this)){var a=Eb(this);if(a.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_LAND_CLICK,{clickPos:i,type:t}),[Hy.ENDPAGE,Hy.ENDMODAL].includes(a.pageType)&&zy.call(this,e,t),n_.isAndroid&&a.data.product_type===Ii.ANDROID&&a.pageType===Hy.ENDPAGE&&a.adProxy.isValidCondition("widget_gray_video_download_v2"))E_.call(this);else if(n_.isIOS&&a.data.product_type===Ii.MINI_GAME&&a.data.dest_type===Ai.DEST_TYPE_WECHAT_APPLET)Promise.race([Om.call(this,e,i),M(500)]).then((()=>{Lm.call(this,{button:5},e),Kb.call(this)})).catch((()=>{Lm.call(this,{button:5},e),Kb.call(this)}));else{Om.call(this,e,i),Lm.call(this,{button:5},e);var n={},{extBackComm:o}=a.data;(a.data.product_type===Ii.WE_CHAT||o.is_from_snsadinfo)&&(n["button"===t?"isButton":"toOfficalAccountDetail"]=!0),Kb.call(this,n)}}},__=function(e=3){if(!ex.call(this)){var t=Eb(this);t.adProxy.queryDownloadTask(t.androidDownloadId).then((e=>{if("download_succ"===e.state)t.downloadButtonText.value="安装应用",t.downloadProgressText.value="安装应用",t.downloadProgress.style.width=t.downloadButton.style.width,t.pageType===Hy.ENDPAGE&&(t.pageDownloadButtonText.value="安装应用",t.pageDownloadProgressText.value="安装应用",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width),t.androidAppState=3,y_.call(this);else if("downloading"===e.state)t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",t.downloadProgress.style.width=t.downloadButton.style.width*parseInt(e.progress,10)/100,t.pageType===Hy.ENDPAGE&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width*parseInt(e.progress,10)/100),t.androidAppState=1,y_.call(this);else if("download_fail"===e.state){if(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,t.downloadProgress.style.width=0,t.pageType===Hy.ENDPAGE&&(t.pageDownloadButtonText.value=t.data.button_action.button_text,t.pageDownloadProgressText.value=t.data.button_action.button_text,t.pageDownloadProgress.style.width=0,1===t.buttonTextType)){var i=t.data.button_action.button_text;t.pageDownloadButtonText.value=i}t.androidAppState=0,y_.call(this)}"downloading"!==e.state&&"default"!==e.state||setTimeout(__.bind(this),s_)})).catch((()=>{e>0&&__.call(this,e-1)}))}},E_=function(e={}){if(!ex.call(this)&&(!e||Gm.call(this,e))){var t=Eb(this);Om.call(this,e,Fo.REWARD_DOWNLOAD);var i,{appInfo:{appName:a,apkName:n,apkUrl:o,appMd5:r,urlScheme:s}}=t.data,{aid:l,traceid:d,apurl:c}=t.adProxy.data,u=0,h="";if(t.landingCount+=1,t.lastLandingTime=+new Date,t.lastJsapiStatus=0,t.lastJsapiCostTime=0,4===t.androidAppState)t.adProxy.launchApplication(s,t.adProxy.data).catch((()=>{Kb.call(this,{isButton:!0})})),t.lastJsapiName="launchApplication",t.isLandingPage=!0;else if(0===t.androidAppState){var p=[l,d,n.replace(/./g,"_"),0,20,c.indexOf("ad.wx.com")>-1?1:0].join(".");t.adProxy.addDownloadTaskStraight(a,o,r,p).then((e=>{t.androidDownloadId=e.downloadId,setTimeout(__.bind(this),s_)})).catch((()=>{Kb.call(this,{isButton:!0})})),t.lastJsapiName="addDownloadTaskStraight",u=4,h="下载"}else 1===t.androidAppState?(t.adProxy.pauseDownloadTask(t.androidDownloadId).catch((()=>{})),t.downloadButtonText.value="继续下载",t.downloadProgressText.value="继续下载",t.pageType===Hy.ENDPAGE&&(t.pageDownloadButtonText.value="继续下载",t.pageDownloadProgressText.value="继续下载"),y_.call(this),t.androidAppState=2,t.lastJsapiName="pauseDownloadTask",u=5,h="暂停"):2===t.androidAppState?(t.adProxy.resumeDownloadTask(t.androidDownloadId).then((()=>{setTimeout(__.bind(this),s_)})).catch((()=>{})),t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",t.pageType===Hy.ENDPAGE&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载"),y_.call(this),t.androidAppState=1,t.lastJsapiName="resumeDownloadTask",u=6,h="继续"):3===t.androidAppState&&(t.adProxy.installDownloadTask(t.androidDownloadId).catch((()=>{})),t.lastJsapiName="installDownloadTask",u=7,h="安装");if(u>0)t.adProxy.reportLandingTime({slotId:_b,costType:null!==(i=t.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,openTime:t.lastLandingTime,clickTime:t.lastLandingTime,clkCnt:t.landingCount,jsapiName:t.lastJsapiName,actTypeInt:u,actTypeStr:h})}},b_=function(e){return t=>{if(Gm.call(this,t)){var i=iy.call(this);if(!(i&&"wrapper"===e||!i&&["logo","wording"].includes(e))){var a=[[Fo.REWARD_EXPAND_CARD_HEAD_IMG,i&&"logo"===e],[Fo.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED,i&&["wording","wrapper"].includes(e)],[Fo.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED,!i&&["wording","wrapper"].includes(e)],[Fo.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED,i&&"button"===e],[Fo.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED,!i&&"button"===e],[Fo.REWARD_EXPAND_CARD_RANKING,"ranking"===e],[Fo.REWARD_EXPAND_CARD_SCORE,"score"===e]].find((([,e])=>e))[0];v_.call(this,t,"button"===e?"button":"",a)}}}},x_=function(e){return t=>{if(Gm.call(this,t)){var i=[[Fo.REWARD_FEED_CARD_HEAD_IMG,"logo"===e],[Fo.REWARD_FEED_CARD_WORDING,"wording"===e],[Fo.REWARD_FEED_CARD_BUTTON,"button"===e],[Fo.REWARD_FEED_CARD_CONVERSION,"conversion"===e],[Fo.REWARD_FEED_CARD_RANKING,"ranking"===e],[Fo.REWARD_FEED_CARD_SCORE,"score"===e]].find((([,e])=>e))[0];v_.call(this,t,"button"===e?"button":"",i)}}},w_=function(e){return t=>{if(Gm.call(this,t)){var i=[[Fo.REWARD_ANIMATION_CARD_HEAD_IMG,"logo"===e],[Fo.REWARD_ANIMATION_CARD_WORDING,"wording"===e],[Fo.REWARD_ANIMATION_CARD_BUTTON,"button"===e],[Fo.REWARD_ANIMATION_CARD_CONVERSION,"conversion"===e],[Fo.REWARD_ANIMATION_CARD_RANKING,"ranking"===e],[Fo.REWARD_ANIMATION_CARD_SCORE,"score"===e],[Fo.REWARD_ANIMATION_VIDEO,"videoClickMask"===e]].find((([,e])=>e))[0];v_.call(this,t,"button"===e?"button":"",i)}}},T_=function(e){var t;if(Gm.call(this,e)){var i=Eb(this),{extBackComm:a}=i.data,n=Boolean((null===(t=i.data)||void 0===t?void 0:t.product_type)===Ii.WE_CHAT||a.is_from_snsadinfo);n_.isIOS&&i.data.product_type===Ii.MINI_GAME&&i.data.dest_type===Ai.DEST_TYPE_WECHAT_APPLET?Promise.race([Om.call(this,e,Fo.REWARD_CARD_BUTTON),M(500)]).then((()=>{Lm.call(this,{button:5},e),Kb.call(this,{isButton:n})})).catch((()=>{Lm.call(this,{button:5},e),Kb.call(this,{isButton:n})})):(Om.call(this,e,Fo.REWARD_CARD_BUTTON),Lm.call(this,{button:5},e),Kb.call(this,{isButton:n}))}},C_=function(e){if(Gm.call(this,e)){var t=Eb(this);n_.isIOS&&46===t.data.product_type&&6===t.data.dest_type?Promise.race([Om.call(this,e,Fo.REWARD_CARD),M(500)]).then((()=>{Lm.call(this,{button:5},e),Kb.call(this)})).catch((()=>{Lm.call(this,{button:5},e),Kb.call(this)})):(Om.call(this,e,Fo.REWARD_CARD),Lm.call(this,{button:5},e),Kb.call(this))}},{deviceInfo:A_,onPlayableStatusChange:D_,View:I_}=y,S_=function(e=!0){var t,i,a,n;if(ex.call(this))return!1;var o=Eb(this),{isAndroid:r,isIOS:s}=A_;return!(!((r||s)&&null!==(t=o.playableInfo)&&void 0!==t&&t.appid&&null!==(i=o.playableInfo)&&void 0!==i&&i.moduleName&&null!==(a=o.playableInfo)&&void 0!==a&&a.coverUrl&&(null===(n=o.adProxy.data.weapp_info)||void 0===n?void 0:n.appid)===o.playableInfo.appid)||e&&!o.playablePredownloaded)},k_=function(){O_.call(this),N_.call(this),L_.call(this)},P_=function(){var e=Eb(this);if(S_.call(this,!1)&&e.playableInfo){var{appid:t,moduleName:i,coverUrl:a}=e.playableInfo;e.playableEndpageInfoAppCover.src=a,e.playablePredownload=e.adProxy.predownloadMiniProgramPackage({appid:t,moduleName:i,preloadCodeScene:15});var n=Date.now();e.playablePredownload.then((()=>{e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_SUCCESS,{costTime:Date.now()-n}),e.playablePredownloaded=!0}),(t=>{e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_PREDOWNLOAD_FAILED,{costTime:Date.now()-n,error:t}),e.playablePredownloaded=!1}))}},R_=function(){var e=Eb(this);e.splitLineLeft.style.hidden=!0,e.countDown.style.hidden=!0,e.leftTimeIcon.style.hidden=!0,e.countDownPrepend.style.hidden=!0,e.countDownAppend.style.hidden=!0},O_=function(){var e=Eb(this),{card:{icon:t}}=e.data;e.playableLoadingAppIcon.src=t,e.playableLoading.style.hidden=!0;Bb.call(this,["playableLoading","playableLoadingBackground"])},N_=function(){var e=Eb(this),{card:{icon:t,name:i,wording:a}}=e.data;e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0,e.playablePendantTouchMask.style.hidden=!0,e.playablePendantAppIcon.src=t,e.playablePendantPhoneAppIcon.src=t,e.playablePendantAppName.value=B(i,20),e.playablePendantAppWording.value=a,M_.call(this,"wording",!1);var n=jm.call(this),o=$m.call(this);if(n&&o){var r=`小游戏${n} TOP${o}`;e.playablePendantAppRanking.value=r,e.playableEndpageAppRanking.value=r,M_.call(this,"ranking",!1)}else M_.call(this,"ranking",!0)},L_=function(){var e=Eb(this),{screenWidth:t,screenHeight:i,deviceOrientation:a}=A_,{card:{icon:n,name:o,wording:r}}=e.data;for(var s of(e.playableEndpageAppIcon.src=n,e.playableEndpageAppTitle.value=o,e.playableEndpageAppWording.value=r,e.playableEndpage.style.hidden=!0,e.playableEndpageMainWrapper.style.top="portrait"===a?-i/812*28:0,Te(_m)))if(e[s])for(var l of Te(_m[s]))if(["portrait","landscape"].includes(l)&&a===l)for(var d of Te(_m[s][l]))e[s].style[d]=_m[s][l][d];Bb.call(this,["playableEndpage","playableEndpageBackgroundContainer","playableEndpageBackground","playableEndpageBackgroundLandscape"]),e.playableEndpageBackgroundAdorn.style.width=t,e.playableEndpageBackgroundAdorn.style.height=t/375*160},M_=function(e,t){var i=Eb(this);if(!ex.call(this)){i.playableExtraVisibility[e]=t;var a=["ranking","conversion","wording"],n={wording:[i.playablePendantAppWording,i.playableEndpageAppWording],conversion:[i.playablePendantAppConversion,i.playableEndpageAppConversion],ranking:[i.playablePendantAppRanking,i.playableEndpageAppRanking]};for(var o of a)for(var r of n[o])r.style.hidden=!0;var s=Object.keys(i.playableExtraVisibility);for(var l of a)if(!1===i.playableExtraVisibility[l]&&s.includes(l)){for(var d of n[l])d.style.hidden=!1;break}}},B_=function(e=!1){var t=Eb(this);if(!ex.call(this)&&!t.playablePendantSwitching){t.playablePendantSwitching=!0;var i=t.expandPlayablePendant,a=(t,i,a)=>{e?t.style.opacity=i:t.animate({opacity:i,duration:a})};t.playablePendantExpand.style.hidden=!1,t.playablePendantFold.style.hidden=!1,a(t.playablePendantFold,i?0:1,200),a(t.playablePendantExpand,i?1:0,200),t.playablePendantTouchMask.style.hidden=i,t.playablePendantExpand.style.bottom=t.playablePendantBottom,t.playablePendantFold.style.bottom=t.playablePendantBottom,t.playablePendantTouchMask.style.zIndex=i?999998:1000004,t.playablePendantFold.style.zIndex=i?999999:1000003,t.playablePendantExpand.style.zIndex=i?1000003:999999,t.playablePendantSwitching=!1}},V_=function(e){var t=Eb(this);ex.call(this)||t.adProxy.isTriggerClick.call(this,e)&&(t.expandPlayablePendant=!t.expandPlayablePendant,t.playablePendantSwitched=!0,B_.call(this))},W_=function(e){var{screenHeight:t}=A_;return Math.min(t-100-85,Math.max(40,e))},F_=function(e){var t=Eb(this);ex.call(this)||(t.playablePendantFold.style.bottom=W_.call(this,t.playablePendantBottom-e.relativeY),t.currentPendantOffset=e.relativeY)},H_=function(){var e=Eb(this);ex.call(this)||(e.playablePendantBottom=W_.call(this,e.playablePendantBottom-e.currentPendantOffset),e.playablePendantTouchMask.style.bottom=e.playablePendantBottom,e.playablePendantExpand.style.bottom=e.playablePendantBottom,e.currentPendantOffset=0)},U_=function(e,t=!1,i){ex.call(this)||Gm.call(this,i)&&v_.call(this,i,t?"button":"",e)},G_=function(){var e=b()((function*(){var e=Eb(this);ex.call(this)||e.playableEnded||(e.playableEnded=!0,e.playableEndpage.style.hidden=!1,e.playableEndpage.style.opacity=0,e.splitLine.style.hidden=!0,e.sound.style.hidden=!0,yield M(150),e.playablePendantExpand.animate({duration:200,opacity:0}),e.playablePendantFold.animate({duration:200,opacity:0}),e.playableEndpage.animate({duration:500,opacity:1}),yield M(500),e.playablePendantTouchMask.style.hidden=!0,e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0,tE.call(this))}));return function(){return e.apply(this,arguments)}}(),z_=function(e){var t=Eb(this);!ex.call(this)&&S_.call(this)&&!t.isViewableExposureReported&&iE.call(this)-e>=1&&(eE.call(this,"viewable"),t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_SHOWED,{type:"viewable"}))},j_=function(){var e=Eb(this),t=V_.bind(this);e.playablePendantArrowExpandGroup.on("click",t),e.playablePendantArrowFoldGroup.on("click",t),e.playablePendantTouchMask.on("click",(i=>{e.expandPlayablePendant||t(i)})),e.touchWatcher.onDrag(e.playablePendantTouchMask,F_.bind(this)),e.touchWatcher.onDragEnd(e.playablePendantTouchMask,H_.bind(this)),e.playablePendantButton.on("click",U_.bind(this,Fo.REWARD_PLAYABLE_PENDANT,!0)),e.playableEndpageButton.on("click",U_.bind(this,Fo.REWARD_PLAYABLE_ENDPAGE_BUTTON,!0)),e.playableEndpageInfoGroup.on("click",U_.bind(this,Fo.REWARD_PLAYABLE_ENDPAGE_CARD,!1)),e.playableEndpagePlaceholderCard.on("click",U_.bind(this,Fo.REWARD_PLAYABLE_ENDPAGE_CARD,!1)),e.emitter.on(Go,G_.bind(this)),e.emitter.on(Uo,z_.bind(this)),D_(X_.bind(this))},$_=0,Y_=1,q_=2,X_=function(e){var t=Eb(this);if(!ex.call(this))switch(t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_STATUS_CHANGE,e),null==e?void 0:e.action){case Y_:t.emitter.emit(jo);break;case $_:Cm.call(this,iE.call(this)),G_.call(this);break;case q_:G_.call(this),t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_INSERT_FAILED,{fromCallback:!0})}},K_=function(e=null){var t=Eb(this);return new Promise(((i,a)=>{t.emitter.on(jo,(()=>{i()})),e&&setTimeout((()=>a(new Error("playable wait too long"))),e)}))},J_=function(){var e,t=Eb(this),{screenWidth:i,screenHeight:a}=A_;return{zIndex:1e6,appid:t.playableInfo.appid,viewId:Z_.call(this),moduleName:t.playableInfo.moduleName,versionType:null!==(e=t.playableInfo.versionType)&&void 0!==e?e:0,parentId:t.container.id,position:{left:0,top:0,width:i,height:a}}},Z_=function(){var e=Eb(this);if(e.playableViewId)return e.playableViewId;var t=new I_({name:"tempPlayableView "}),{id:i}=t;return e.playableViewId=i,i},Q_=function(){var e=b()((function*(){var e,t=Eb(this);t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_SHOWED,{type:"loading"}),R_.call(this),t.cardContainer.style.hidden=!0,t.topBar.style.hidden=!1,t.card.style.hidden=!0,t.defaultPageContainer.style.hidden=!0,t.expandCardContainer.style.hidden=!0,t.feedCardContainer.style.hidden=!0,t.feedGuideContainer.style.hidden=!0,t.video.style.hidden=!0,t.playableLoading.style.hidden=!1,t.playableLoadingProgressBarInner.style.left=-1*t.playableLoadingProgressBarInner.style.width,yield M(500),t.adProxy.vibrate(2,200);var i=Date.now(),a=J_.call(this),n=t.adProxy.insertPlayableView(a);n.then((()=>{var e=Date.now()-i;t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_INSERT_SUCCESS,{costTime:e})}));var o=K_.call(this);yield M(200),t.playableLoadingProgressBarInner.animate({left:0,easing:"linear",duration:2e3});var s=!1,l=!1;yield Promise.race([Promise.all([M(2e3),n,o]).then((()=>{s=!0})).catch((e=>{var a=Date.now()-i;t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_INSERT_FAILED,{costTime:a,e:e}),l=!0})),M(4e3).then((()=>{s||(t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_INSERT_FAILED,{costTime:-1}),qb.call(this),l=!0)}))]),l||(t.adProxy.updatePlayableView(r()(r()({},a),{},{resume:!0})),nE.call(this)&&(t.sound.style.hidden=!1,t.splitLine.style.hidden=!1),t.playableLoading.animate({opacity:0,duration:300}),yield M(300),t.playableStartTime=Date.now(),t.playableLoading.style.hidden=!0,t.playableLoaded=!0,B_.call(this,!0),eE.call(this,"showed"),eE.call(this,"incentiveVideoCard"),t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_SHOWED,{type:"showed"}),Im.call(this,iE.call(this)),t.isDialogOpened||Am.call(this,iE.call(this)),null!==(e=t.playableInfo)&&void 0!==e&&e.autoSwitchExpand&&setTimeout((()=>{t.expandPlayablePendant=!t.expandPlayablePendant,t.playablePendantSwitched||B_.call(this)}),t.playableInfo.autoSwitchExpand))}));return function(){return e.apply(this,arguments)}}(),eE=function(e){var t=Eb(this),{screenWidth:i,screenHeight:a}=A_,n={showed:"isShowedExposureReported",viewable:"isViewableExposureReported",incentiveVideoCard:"isCardExposureReported"}[e];if(!t[n]){t[n]=!0,"viewable"===e&&(t.adProxy.isViewable=!0);var o=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:i,height:a,weappExtraData:r()({},t.adWelfareData||{})});bb(o,"激励视频",{showed:"原始曝光",viewable:"可视曝光",incentiveVideoCard:"卡片曝光"}[e])}},tE=function(){var e=Eb(this);e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_DURATION,{costTime:e.playableStartTime?Date.now()-e.playableStartTime:-1});var t=J_.call(this);e.adProxy.removePlayableView(t).then((t=>{e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PLAYABLE_REMOVE_FAILED,t)}))},iE=function(){var e,t=Eb(this);return null!==(e=t.playableInfo)&&void 0!==e&&e.rewardedTime?t.playableInfo.rewardedTime:t.playableRewardedTime},aE=function(){var e=Eb(this);e.playableInfo=null,e.expandPlayablePendant=!1},nE=function(){var e,t,i=Eb(this),{isAndroid:a,isIOS:n,wechatVersion:o}=A_,r=null!==(e=null===(t=i.playableInfo)||void 0===t?void 0:t.minIOSVersionForMute)&&void 0!==e?e:"";return!!(a||n&&/^\d+\.\d+\.\d+$/.test(r)&&Qo(o,r)>=0)},oE=function(){var e=Eb(this);e.playableExtraVisibility={},e.playablePendantBottom=80,e.playableLoaded=!1,e.playablePredownload=null,e.playablePredownloaded=!1,e.playableInfo=null,e.currentPendantOffset=0,e.playableStartTime=null,e.playableEnded=!1,e.playablePendantSwitched=!1,e.playablePendantSwitching=!1,e.playableRewardedTime=15,e.playableViewId=null,e.playableMuted=!1,aE.call(this)},rE=function(){var e=Eb(this);e.playableLoading.style.hidden=!0,e.playableLoading.style.opacity=1,e.playableEndpage.style.hidden=!0,e.playableEndpage.style.opacity=0,Dm.call(this),e.playablePendantTouchMask.style.zIndex=1e6,e.playablePendantFold.style.zIndex=1e6,e.playablePendantExpand.style.zIndex=1e6,oE.call(this),e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0,e.playablePendantTouchMask.style.hidden=!0,e.playablePendantExpand.style.opacity=0,e.playablePendantFold.style.opacity=0,e.playablePendantTouchMask.style.bottom=e.playablePendantBottom,e.playablePendantExpand.style.bottom=e.playablePendantBottom,e.playablePendantFold.style.bottom=e.playablePendantBottom},sE=function(){var e=Eb(this);e.playableMuted=!e.playableMuted,e.sound.src=e.playableMuted?wb:xb;var t=J_.call(this);e.adProxy.updatePlayableView(r()(r()({},t),{},{mute:e.playableMuted}))},lE=[{op:"insert",id:"innerPendant",parent:"pendantContainer",tpl:{type:"image",id:"innerPendantImage",style:{width:80,height:60},options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wxgame_video_card.pendant_img"},events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",expr:"$scope.private.pendantContainer.style.hidden == $const.true",value:{list:[{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth < $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#sub($const.systemInfo.screenWidth, 92)",bottomExpr:"#rewardedVideoIsExpandStyle() ? #add(12, #multi(1032, #division($const.systemInfo.screenWidth, 960))) : #add(150, #rewardedVideoIsScoreOrRanking() ? 48 : 0)"}},{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#rewardedVideoIsExpandStyle() ? #sub(#sub(#division($const.systemInfo.screenWidth, 2), #division($const.systemInfo.screenHeight, 6)), 92)  : #sub($const.systemInfo.screenWidth, 92)",bottom:20}}]}}],tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{id:924,key:172,extInfo:"pendant-click"}}]}}}}],dE=[{id:"endPageTrigger",op:"insert",parent:"defaultPageContainer",expr:"$const.systemInfo.screenHeight > $const.systemInfo.screenWidth",tpl:{type:"layout",id:"endPageTriggerContainer",options:{baseType:3,events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",delay:3e3,value:{list:[{id:"endPage",op:"insert",parent:"defaultPageContainer",expr:"$const.systemInfo.screenHeight > $const.systemInfo.screenWidth",tpl:{type:"layout",id:"endPageContainer",options:{baseType:3,events:{rewardedVideoShowFlooringPage:[{action:"reportAdMonitorData",expr:"#no($scope.private.pageType)",value:{id:1646,key:32,extInfo:"show-blank"}}]},innerStyles:{container:{style:{flexDirection:"column",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",widthExpr:"$const.systemInfo.screenWidth"}}}},style:{backgroundColor:"#000000",position:"absolute",top:"0px",left:"0px"},children:[{type:"layout",id:"defaultPageBackgroundContainer",style:{position:"absolute",width:"100%",height:"100%",top:"0px"},children:[{type:"image",id:"defaultPageBackgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}}}},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1},style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6},children:[]}]},{type:"layout",id:"contentContainer",options:{baseType:3,data:{_isShowExpr:"#bool($scope.private.data.crtInfo.wegame_info.promotional_pic)"},innerStyles:{container:{style:{height:"439apx",width:"311apx",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}}}},style:{backgroundColor:"#ffffff",borderRadius:"12px",overflow:"hidden"},children:[{type:"image",id:"endCardImg",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wegame_info.promotional_pic"},innerStyles:{img:{style:{height:"175apx",width:"100%"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"promotional",id:1646,key:29}}]}}},{type:"image",id:"endcardIcon",options:{baseType:2,data:{_bubbleEvent:!1},innerStyles:{img:{style:{borderRadius:"28apx",height:"56apx",margin:"28apx 0apx 16apx 0apx",width:"56apx"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"logo",id:1646,key:29}}]}}},{id:"text1",type:"text",options:{baseType:2,data:{_bubbleEvent:!1,maxLen:20},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"title-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.9)",fontSize:"20apx",fontWeight:"500",height:"28apx",lineHeight:"28apx",textAlign:"center",width:"280apx"}}}},style:{margin:"0px 0px 8apx 0px"}},{id:"text2",type:"text",options:{baseType:1,data:{textExpr:"$scope.private.data.crtInfo.wegame_info.brief_intro",_bubbleEvent:!1},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"wording-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.6)",fontSize:"16apx",fontWeight:"normal",height:"28apx",lineHeight:"28apx",overflow:"hidden",textAlign:"center",width:"280apx"}}}}},{id:"button1",type:"button",options:{baseType:2,bubbleEvent:!1,data:{buttonText:"进入小游戏"},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"button",id:1646,key:29}}]},innerStyles:{buttonText:{style:{color:"#ffffff",fontSize:"17apx",fontWeight:500,height:"24apx",width:"184apx"}},container:{style:{backgroundColor:"#07C160",border:"none",borderRadius:"4apx",height:"40apx",width:"184apx",margin:"20apx 0apx 40apx 0apx"}}}}}]},{type:"layout",id:"contentContainer",options:{baseType:3,data:{_isShowExpr:"#no(#bool($scope.private.data.crtInfo.wegame_info.promotional_pic))"},innerStyles:{container:{style:{height:"383apx",width:"311apx",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}}}},style:{backgroundColor:"#ffffff",borderRadius:"12px",overflow:"hidden"},children:[{type:"image",id:"endCardImg",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wegame_info.banner_url"},innerStyles:{img:{style:{height:"119apx",width:"100%"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"banner",id:1646,key:29}}]}}},{type:"image",id:"endcardIcon",options:{baseType:2,data:{_bubbleEvent:!1},innerStyles:{img:{style:{borderRadius:"28apx",height:"56apx",margin:"28apx 0px 16apx 0px",width:"56apx"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"icon",id:1646,key:29}}]}}},{id:"text1",type:"text",options:{baseType:2,data:{_bubbleEvent:!1,maxLen:20},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"title-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.9)",fontSize:"20apx",fontWeight:"500",height:"28apx",lineHeight:"28apx",textAlign:"center",width:"280apx"}}}},style:{margin:"0px 0px 8apx 0px"}},{id:"text2",type:"text",options:{baseType:1,data:{textExpr:"$scope.private.data.crtInfo.wegame_info.brief_intro",_bubbleEvent:!1},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"wording-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.6)",fontSize:"16apx",fontWeight:"normal",height:"28apx",lineHeight:"28apx",overflow:"hidden",textAlign:"center",width:"280apx"}}}}},{id:"button1",type:"button",options:{baseType:2,bubbleEvent:!1,data:{buttonText:"进入小游戏"},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"button",id:1646,key:29}}]},innerStyles:{buttonText:{style:{color:"#ffffff",fontSize:"17apx",fontWeight:500,height:"24apx",width:"184apx"}},container:{style:{backgroundColor:"#07C160",border:"none",borderRadius:"4apx",height:"40apx",width:"184apx",margin:"20apx 0apx 40apx 0apx"}}}}}]}]}}]}}]},innerStyles:{}},style:{},children:[]}},{id:"endPageTrigger",op:"insert",parent:"defaultPageContainer",expr:"$const.systemInfo.screenHeight < $const.systemInfo.screenWidth",tpl:{type:"layout",id:"endPageTriggerContainer",options:{baseType:3,events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",delay:3e3,value:{list:[{id:"endPage",op:"insert",parent:"defaultPageContainer",expr:"$const.systemInfo.screenHeight < $const.systemInfo.screenWidth",tpl:{type:"layout",id:"endPageContainer",options:{baseType:3,events:{rewardedVideoShowFlooringPage:[{action:"reportAdMonitorData",expr:"#no($scope.private.pageType)",value:{id:1646,key:32,extInfo:"show-blank"}}]},innerStyles:{container:{style:{flexDirection:"column",heightExpr:"$const.systemInfo.screenHeight",widthExpr:"$const.systemInfo.screenWidth"}}}},style:{backgroundColor:"#000000",position:"absolute",top:"0px",left:"0px"},children:[{type:"layout",id:"defaultPageBackgroundContainer",style:{position:"absolute",width:"100%",height:"100%",top:"0px"},children:[{type:"image",id:"defaultPageBackgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}}}},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1},style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6},children:[]}]},{type:"layout",id:"contentContainer",options:{baseType:3,innerStyles:{container:{style:{height:"285apx",width:"249apx",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}}},data:{_isShowExpr:"#bool($scope.private.data.crtInfo.wegame_info.promotional_pic)"}},style:{backgroundColor:"#ffffff",borderRadius:"12px",overflow:"hidden"},children:[{type:"image",id:"endCardImg",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wegame_info.promotional_pic"},innerStyles:{img:{style:{height:"141apx",width:"100%"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"promotional",id:1646,key:29}}]}}},{type:"image",id:"endcardIcon",style:{position:"absolute",topExpr:"#sub(#multi(141, #division($const.systemInfo.screenHeight, 375)), 20)",leftExpr:"#sub(#multi(#multi(249, #division($const.systemInfo.screenHeight, 375)), 0.5), 20)"},options:{baseType:2,data:{_bubbleEvent:!1},innerStyles:{img:{style:{borderRadius:"21apx",height:"42apx",margin:"0px 0px 0px 0px",width:"42apx",borderWidth:"2apx",borderColor:"#FFFFFF"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"logo",id:1646,key:29}}]}}},{id:"text1",type:"text",options:{baseType:2,data:{_bubbleEvent:!1,maxLen:20},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"title-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.9)",fontSize:"14apx",fontWeight:"500",height:"20apx",lineHeight:"20apx",textAlign:"center",width:"280apx"}}}},style:{margin:"32apx 0apx 4apx 0px"}},{id:"text2",type:"text",options:{baseType:1,data:{textExpr:"$scope.private.data.crtInfo.wegame_info.brief_intro",_bubbleEvent:!1},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"wording-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.6)",fontSize:"12apx",fontWeight:"normal",height:"17apx",lineHeight:"17apx",overflow:"hidden",textAlign:"center",width:"280apx"}}}}},{id:"button1",type:"button",options:{baseType:2,bubbleEvent:!1,data:{buttonText:"进入小游戏"},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"button",id:1646,key:29}}]},innerStyles:{buttonText:{style:{color:"#ffffff",fontSize:"14apx",fontWeight:500,height:"24apx",width:"184apx"}},container:{style:{backgroundColor:"#07C160",border:"none",borderRadius:"4apx",height:"32apx",width:"153apx",margin:"16apx 0px 28apx 0px"}}}}}]},{type:"layout",id:"contentContainer",options:{data:{_isShowExpr:"#no(#bool($scope.private.data.crtInfo.wegame_info.promotional_pic))"},baseType:3,innerStyles:{container:{style:{height:"285apx",width:"249apx",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}}}},style:{backgroundColor:"#ffffff",borderRadius:"12px",overflow:"hidden"},children:[{type:"image",id:"endCardImg",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wegame_info.banner_url"},innerStyles:{img:{style:{height:"96apx",width:"100%"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"banner",id:1646,key:29}}]}}},{type:"image",id:"endcardIcon",options:{baseType:2,data:{_bubbleEvent:!1},innerStyles:{img:{style:{borderRadius:"20apx",height:"40apx",margin:"20apx 0apx 0apx 0apx",width:"40apx"}}},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"logo",id:1646,key:29}}]}}},{id:"text1",type:"text",options:{baseType:2,data:{_bubbleEvent:!1,maxLen:20},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"title-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.9)",fontSize:"14px",fontWeight:"500",height:"20apx",lineHeight:"20apx",textAlign:"center",width:"280apx"}}}},style:{margin:"12apx 0apx 4apx 0apx"}},{id:"text2",type:"text",options:{baseType:1,data:{textExpr:"$scope.private.data.crtInfo.wegame_info.brief_intro",_bubbleEvent:!1},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"wording-blank",id:1646,key:29}}]},innerStyles:{text:{style:{color:"rgba(0,0,0,.6)",fontSize:"12apx",fontWeight:"normal",height:"17apx",lineHeight:"17apx",overflow:"hidden",textAlign:"center",width:"280apx"}}}}},{id:"button1",type:"button",options:{baseType:2,bubbleEvent:!1,data:{buttonText:"进入小游戏"},events:{tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{extInfo:"button",id:1646,key:29}}]},innerStyles:{buttonText:{style:{color:"#ffffff",fontSize:"14apx",fontWeight:500,height:"24apx",width:"184apx"}},container:{style:{backgroundColor:"#07C160",border:"none",borderRadius:"4apx",height:"32apx",width:"153apx",margin:"16apx 0apx 28apx 0apx"}}}}}]}]}}]}}]},innerStyles:{}},style:{},children:[]}}],cE=[{id:"flipCard",op:"insert",parent:"container",useAdTemplate:!0,tpl:{id:"adRoot",type:"layout",options:{baseType:1,innerStyles:{container:{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",widthExpr:"$const.systemInfo.screenWidth",heightExpr:"$const.systemInfo.screenHeight",position:"relative",top:"0px",left:"0px"}}},lifecycle:{onInit:[{action:Wc.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"flipCard",style:{position:"absolute",widthExpr:"$const.systemInfo.screenWidth",heightExpr:"$const.systemInfo.screenHeight",left:0,top:0,zIndex:1000100,hidden:!0}}]}},{action:Wc.REPORTADMONITORDATA,value:{key:40,id:1646,extInfo:{typeExpr:"#getVar('type')"}}}]},events:{templateWillUpdate:[{action:Wc.BATCHSETEXPRVARS,value:{list:[{key:"isLandscape",valueExpr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight"},{key:"adScale",valueExpr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight ? #division($const.systemInfo.screenHeight, 375) : #division($const.systemInfo.screenWidth, 375)"},{key:"delayTime",value:5},{key:"isCardShowed",valueExpr:"$const.false"},{key:"minVideoTime",value:0},{key:"isVideoPause",value:!1},{key:"skipFrontCard",value:!0},{key:"closeIconSrc",value:"http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62aaf4160001d3c415b80a86fc0c950b0000008d00004eec?m=75b933397a01f0d08302bf2220f2d849&ck=75b933397a01f0d08302bf2220f2d849&sha256=f67d0128ffc12e179a4496a1e678cd0b624881a5be961b343e83593803564efb"},{key:"subtitle",value:"轻触卡片，翻出惊喜好礼"},{key:"isAutoClose",value:!1},{key:"autoCloseTime",value:10},{key:"giftGuideCode",valueExpr:"$ad.extInfo.app_gift_pack_code.code"},{key:"giftGuideDesc",valueExpr:"$ad.extInfo.app_gift_pack_code.description"},{key:"type",valueExpr:"#getVar('giftGuideCode') ? 'game' : 'common'"},{key:"showLogo",value:!0},{key:"defaultMainTitle",value:"惊喜大礼包"},{key:"buttonValue",value:"领取并查看"},{key:"tips",valueExpr:"#concat('具体内容以', $ad.product_type == 46 ? '小游戏' : #scope(#include(#toArray(12, 19), $ad.product_type) ? 'App' : '产品'), '内为准')"},{key:"clickArea",value:"button"},{key:"showToast",value:!0},{key:"toastText",value:"礼包码已复制"},{key:"giftGuideText",value:"礼包兑换码"},{key:"frontCardBgImg",valueExpr:"#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62d676cb0004750515aa1a3492ae970b0000008d00004eec?m=d2c93db8c4e64102b3c52dc9142e84a2&ck=d2c93db8c4e64102b3c52dc9142e84a2&sha256=0ac780d0f07cef973a17219192c0d25e88aacf0d60a421b333ecbf614fb6fada' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cbc9da000cd31b1f2f384202a6970b0000008d00004eec?m=d00419c8689d26b5bf71968292b8de28&ck=d00419c8689d26b5bf71968292b8de28&sha256=42f9a1961bd592345b1f89bdc706e14fdfc640419dbcda2645cc40f403b8467e'"},{key:"cardImg",valueExpr:"#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cbc9e9000be3d81c12ce9aa580970b0000008d00004eec?m=ff1a8b1ee8a522ba53b0ba6c3c71f81d&ck=ff1a8b1ee8a522ba53b0ba6c3c71f81d&sha256=3a97ee7b2c5cea009ff02f7c740586361d9296c0c35e7f2083a4aa4fc1193916' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cbca0a000b90fb1f3463dae0a6970b0000008d00004eec?m=7824629bc5eeddc7ceb2c1d6182ab427&ck=7824629bc5eeddc7ceb2c1d6182ab427&sha256=cdd1b8a39f2425242b9e8f5175209332d2025ada5cd3f7c531e00c1352d7d0b3'"},{key:"subtitleColor",value:"#EA5F36"},{key:"frontCardType",value:"red"},{key:"contentIconImg",valueExpr:"#getVar('type') === 'common' ? #scope(#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf88b60001107812209a88aea0970b0000008d00004eec?m=bfacd403fffff6f793132b097089a69b&ck=bfacd403fffff6f793132b097089a69b&sha256=1e0ba1840523ecb9d373363d5ae807bb8ec1823f041c752ea8870b0ee45d5ffe' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf888b000038e30224135f46b5970b0000008d00004eec?m=bd29ca0f1f2f38949f5766ec4fb96db7&ck=bd29ca0f1f2f38949f5766ec4fb96db7&sha256=dd0dcd77ee7988508fd73584ffd38e7a5bd48b2141898b2343db39d687edb29d') ? #scope(#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf88b4000a4d5f223a4e61ccb6970b0000008d00004eec?m=176d0b6d142709e2eae5caf4cb525eb8&ck=176d0b6d142709e2eae5caf4cb525eb8&sha256=0b1385df745f8c3f3d257f52674c0fc87c42db844bf98291147ce55d3fab0ea3' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf887d00068d15023e57e743b3970b0000008d00004eec?m=0db9172c98c036c487f23818e9b3b0fb&ck=0db9172c98c036c487f23818e9b3b0fb&sha256=7009a496da725bd455f844be966937e5fe8c0f46967c4c02162c6cf3e688f275')"},{key:"buttonBackgroundColor",value:"#09D76B"},{key:"buttonTextColor",value:"#FFFFFF"},{key:"mainTitleFromAd",valueExpr:"#hansLen($ad.crtInfo.0.wxgame_video_card.title) > 10 ? #getVar('defaultMainTitle') : #concat($ad.crtInfo.0.wxgame_video_card.title, '礼包')"},{key:"animateOffsetHeight",valueExpr:"#division(#add(#add($const.systemInfo.screenHeight, #multi(#getVar('adScale'), 160)), #scope(#getVar('isLandscape') ? #multi(#getVar('adScale'), 296) : #multi(#getVar('adScale'), 400))), 2)"},{key:"isClickClose",valueExpr:"$const.false"},{key:"autoClosed",valueExpr:"$const.false"},{key:"buttonBorderRadius",value:"8px"},{key:"isCopyWithClick",value:!0},{key:"videoPauseType",value:"all"},{key:"frontCardType",value:"red"},{key:"currentCard",valueExpr:"#getVar('skipFrontCard') ? 'back' : 'front'"}]}}],hostMessage:[{action:Wc.TRIGGERCOMPONENTEVENT,expr:"$args.message === 'rewardedVideoTimeUpdate' && $args.args.event.position >= #getVar('delayTime')&& $args.args.event.duration >= #getVar('minVideoTime') && #no(#getVar('isCardShowed'))",value:{eventName:"prepareCard"}}],slideIn:[{action:Wc.ANIMATE,targetid:"layoutAnimate",value:{animation:"slideIn"}},{action:Wc.ANIMATE,targetid:"mask",value:{animation:"showMask"}}],slideOut:[{action:Wc.ANIMATE,targetid:"layoutAnimate",expr:"#no($args.isClick)",value:{animation:"slideOut"}},{action:Wc.ANIMATE,targetid:"layoutAnimate",expr:"$args.isClick",value:{animation:"fadeOut"}},{action:Wc.ANIMATE,targetid:"mask",value:{animation:"hideMask"}}],showCard:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",value:{eventName:"slideIn"}},{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"frontCardTips",expr:"#getVar('isAutoClose') && #no(#getVar('skipFrontCard'))",value:{eventName:"countDown"}},{action:Wc.EMITCUSTOMMESSAGE,expr:"#getVar('isVideoPause') && #scope(#scope(#getVar('videoPauseType') === 'all') || #scope(#getVar('videoPauseType') === 'front'))",value:{message:"operateRewardedVideo",args:{operation:"pause"}}}],prepareCard:[{action:Wc.SETEXPRVARS,delay:1,value:{key:"isCardShowed",valueExpr:"$const.true"}},{action:Wc.TRIGGERCOMPONENTEVENT,delay:200,value:{eventName:"showCard"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:41,extInfo:{typeExpr:"#getVar('type')",currentCardExpr:"#getVar('currentCard')"}}},{action:Wc.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"flipCard",style:{hidden:!1}}]}}],finishCard:[{action:Wc.SETEXPRVARS,value:{key:"autoCloseTime",valueExpr:"#sub(0, 1)"}},{action:Wc.EMITCUSTOMMESSAGE,expr:"#getVar('isVideoPause')",value:{message:"operateRewardedVideo",args:{operation:"play"}}}],exitCard:[{action:Wc.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"flipCard",style:{hidden:!0}}]}}],click:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",value:{eventName:"slideOut",args:{isClick:!0}}},{action:Wc.EMITCUSTOMMESSAGE,expr:"#getVar('type') === 'game' && #getVar('isCopyWithClick')",value:{message:"setClipboardData",args:{dataExpr:"#getVar('giftGuideCode')"}}},{action:Wc.ANIMATE,targetid:"toast",expr:"#getVar('type') === 'game' && #getVar('showToast')",value:{animation:"showToast"}}]},animations:{appear:{keys:[{offset:0,opacity:0},{offset:1,opacity:1}],duration:300},disappear:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:300}}},children:[{id:"mask",type:"layout",options:{baseType:1,innerStyles:{container:{style:{top:"0px",left:"0px",width:"100%",height:"100%",background:"#000",opacity:0,position:"absolute",overflow:"hidden"}}},animations:{showMask:{keys:[{offset:0,opacity:0},{offset:1,opacity:.5}],duration:400,easing:"ease-out"},hideMask:{keys:[{offset:0,opacity:.5},{offset:1,opacity:0}],duration:400,easing:"ease-out"}}},children:[]},{id:"toast",type:"layout",options:{baseType:3,innerStyles:{container:{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",opacity:0,position:"absolute",top:"0px",left:"0px"}}},events:{animationend:[{action:Wc.ANIMATE,targetid:"toast",delay:1e3,expr:"$args.animation === 'showToast'",value:{animation:"hideToast"}},{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"$args.animation === 'hideToast'",value:{eventName:"exitCard"}}]},animations:{showToast:{keys:[{offset:0,opacity:0},{offset:1,opacity:1}],duration:300,easing:"ease-out"},hideToast:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:300,easing:"ease-out"}}},children:[{id:"toastInner",type:"layout",options:{baseType:3,innerStyles:{container:{style:{width:"144px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",position:"static",background:"rgba(76, 76, 76, 1)",borderRadius:"12px",paddingTop:"24px",paddingBottom:"24px",opacity:1}}}},children:[{id:"toastText",type:"text",options:{baseType:1,data:{textExpr:"#getVar('toastText')"},innerStyles:{text:{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.9)",lineBreak:"break-all",fontSize:"14px",lineHeight:"19px",height:"19px",width:"120px"}}},events:{animationend:[{action:Wc.ANIMATE,delay:2e3,expr:"$args.animation === 'showAnimate'",value:{animation:"hideToast"}}]}}}]}]},{id:"layoutAnimate",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{position:"absolute",opacity:0,display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column",topExpr:"#getVar('animateOffsetHeight')",left:"0px"}}},events:{tap:[{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCardExpr:"#getVar('currentCard')",clickPos:"mask",clickAreaExpr:"#getVar('clickArea')"}}}],animationend:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#scope($args.animation === 'slideOut') || #scope($args.animation === 'fadeOut')",value:{eventName:"finishCard"}},{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#scope(#scope($args.animation === 'slideOut') || #scope($args.animation === 'fadeOut')) && #scope(#getVar('isClickClose') || #getVar('autoClosed') || #scope(#getVar('type') === 'common') || #no(#getVar('showToast')))",value:{eventName:"exitCard"}}]},animations:{slideIn:{keys:[{offset:0,opacity:0,topExpr:"#getVar('animateOffsetHeight')"},{offset:1,opacity:1,top:0}],duration:400,easing:"ease-out"},slideOut:{keys:[{offset:0,opacity:1,top:0},{offset:1,opacity:0,topExpr:"#getVar('animateOffsetHeight')"}],duration:400,easing:"ease-out"},fadeOut:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:200,easing:"ease-out"}}},children:[{id:"cardContainer",type:"layout",options:{baseType:3,innerStyles:{container:{style:{display:"flex",flexDirection:"column",position:"relative",opacity:1}}}},children:[{id:"card",type:"layout",options:{baseType:3,innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '260apx' : '311apx'",heightExpr:"#getVar('isLandscape') ? '254apx' : '340apx'",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexWrap:"nowrap",borderRadiusExpr:"#getVar('isLandscape') ? '16apx' : '24apx'"}}}},children:[{id:"backCard",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",background:"rgba(255, 255, 255, 1)",display:"flex",top:"0px",left:"0px",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}}},events:{tap:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"back",clickPos:"backCard",clickAreaExpr:"#getVar('clickArea')"}}},{action:Wc.LANDAD,expr:"#scope(#getVar('type') === 'common' || #no(#getVar('showToast'))) && #getVar('clickArea') === 'all'"},{action:Wc.LANDAD,delay:1500,expr:"#getVar('type') === 'game' && #getVar('showToast') && #getVar('clickArea') === 'all'"}]}},children:[{id:"pretitle",type:"text",options:{baseType:1,data:{text:"- 惊喜礼包 -"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '20apx' : '32apx'"}},text:{style:{textAlign:"center",color:"rgba(36, 36, 36, 0.6)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '10apx' : '12apx'",heightExpr:"'20apx'",lineHeightExpr:"'20apx'",width:"100%",fontWeight:500}}}}},{id:"mainTitle",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideDesc') ? #getVar('giftGuideDesc') : #getVar('mainTitleFromAd')"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '8apx' : '12apx'"}},text:{style:{textAlign:"center",color:"rgba(36, 36, 36, 0.9)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '16apx' : '18apx'",heightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",lineHeightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",width:"100%",fontWeight:600}}}}},{id:"commonIconGroup",type:"layout",options:{baseType:3,bubbleEvent:!1,data:{_isShowExpr:"#getVar('type') === 'common'"},innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '178apx' : '240apx'",heightExpr:"#getVar('isLandscape') ? '90apx' : '110apx'",marginTopExpr:"#getVar('isLandscape') ? '14apx' : '16apx'",position:"relative",top:"0px",left:"0px"}}},events:{tap:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"back",clickPos:"contentImage",clickAreaExpr:"#getVar('clickArea')"}}}]}},children:[{id:"commonContentIcon",type:"image",options:{baseType:1,data:{imgUrlExpr:"#getVar('contentIconImg')"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{width:"100%",height:"100%"}}}}},{id:"commonAdIcon",type:"image",options:{baseType:2,data:{_isShowExpr:"#getVar('showLogo')"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{position:"absolute",bottomExpr:"#getVar('isLandscape') ? '14apx' : '14apx'",leftExpr:"#getVar('isLandscape') ? '74apx' : '100apx'",borderRadiusExpr:"'10apx'",overflow:"hidden",widthExpr:"#getVar('isLandscape') ? '29apx' : '40apx'",heightExpr:"#getVar('isLandscape') ? '29apx' : '40apx'"}}}}}]},{id:"giftIconGroup",type:"layout",options:{baseType:3,bubbleEvent:!1,data:{_isShowExpr:"#getVar('type') === 'game'"},innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '178apx' : '240apx'",position:"relative",top:"0px",left:"0px",heightExpr:"#getVar('isLandscape') ? '90apx' : '110apx'",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTopExpr:"#getVar('isLandscape') ? '8apx' : '16apx'"}}},events:{tap:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"back",clickPos:"contentImage",clickAreaExpr:"#getVar('clickArea')"}}}]}},children:[{id:"giftContentIcon",type:"image",options:{baseType:1,data:{imgUrlExpr:"#getVar('contentIconImg')"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",display:"flex"}}}}},{id:"giftContentGroup",type:"layout",options:{baseType:3,innerStyles:{container:{style:{position:"absolute",widthExpr:"#getVar('isLandscape') ? '93apx' : '130apx'",heightExpr:"#getVar('isLandscape') ? '64apx' : '90apx'",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",topExpr:"#getVar('isLandscape') ? '13apx' : '10apx'",leftExpr:"#getVar('isLandscape') ? '43apx' : '55apx'"}}}},children:[{id:"giftAdIcon",type:"image",options:{baseType:2,data:{_isShowExpr:"#getVar('showLogo')"},innerStyles:{img:{style:{height:"100%",width:"100%"}},container:{style:{borderRadius:"8px",overflow:"hidden",position:"absolute",topExpr:"#getVar('isLandscape') ? '6apx' : '10apx'",leftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'",widthExpr:"#getVar('isLandscape') ? '24apx' : '32apx'",heightExpr:"#getVar('isLandscape') ? '24apx' : '32apx'",display:"flex"}}}}},{id:"giftGuideText",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideText')",maxLen:10},innerStyles:{container:{style:{position:"static",widthExpr:"'110apx'",marginTopExpr:"#getVar('isLandscape') ? '34apx' : '47apx'",marginLeftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'"}},text:{style:{textAlign:"left",color:"rgba(255, 255, 255, 1)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '8apx' : '10apx'",heightExpr:"#getVar('isLandscape') ? '11apx' : '17apx'",lineHeightExpr:"#getVar('isLandscape') ? '11apx' : '17apx'",width:"100%",fontWeight:600}}}}},{id:"giftGuideCode",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideCode')",maxLen:5},innerStyles:{container:{style:{widthExpr:"'110apx'",heightExpr:"'20apx'",marginTopExpr:"#getVar('isLandscape') ? '0px' : '1apx'",marginLeftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'"}},text:{style:{textAlign:"left",color:"rgba(255, 255, 255, 1)",lineBreak:"ellipsis",fontSizeExpr:"#getVar('isLandscape') ? '11apx' : '16apx'",lineHeightExpr:"#getVar('isLandscape') ? '15apx' : '20apx'",width:"100%",heightExpr:"#getVar('isLandscape') ? '15apx' : '20apx'",textOverflow:"ellipsis",fontWeight:600}}}}}]}]},{id:"button",type:"text",options:{baseType:1,bubbleEvent:!1,data:{textExpr:"#getVar('buttonValue')"},innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '140apx' : '184apx'",heightExpr:"#getVar('isLandscape') ? '36apx' : '44apx'",backgroundExpr:"#getVar('buttonBackgroundColor')",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginTopExpr:"#getVar('isLandscape') ? '15apx' : '24apx'",borderRadiusExpr:"#getVar('buttonBorderRadius')"}},text:{style:{textAlign:"center",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '14apx' : '17apx'",heightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",lineHeightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",colorExpr:"#getVar('buttonTextColor')",width:"100%",fontWeight:600}}},events:{tap:[{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"",value:{eventName:"click"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"back",clickPos:"button",clickAreaExpr:"#getVar('clickArea')"}}},{action:Wc.LANDAD,expr:"#getVar('type') === 'common' || #no(#getVar('showToast'))"},{action:Wc.LANDAD,delay:1500,expr:"#getVar('type') === 'game' && #getVar('showToast')"}]}}},{id:"tips",type:"text",options:{baseType:1,data:{textExpr:"#getVar('tips')"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '8apx' : '12apx'"}},text:{style:{textAlign:"center",color:"rgba(0, 0, 0, 0.2)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '9apx' : '10apx'",heightExpr:"#getVar('isLandscape') ? '12apx' : '12apx'",lineHeightExpr:"#getVar('isLandscape') ? '12apx' : '12apx'",width:"100%"}}}}}]},{id:"frontCard",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{width:"100%",height:"100%",display:"flex",opacity:1,background:""}}},lifecycle:{onInit:[{action:Wc.SETSTYLE,expr:"#getVar('skipFrontCard')",value:{style:{display:"none"},id:"container"}}]},events:{tap:[{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"front",clickPos:"frontCard",clickAreaExpr:"#getVar('clickArea')"}}}]}},children:[{id:"frontCardBg",type:"image",options:{baseType:1,data:{imgUrlExpr:"#getVar('frontCardBgImg')"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflow:"hidden",flexWrap:"nowrap",position:"absolute",top:"0px",left:"0px"}}}}},{id:"frontCardContent",type:"layout",options:{baseType:3,innerStyles:{container:{style:{display:"flex",position:"absolute",width:"100%",height:"100%",flexWrap:"nowrap",flexDirection:"column",justifyContent:"flex-start",top:"0px",left:"0px"}}}},children:[{id:"layoutSubtitle",type:"layout",options:{baseType:3,innerStyles:{container:{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",paddingTopExpr:"#getVar('isLandscape') ? '44apx' : '68apx'"}}}},children:[{id:"subtitle",type:"text",options:{baseType:1,data:{textExpr:"#getVar('subtitle')"},innerStyles:{container:{style:{marginLeftExpr:"'24apx'"}},text:{style:{textAlign:"left",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '10apx' : '12apx'",heightExpr:"'17apx'",lineHeightExpr:"'17apx'",textAlignMultiline:"center",colorExpr:"#getVar('subtitleColor')",width:"100%"}}}}}]},{id:"cardImage",type:"image",options:{baseType:1,bubbleEvent:!1,data:{imgUrlExpr:"#getVar('cardImg')"},innerStyles:{img:{style:{width:"100%",heightExpr:"#getVar('isLandscape') ? #scope(#getVar('frontCardType') === 'red' ? '100%' : '79apx') : #scope(#getVar('frontCardType') === 'red' ? '100%' : '100apx')"}},container:{style:{marginTopExpr:"#getVar('isLandscape') ? '52apx' : '72apx'",widthExpr:"#getVar('isLandscape') ? '213apx' : '264apx'",heightExpr:"#getVar('isLandscape') ? '101apx' : '128apx'",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}},events:{tap:[{action:Wc.SETSTYLE,targetid:"frontCard",value:{id:"container",style:{display:"none"}}},{action:Wc.SETEXPRVARS,expr:"",value:{key:"isAutoClose",valueExpr:"$const.false"}},{action:Wc.SETEXPRVARS,expr:"",value:{key:"currentCard",value:"back"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:43,extInfo:{typeExpr:"#getVar('type')",currentCard:"front",clickPos:"clipImage",clickAreaExpr:"#getVar('clickArea')"}}},{action:Wc.EMITCUSTOMMESSAGE,expr:"#getVar('isVideoPause') && #getVar('videoPauseType') === 'front'",value:{message:"operateRewardedVideo",args:{operation:"play"}}},{action:Wc.EMITCUSTOMMESSAGE,expr:"#getVar('isVideoPause') && #getVar('videoPauseType') === 'back'",value:{message:"operateRewardedVideo",args:{operation:"pause"}}}]}}},{id:"frontCardTips",type:"text",options:{baseType:1,data:{textExpr:"#concat(#getVar('autoCloseTime'), ' 秒后自动关闭')",_isShowExpr:"#getVar('isAutoClose')"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '10apx' : '13apx'"}},text:{style:{textAlign:"center",color:"rgba(0, 0, 0, 0.2)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '10apx' : '12apx'",heightExpr:"#getVar('isLandscape') ? '14apx' : '18apx'",lineHeightExpr:"#getVar('isLandscape') ? '14apx' : '18apx'",width:"100%"}}},events:{countDown:[{action:Wc.TEXTSETTEXT,expr:"#getVar('autoCloseTime') > 0 && #getVar('isAutoClose')",value:{textExpr:"#concat(#getVar('autoCloseTime'), ' 秒后自动关闭')"}},{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",expr:"#getVar('autoCloseTime') === 0",value:{eventName:"slideOut"}},{action:Wc.SETEXPRVARS,expr:"#getVar('autoCloseTime') === 0 && #getVar('isAutoClose')",value:{key:"autoClosed",valueExpr:"$const.true"}},{action:Wc.REPORTADMONITORDATA,expr:"#getVar('autoCloseTime') === 0 && #getVar('isAutoClose')",value:{key:42,id:1646,extInfo:{type:"auto",currentCardExpr:"#getVar('currentCard')"}}},{action:Wc.SETEXPRVARS,expr:"#getVar('autoCloseTime') >= 0 && #getVar('isAutoClose')",value:{key:"autoCloseTime",valueExpr:"#sub(#getVar('autoCloseTime'), 1)"}},{action:Wc.TRIGGERCOMPONENTEVENT,delay:1e3,expr:"#getVar('autoCloseTime') >= 0 && #getVar('isAutoClose')",value:{eventName:"countDown"}}]}}}]}]}]},{id:"layoutClose",type:"layout",options:{baseType:3,innerStyles:{container:{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}},children:[{id:"closeIcon",type:"image",options:{baseType:1,bubbleEvent:!1,data:{imgUrlExpr:"#getVar('closeIconSrc')"},innerStyles:{img:{style:{widthExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",heightExpr:"#getVar('isLandscape') ? '28apx' : '39apx'"}},container:{style:{position:"relative",widthExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",heightExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",marginTopExpr:"#getVar('isLandscape') ? '12apx' : '24apx'"}}},events:{tap:[{action:Wc.SETEXPRVARS,value:{key:"isClickClose",valueExpr:"$const.true"}},{action:Wc.TRIGGERCOMPONENTEVENT,targetid:"adRoot",value:{eventName:"slideOut"}},{action:Wc.REPORTADMONITORDATA,value:{id:1646,key:42,extInfo:{type:"manual",currentCardExpr:"#getVar('currentCard')"}}}]}}}]}]}]}]}}],{onNativeEvent:uE,offNativeEvent:hE}=y;class pE{constructor({offsetLimitation:e}={offsetLimitation:30}){this.emitter=new _f,this.offsetLimitation=void 0,this.startPoint=null,this.handleTouchStart=e=>{this.handleTouchStartForSlide(e)},this.handleTouchEnd=e=>{this.handleTouchEndForSlide(e)},this.match=e=>Math.abs(e)>=this.offsetLimitation,this.isLessThan=(e,t)=>Math.abs(e)<Math.abs(t),this.handleTouchMoveForDrag=e=>t=>{if(this.startPoint){var{startPoint:i}=this,a=null==t?void 0:t[0];i&&a&&e.call(null,{offsetX:a.x,offsetY:a.y,relativeX:a.x-i.x,relativeY:a.y-i.y,startPoint:i})}},this.handleTouchEndForDrag=e=>t=>{if(this.startPoint){var{startPoint:i}=this;i&&t&&e.call(null,{offsetX:t.x,offsetY:t.y,relativeX:t.x-i.x,relativeY:t.y-i.y,startPoint:i})}},this.dragHandler=new Map,this.offsetLimitation=e,uE("onTouchStart",this.handleTouchStart),uE("onTouchEnd",this.handleTouchEnd)}handleTouchStartForSlide(e){this.startPoint=e.touch||e.touches||null}handleTouchEndForSlide(e){var t=e.touch||e.touches||null,{startPoint:i}=this;if(i&&t){var a=t.x-i.x,n=t.y-i.y,o=null;this.match(a)&&this.isLessThan(n,a)?o=a>0?"right":"left":this.match(n)&&this.isLessThan(a,n)&&(o=n>0?"down":"up"),o&&this.emitter.emit(o,{direction:o,offsetX:a,offsetY:n,startPoint:i,endPoint:t})}this.startPoint=null}onSlide(e,t){if("function"==typeof e)for(var i of["up","down","left","right"])this.emitter.on(i,e);else this.emitter.on(e,t)}offSlide(e,t){if("function"==typeof e)for(var i of["up","down","left","right"])this.emitter.off(i,e);else this.emitter.off(e,t)}destroy(){hE(this.handleTouchStart),hE(this.handleTouchEnd)}onDrag(e,t){this.offDrag(e);var i=this.handleTouchMoveForDrag(t);this.dragHandler.set(`drag-${e.id}`,i),e.on("touchmove",i)}onDragEnd(e,t){this.offDragEnd(e);var i=this.handleTouchEndForDrag(t);this.dragHandler.set(`dragend-${e.id}`,i),e.on("touchend",i)}offDrag(e){var t=this.dragHandler.get(`drag-${e.id}`);this.dragHandler.delete(`drag-${e.id}`),t&&e.off("touchmove",t)}offDragEnd(e){var t=this.dragHandler.get(`dragend-${e.id}`);this.dragHandler.delete(`dragend-${e.id}`),t&&e.off("touchend",t)}}var fE,{deviceInfo:gE}=y,mE=2e3,yE=function(){var e=Eb(this);e.adFeedback.on("click",vE.bind(this)),e.adFeedbackBtn.on("click",_E.bind(this)),e.adDislikeBtn.on("click",EE.bind(this)),e.adQualityBtn.on("click",bE.bind(this)),e.adDuplicateBtn.on("click",xE.bind(this)),e.adDismatchBtn.on("click",wE.bind(this))},vE=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(t.adFeedbackList.style.hidden&&t.adFeedbackMenu.style.hidden?t.adFeedbackList.style.hidden=!1:(t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!0),t.adFeedbackList.style.hidden||TE.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))}},_E=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(t.adProxy.openFeedbackUrl(gE.isWaGame?1003:1005),t.adFeedbackList.style.hidden=!0,TE.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}))}},EE=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(TE.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}),t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!1)}},bE=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,TE.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),t.dialogCloseTip.style.hidden=!1,M(mE).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},xE=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,TE.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),t.dialogCloseTip.style.hidden=!1,M(mE).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},wE=function(e){if(!ex.call(this)){var t=Eb(this);Gm.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,TE.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),t.dialogCloseTip.style.hidden=!1,M(mE).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},TE=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){if(!ex.call(this)){var o=Eb(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:gE.screenWidth,adHeight:gE.screenHeight,adPosX:0,adPosY:0,expTime:o.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},CE=function(e){var t=Eb(this),i={adWidth:gE.screenWidth,adHeight:gE.screenHeight,adPosX:0,adPosY:0},a={dismatch:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1},quality:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4},duplicate:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}};if(Array.isArray(e))for(var{type:n,expTime:o,isClickAd:s,clickAdTimeMs:l,feedbackTimeMs:d}of e)if("good"!==n){var c=a[n]||{};t.adProxy.reportAdFeedbackData(r()(r()(r()({},i),c),{},{expTime:o||0,isClickAd:s,clickAdTimeMs:l||0,secondGradeTime:d||0}))}},{deviceInfo:AE}=y,DE=function(e){if(ex.call(this))return Promise.reject({errMsg:Nb});var t=Eb(this);return ty.call(this)||(t.container.style.top=AE.screenHeight,t.topBar.style.hidden=!0,t.dialogClose.value="放弃",t.dialogCancel.value="继续",Pv.call(this).style.hidden=!1,t.showDialogContainer=!1),1===e?Yb.call(this):Promise.all([Fb.call(this),Yb.call(this,e)])},IE=function(){if(!ex.call(this)){var e=Eb(this);if(e.rewardPageCostTime>=15e3)e.isEnded=!0,e.isRewarded=!0,qb.call(this),Lm.call(this,{button:4});else{e.showDialogContainer=!0,e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续浏览页面",e.adProxy.setRightButtonHide(!0).catch((()=>{}))}}},SE=function(e=!1){var t=Eb(this);t.isRewarded||e&&(t.countDown.style.hidden=!0,t.sound.style.hidden=!0,t.splitLine.style.hidden=!0,t.countDownAppend.value="已获得奖励",t.countDownAppend.style.width=72,t.isRewarded=!0,Oy.call(this,kt))},kE=function(e){var t=Eb(this),i=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:AE.screenWidth,height:AE.screenHeight,weappExtraData:r()({},t.adWelfareData||{})});"showed"===e?t.isShowedExposureReported=!0:"viewable"===e&&(t.isViewableExposureReported=!0),bb(i,"激励浏览","原始曝光")},PE=(e,t)=>{var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var n of i)if("render"!==n){if("children"!==n&&e[n]!==t[n]){if("object"==typeof e[n]&&"object"==typeof t[n]&&PE(e[n],t[n]))continue;return!1}if("children"===n&&("string"==typeof e[n]||"string"==typeof t[n]))return e[n]===t[n]}else if(!e[n]!=!t[n])return!1;return!0},{View:RE,Text:OE,Image:NE,Video:LE}=y,ME={view:"view",div:"view",span:"view",text:"text",image:"image",img:"image",video:"video"},BE={view:RE,text:OE,image:NE,video:LE},VE={text:["value"],image:["src"],view:[],video:["src","poster","referrerPolicy","referrer","initialTime","playbackRate","live","objectFit","controls","showProgress","showProgressInControlMode","autoplay","muted","loop","enableProgressGesture","enablePlayGesture","showCenterPlayBtn","autoInsert","scene","preLoad","obeyMuteSwitch","underGameView","playerHint","autoPauseIfOpenNative","autoPauseIfNavigate"],common:["autoInsert","eventType","bubbleEvent","clickState"]},WE={eventType:"touch",clickState:!1,bubbleEvent:!1,autoInsert:!1},FE=["click","touchstart","touchmove","touchend"],HE=e=>[...VE[e]||[],...VE.common],UE=e=>{var t=[];for(var i of Object.keys(e))e[i]&&0===i.indexOf("on")&&t.push(i);return t},GE=(e,t)=>{var i=ME[e]||"view",a=BE[i],n=ve(r()(r()({},WE),t),HE(i));t.id&&(n.name=t.id),t.style&&(n.style=t.style);var o=new a(n);for(var s of(o._sourceHandlers=new Map,o._handlers=new Map,o._type=i,o._isTemplate=!0,o.dataset={},UE(t))){var l,d=s[2].toLowerCase()+s.slice(3);if(d in un){if("video"===i)null===(l=o[s])||void 0===l||l.call(o,t[s])}else o._handlers.set(d,t[s])}for(var c of FE){var u=zE(o,c);o._sourceHandlers.has(c)||(o._sourceHandlers.set(c,u),o.on(c,u))}for(var h of(t.uniqueId&&(o.adId=t.uniqueId),o._manualStyle=t.style,Object.keys(t)))if(0===h.indexOf("data-")){var p=V(h.slice(5));o.dataset[p]=t[h]}return o},zE=function(e,t){return i=>{for(var a=!1,n=r()(r()({},i),{},{target:e,currentTarget:e,stopPropagation:()=>{a=!0}}),o=e;!a&&o&&o!==Eo;){var s=o._handlers.get(t);null==s||s.call(e,n),o=o.parent}}},jE=(e,t)=>{var i=!1;for(var a of Object.keys(t))t[a]!==e[a]&&(e[a]=t[a],i=!0);return i},$E=e=>{for(var[t,i]of(e._handlers.clear(),e._sourceHandlers))e.off(t,i);e._sourceHandlers.clear()},YE={createInstance:(e,t)=>GE(e,t),createTextInstance:e=>GE("text",{value:e}),appendInitialChild(e,t){e.add(t)},finalizeInitialChildren:(e,t,i,a)=>(e._rootContainer=a,!0),prepareUpdate:(e,t,i,a)=>!PE(i,a),appendChild(e,t){e.add(t),qE(e)},appendChildToContainer(e,t){e.add(t),qE(e)},insertBefore(e,t,i){e.add(t),qE(e)},insertInContainerBefore(e,t,i){e.add(t),qE(e)},removeChild(e,t){e.remove(t),$E(t),qE(e)},removeChildFromContainer(e,t){e.remove(t),$E(t),qE(e)},resetTextContent(e){e.value=""},commitTextUpdate(e,t,i){e.value=i},commitMount(e){},commitUpdate(e,t,i,a,n){((e,t,i)=>{var a=ve(r()(r()({},WE),i),HE(e._type)),n=ve(r()(r()({},WE),t),HE(e._type)),o=i.style,s=t.style,l=UE(i),d=UE(t),c=!1;for(var u of Object.keys(s))u in o||(o[u]=null);var h=jE(e.style,o);for(var p of(c||(c=h),e._manualStyle=o,Object.keys(n)))p in a||(e[p]=null);for(var f of(h=jE(e,a),c||(c=h),d)){var g,m=f[2].toLowerCase()+f.slice(3);l.includes(f)||(m in un?"video"===e._type&&(null===(g=e[f.replace(/^on/,"off")])||void 0===g||g.call(e,t[f])):e._handlers.delete(f))}for(var y of l){var v;y[2].toLowerCase()+y.slice(3)in un?"video"===e._type&&(null===(v=e[y])||void 0===v||v.call(e,i[y]),c=!0):(e._handlers.has(y)&&e._handlers.delete(y),e._handlers.set(y,i[y]),c=!0)}o.fontSize===s.fontSize&&a.value===n.value||(e._hasEllipsis=!1),c&&qE(e)})(e,a,n)},hideInstance(e){e.style.hidden=!0},hideTextInstance(e){e.style.hidden=!0},unhideInstance(e){e.style.hidden=!1},unhideTextInstance(e){e.style.hidden=!1},clearContainer(e){Object.keys(e.children).forEach((t=>{var i=e.children[t];e.remove(i)}))}},qE=(()=>{var e=new Set,t=null;return i=>{e.add(i),t&&clearTimeout(t),t=setTimeout((()=>{var t=[];for(var i of e){for(var a=i.parent,n=!0;a;)e.has(a)&&(n=!1),a=a.parent;n&&t.push(i)}for(var o of t)oo(o);e.clear()}),0)}})(),{_onShow:XE,_onHide:KE,_offShow:JE,_offHide:ZE,onBeforeHide:QE,offBeforeHide:eb,onAppRouteDone:tb,onWindowResize:ib,pauseAllAudio:ab,_showModal:nb,reportCanvasData:ob,ReportCanvasDataEventType:rb,checkAndUseAdSkipCard:sb,touch:lb,deviceInfo:db,getDeviceOrientation:cb,webviewLayout:ub,Component:hb,getPrivateThis:pb,removePrivateThis:fb,onMethod:gb,publish:mb,gametext:yb,getGameTouchStatus:vb}=y,_b=Yi.rewardedVideoAd,Eb=e=>pb(e),bb=(...e)=>{},xb="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",wb="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",Tb="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJAic1IGjzG9g458d7DpIe8URUq74t0dicbwKKc69rPBf8hiby1llOBTndbKUq2NTA9YaA/0?wx_fmt=png",Cb=!1,Ab="portrait",Db=0,Ib=0,Sb=0,kb=0,Pb=0,Rb=0,Ob=0;D.onReady((()=>{try{D.global.window.pageOrientation&&(Ab=D.global.window.pageOrientation)}catch(e){}if(db.isIOS?Cb=!0===D.showStatusBar:db.isAndroid&&(Cb=!0===D.showStatusBar||"true"===D.showStatusBar),db.isWaGame){var e=vb();Db=e.gameTouchStartPosX,Ib=e.gameTouchStartPosY,Sb=e.gameTouchEndPosX,kb=e.gameTouchEndPosY,Ob=e.gameTouchInterval,Pb=e.gameTouchStartTime,Rb=e.gameTouchEndTime,lb.onTouchStart((e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(Db=Math.round(e.changedTouches[0].clientX),Ib=Math.round(e.changedTouches[0].clientY),Sb=0,kb=0,Ob=0,Pb=+new Date)})),lb.onTouchEnd((e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(Sb=Math.round(e.changedTouches[0].clientX),kb=Math.round(e.changedTouches[0].clientY),Ob=+new Date-Pb,Rb=+new Date)}))}}));var Nb="video-ad has been destroyed";class Lb extends hb{constructor({adUnitId:t,multiton:i=!1,pluginId:a="",requestType:n=null}){super(),this._destroyed=void 0;var o=Eb(this);o.emitter=new _f,o.touchWatcher=new pE,o.androidAppState=0,o.androidDownloadId=0,o.adUnitId=t,o.adType="rewardedVideoAd",o.adProxy=new Dp({adUnitId:t,adType:"rewardedVideoAd",pluginAppid:a}),o.adCover=new nm({adUnitId:t,adType:"rewardedVideoAd"}),o.adRequestType=n,o.adWelfareData={},o.adTemplate=new mp({hostConfig:YE,hostContext:{onAppEnterForeground:XE,offAppEnterForeground:JE,onAppEnterBackground:KE,offAppEnterBackground:ZE,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:En(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),M(t.duration)]),getTextWidth:(e,t)=>yb.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}),o.adTemplateRef=null,o.isShowedExposureReported=!1,o.isViewableExposureReported=!1,o.isCardExposureReported=!1,o.isUseAnimationPage=!1,o.isAnimationPageReportedVideoEnd=!1,o.dynamicElems=null,o.dynamicOldStyle=null,o.dynamicEmitter=null,o.handleAdTemplateEvent=By.bind(this),o.rewardPageCostTime=0,o.rewardPageTimer=null,o.rewardPageLanding=!1,o.showDialogContainer=!1,o.isData=!1,o.isFirstPlay=!1,o.isFirstPlaySuccess=!1,o.isPlaying=!1,o.isVideoCalledPlay=!1,o.isRewarded=!1,o.isEnded=!1,o.isPause=!1,o.currentTime=0,o.cardShowTime=0,o.videoFirstPlayTime=0,o.preloadVideo=!1,o.preloadVideoSuccess=!1,o.cardFirstShowTime=0,o.clickCount=0,o.landingCount=0,o.lastLandingTime=0,o.lastJsapiName="",o.lastJsapiStatus=0,o.lastJsapiCostTime=0,o.isLandingPage=!1,o.landingPageCostTime=0,o.hideTime=0,o.showTime=0,o.isShowed=!1,o.isVisible=!1,o.extraReduceTime={},o.startExposureTime=0,o.clickFirstGradeTime=0,o.flooringPageIsShow=!1,o.flooringPageShowTime=0,o.flooringPageCloseTime=0,o.flooringPageState={},o.flooringPageAutoShow=!1,o.showTipsTimer=null,o.exposureTimer=null,o.isCancelPlayablePage=!1,o.isLandingPlayablePage=!1,o.buttonTextType=0,o.isPress=!1,o.startPosX=0,o.startPosY=0,o.lastPosX=0,o.lastPosY=0,o.lastSecondPosX=0,o.lastSecondPosY=0,o.direction="",o.throttleTimer=null,o.timeStamp=0,o.callCount=0,o.distanceList=[],o.startTime=0,o.lastStartTime=0,o.lastMoveTime=0,o.flooringPageInfos={},o.timeUpdateHandler={},o.endedHandler={},o.errorHandler={},o.multiVideoInfo={randomNumber:100*Math.random(),videoDuration:[],videoPosition:[],isEnded:[],isPause:[],isPlaying:[],isExposured:[],isViewableExposured:[],isCardExposured:[],isSlideTipsShowed:[],additionFetchDone:!1,useMultiVideo:!1},o.feedCardExtraVisibility={},o.feedGuideAnimated=!1,o.isDialogOpened=!1,o.weappTouchEventHandler=null,o.updateScreenInfoTimer=null,o.layoutTimer=null,o.closeEventCount=0,o.reportDurationTimer=null,o.multiVideoTimer=null,o.globalCountDownTimer=null,o.multiVideoCounter=0,o.globalCountDownCounter=0,o.slideFrozen=!1,o.disableGaussBlur=!1,o.toastShowing=!1,this._destroyed=!1,oE.call(this),Sp.call(this,(()=>{if(!fE){var{root:e}=w()('\n  <view id="container">\n    <view id="video-background-container">\n      <image id="video-background-image"></image>\n      <view id="video-background-mask"></view>\n    </view>\n    <view id="video-container">\n      <video id="video" controls="false" muted="true" autoplay="false" object-fit="contain" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad" player-hint="supportSoftDecode,mp4Only" auto-pause-if-navigate="true" auto-pause-if-open-native="true">\n        <view id="blank"></view>\n        <view id="page-card-body">\n          <view id="page-card-hot-area">\n            <image id="page-card-tip-icon"></image>\n            <text id="page-card-tip" value="了解更多"></text>\n          </view>\n          <image id="page-card-container" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=a5af9b5364f6e959667331801f6558e8&filekey=3033020101041f301d02016d040253480410a5af9b5364f6e959667331801f6558e80202423f040d00000004627466730000000131&hy=SH&storeid=32303138313031363036343533343030306464383764313336666664393336663561333230613030303030303664&bizid=1023">\n            <view id="page-card" click-state="true">\n              <image id="page-card-app-icon" bubble-event="true"></image>\n              <view id="page-card-app-information" bubble-event="true">\n                <text id="page-card-app-name" bubble-event="true"></text>\n                <text id="page-card-app-wording" bubble-event="true"></text>\n              </view>\n              <text id="page-card-button" click-state="true"></text>\n            </view>\n            <view id="page-card-split-line"></view>\n            <view id="page-card-img-container">\n              <view id="page-card-img-box" click-state="true">\n                <image id="page-card-img0" bubble-event="true"></image>\n                <image id="page-card-img1" bubble-event="true"></image>\n                <image id="page-card-img2" bubble-event="true"></image>\n                <image id="page-card-img3" bubble-event="true"></image>\n              </view>\n            </view>\n          </image>\n        </view>\n      </video>\n      <view id="video-touch-mask"></view>\n      <view id="video-mask"></view>\n      <view id="animation-card-click-mask" bubble-event="false"></view>\n    </view>\n    <view id="toast-container">\n      <view id="toast">\n        <text id="toast-text" value="sample"></text>\n      </view>\n    </view>\n    \n  <view id="dynamic-container"></view>\n\n    <view id="card-container">\n      \n  <view id="playable-tips-wrap">\n    <text id="playable-tips-content" value="视频结束后可试玩"></text>\n    <text id="playable-give-up" value="放弃"></text>\n    <view id="playable-cancel-box" click-state="true"></view>\n  </view>\n\n      <view id="card-inner-container" click-state="true">\n        <view id="card" bubble-event="true">\n          <image id="app-icon" bubble-event="true"></image>\n          <view id="app-information" bubble-event="true">\n            <text id="app-name" bubble-event="true"></text>\n            <text id="app-wording" bubble-event="true"></text>\n          </view>\n          <text id="button" click-state="true"></text>\n          <view id="download-button" click-state="true">\n            <text id="download-button-text" bubble-event="true"></text>\n            <text id="download-progress" bubble-event="true">\n              <text id="download-progress-text" bubble-event="true"></text>\n            </text>\n          </view>\n        </view>\n        <view id="card-line" bubble-event="true">\n          <view id="card-line-inner"></view>\n        </view>\n        <view id="card-ranking" bubble-event="true">\n          <image id="card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="card-score" bubble-event="true">\n          <text id="card-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="card-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n      </view>\n    </view>\n    \n  <view id="slide-tips-container">\n    <image id="slide-tips-mask" src="https://wxa.wxs.qq.com/images/wxapp/slide-tips-mask.png"></image>\n    <view id="slide-tips-click-area">\n      <text id="slide-tips" value="不感兴趣，换一个" bubble-event="true"></text>\n      <image id="slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n    </view>\n  </view>\n  <image id="landscape-slide-tips-mask" src="https://wxa.wxs.qq.com/images/wxapp/landscape-slide-tips-mask.png"></image>\n  <view id="landscape-slide-tips-container">\n    <view id="landscape-slide-tips-group">\n      <text id="landscape-slide-tips-1" value="不感兴趣" bubble-event="true"></text>\n      <text id="landscape-slide-tips-2" value="换个看看" bubble-event="true"></text>\n    </view>\n    <image id="landscape-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n  </view>\n\n    \n  <view id="feed-guide-container">\n    <image id="feed-path" src="https://wxa.wxs.qq.com/images/wxapp/feed-path.png"></image>\n    <image id="feed-finger" src="https://wxa.wxs.qq.com/images/wxapp/feed-finger.png"></image>\n    <image id="feed-guide-tip" src="https://wxa.wxs.qq.com/images/wxapp/feed-guide-tip.png"></image>\n  </view>\n\n    \n  <view id="expand-card-container">\n    <view id="expand-card-info-container">\n      <view id="expand-card-wording-wrapper">\n        <view id="expand-card-headline" bubble-event="true">\n          <image id="expand-card-app-icon" bubble-event="true"></image>\n          <text id="expand-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="expand-card-app-wording" bubble-event="true"></text>\n        <view id="expand-page-ranking" bubble-event="true">\n          <image id="expand-page-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="expand-page-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="expand-page-score" bubble-event="true">\n          <text id="expand-page-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="expand-page-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="expand-page-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n      </view>\n      <text id="expand-card-app-conversion"></text>\n      <text id="expand-card-button" click-state="true"></text>\n    </view>\n    <view id="expand-card-slide-tips-container">\n      <view id="expand-card-slide-tips-click-area">\n        <text id="expand-card-slide-tips" value="不感兴趣，换一个" bubble-event="true"></text>\n        <image id="expand-card-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="feed-card-container">\n    <image id="feed-card-mask" src="https://wxa.wxs.qq.com/images/wxapp/bottom-mask.png"></image>\n    <view id="feed-card-info-container">\n      <view id="feed-card-main-info">\n        <image id="feed-card-app-icon"></image>\n        <view id="feed-card-wording-group">\n          <text id="feed-card-app-name"></text>\n          <text id="feed-card-app-wording"></text>\n        </view>\n      </view>\n      <view id="feed-card-extra-info">\n        <view id="feed-card-split-line"></view>\n        <text id="feed-card-app-conversion"></text>\n      </view>\n      <text id="feed-card-button" value="查看" click-state="true"></text>\n    </view>\n  </view>\n\n    \n  <view id="pendant-container"></view>\n\n    \n  <view id="default-page-container">\n    <view id="default-page-background-container">\n      <image id="default-page-background-image"></image>\n      <view id="default-page-background-mask"></view>\n    </view>\n    <view id="default-page-info-container">\n      <view id="default-page-wording-wrapper">\n        <view id="default-page-headline" bubble-event="true">\n          <image id="default-page-app-icon" bubble-event="true"></image>\n          <text id="default-page-app-name" bubble-event="true"></text>\n        </view>\n        <text id="default-page-app-wording" bubble-event="true"></text>\n       \n  <view id="default-page-ranking" bubble-event="true">\n    <image id="default-page-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n    <text id="default-page-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n  </view>\n  <view id="default-page-score" bubble-event="true">\n    <text id="default-page-score-title" bubble-event="true" value="应用宝评分"></text>\n    <image id="default-page-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <text id="default-page-score-num" bubble-event="true" value="4.5分"></text>\n  </view>\n\n      </view>\n      <text id="default-page-app-conversion"></text>\n      <text id="default-page-button" click-state="true"></text>\n    </view>\n    <view id="default-page-slide-tips-container">\n      <view id="default-page-slide-tips-click-area">\n        <text id="default-page-slide-tips" value="3 秒后自动更换" bubble-event="true"></text>\n        <image id="default-page-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="animation-card-container">\n    <view id="animation-card-info-container">\n      <view id="animation-card-wording-wrapper">\n        <view id="animation-card-headline" bubble-event="true">\n          <image id="animation-card-app-icon" bubble-event="true"></image>\n          <text id="animation-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="animation-card-app-wording" bubble-event="true"></text>\n       \n  <view id="animation-card-ranking" bubble-event="true">\n    <image id="animation-card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n    <text id="animation-card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n  </view>\n  <view id="animation-card-score" bubble-event="true">\n    <text id="animation-card-score-title" bubble-event="true" value="应用宝评分"></text>\n    <image id="animation-card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <text id="animation-card-score-num" bubble-event="true" value="4.5分"></text>\n  </view>\n\n        <text id="animation-card-button" click-state="true"></text>\n        <text id="animation-card-app-conversion"></text>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="page-container">\n    <view id="page-img-container">\n      <view id="page-img-box">\n        <image id="page-img0" bubble-event="true"></image>\n        <image id="page-img1" bubble-event="true"></image>\n        <image id="page-img2" bubble-event="true"></image>\n      </view>\n      <view id="page-img-tips">\n        <view id="page-img-icon0"></view>\n        <view id="page-img-icon1"></view>\n        <view id="page-img-icon2"></view>\n      </view>\n    </view>\n    <view id="page-info-container">\n      <view id="page-info-wrapper">\n        <image id="page-app-icon"></image>\n        <text id="page-app-name"></text>\n        <text id="page-app-wording"></text>\n        <text id="page-app-conversion"></text>\n        <text id="page-button" click-state="true"></text>\n        <view id="page-download-button" click-state="true">\n          <text id="page-download-button-text" bubble-event="true"></text>\n          <text id="page-download-progress" bubble-event="true">\n            <text id="page-download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="playable-pendant-expand">\n    <view id="playable-pendant-border-fix-expand"></view>\n    <view id="playable-pendant-expand-background"></view>\n    <view id="playable-pendant-arrow-fold-group">\n      <image bubble-event="true" id="playable-pendant-arrow-fold" src="https://wxa.wxs.qq.com/images/wxapp/pendant-arrow-right.png"></image>\n    </view>\n    <image id="playable-pendant-app-icon"></image>\n    <view id="playable-pendant-info-group">\n      <text id="playable-pendant-app-name"></text>\n      <text id="playable-pendant-app-wording"></text>\n      <text id="playable-pendant-app-conversion"></text>\n      <text id="playable-pendant-app-ranking"></text>\n    </view>\n    <text id="playable-pendant-button" value="前往" click-state="true"></text>\n  </view>\n  <view id="playable-pendant-fold">\n    <view id="playable-pendant-border-fix-fold"></view>\n    <view id="playable-pendant-fold-background"></view>\n    <view id="playable-pendant-arrow-expand-group">\n      <image bubble-event="true" id="playable-pendant-arrow-expand" src="https://wxa.wxs.qq.com/images/wxapp/pendant-arrow-left.png"></image>\n    </view>\n    <view id="playable-pendant-abbr-group">\n      <image id="playable-pendant-phone-image" src="https://wxa.wxs.qq.com/images/wxapp/pendant-phone.png"></image>\n      <image id="playable-pendant-phone-app-icon"></image>\n      <text id="playable-pendant-abbr-tips" bubble-event="false" value="正在试玩"></text>\n    </view>\n  </view>\n  <view id="playable-pendant-touch-mask"></view>\n\n    \n  <view id="playable-loading">\n    <image id="playable-loading-background" src="https://wxa.wxs.qq.com/images/wxapp/playable-background.png"></image>\n    <view id="playable-loading-logo-group">\n      <image id="playable-loading-logo" src="https://wxa.wxs.qq.com/images/wxapp/playable-loading-phone.png"></image>\n      <image id="playable-loading-app-icon"></image>\n    </view>\n    <text id="playable-loading-tips" value="试玩小游戏，即可获得奖励"></text>\n    <view id="playable-loading-progress-bar">\n      <view id="playable-loading-progress-bar-inner"></view>\n      <view id="playable-loading-progress-bar-wrapper"></view>\n    </view>\n  </view>\n\n    \n  <view id="playable-endpage">\n    <view id="playable-endpage-background-container">\n      <image id="playable-endpage-background" src="https://wxa.wxs.qq.com/images/wxapp/playable-background.png"></image>\n      <image id="playable-endpage-background-landscape" src="https://wxa.wxs.qq.com/images/wxapp/playable-background-landscape.png"></image>\n      <image id="playable-endpage-background-adorn" src="https://wxa.wxs.qq.com/images/wxapp/playable-endpage-adorn.png"></image>\n    </view>\n    <view id="playable-endpage-main-wrapper">\n      <view id="playable-endpage-placeholder">\n        <view id="playable-endpage-placeholder-card">\n        </view>\n      </view>\n      <view id="playable-endpage-main-group">\n        <text id="playable-endpage-text" value="试玩已结束"></text>\n        <text id="playable-endpage-text2" value="前往继续体验"></text>\n        <view id="playable-endpage-info-group">\n          <image bubble-event="true" id="playable-endpage-info-app-cover"></image>\n          <view bubble-event="true" id="playable-endpage-info-bar">\n            <image bubble-event="true" id="playable-endpage-app-icon"></image>\n            <view bubble-event="true" id="playable-endpage-info-wording-group">\n              <text bubble-event="true" id="playable-endpage-app-title"></text>\n              <text bubble-event="true" id="playable-endpage-app-wording"></text>\n              <text bubble-event="true" id="playable-endpage-app-conversion"></text>\n              <text bubble-event="true" id="playable-endpage-app-ranking"></text>\n            </view>\n          </view>\n        </view>\n        <text id="playable-endpage-button" value="前往小游戏" click-state="true"></text>\n      </view>\n    </view>\n  </view>\n\n    <view id="page-handler"></view>\n    <view id="page-mask"></view>\n    \n  <view id="top-bar">\n    <view id="bar-left">\n      <view id="count">\n        <view id="ad-feedback">\n          <text id="ad-text" value="广告" bubble-event="true"></text>\n          <image id="rectangle" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-white.png" bubble-event="true"></image>\n          <image id="rectangle-light" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-black.png" bubble-event="true"></image>\n          <view id="split-line-left" bubble-event="true"></view>\n        </view>\n        <image id="left-time-icon" src="https://wxa.wxs.qq.com/images/wxapp/time.png"></image>\n        <text id="count-down-prepend" value="试玩"></text>\n        <text id="count-down"></text>\n        <text id="count-down-append"></text>\n      </view>\n    </view>\n    <view id="bar-center">\n      <image id="time-icon" src="https://wxa.wxs.qq.com/images/wxapp/time.png"></image>\n      <view id="center-count-down">\n        <text id="center-count-down-left-text" value="滑动看视频"></text>\n        <text id="center-count-down-number" value="30"></text>\n        <text id="center-count-down-right-text" value="秒获得奖励"></text>\n      </view>\n      <text id="center-count-down-finish" value="已获得奖励"></text>\n    </view>\n    <view id="bar-right">\n      <image id="sound"></image>\n      <view id="split-line"></view>\n      <text id="close" value="关闭"></text>\n    </view>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n\n    <view id="dialog-close-tip">\n      <view id="ad-close-tip-wrap">\n        <text id="ad-close-tip-content" bubble-event="true" value="感谢你的反馈"></text>\n      </view>\n    </view>\n    <view id="dialog-container">\n      <view id="dialog-mask"></view>\n      <view id="dialog">\n        <text id="dialog-title"></text>\n        <view id="dialog-split"></view>\n        <view id="dialog-button">\n          <text id="dialog-close" value="放弃"></text>\n          <view id="button-split"></view>\n          <text id="dialog-cancel" value="继续"></text>\n        </view>\n      </view>\n    </view>\n  </view>\n');fE=e}return fE})(),Em),$b.call(this,!0);var{screenWidth:r,screenHeight:s}=db;o.videoElems={0:o.video},o.container.style.width=r,o.container.style.height=s,o.container.style.top=s,o.container.style.hidden=!0,o.topBar.style.width=r,o.slideTipsContainer.style.width=r,o.slideTipsMask.style.width=r,o.landscapeSlideTipsMask.style.height=s,o.sound.src=wb,o.appIcon.src=Tb,lv.call(this),db.isIOS&&(o.video.obeyMuteSwitch=!0),ub.add(o.container),Cb&&(o.topBar.style.top=o.topBar.style.top+30,o.adFeedbackList.style.top=o.adFeedbackList.style.top+30,o.adFeedbackMenu.style.top=o.adFeedbackMenu.style.top+30);Bb.call(this,["dialogContainer","dialogMask"]),o.dialog.style.top=s>138?(s-138)/2:0,o.dialog.style.left=r>300?(r-300)/2:0,db.isWaGame||(o.container.fullscreen=!0,o.isFullscreen=!1),o.loadPromise=null;var l=Ub.call(this);if(l.catch((()=>{})),o.adFetchResult=l,o.isSwitched=!1,db.isWaGame||tb((()=>{if(!ex.call(this)){var{openType:e,createWebviewId:t,lastWebviewId:i}=o.adProxy.getWebviewInfo();if(["navigateTo","switchTab"].includes(e)&&t===i&&(o.isSwitched=!0),["navigateBack","navigateTo"].includes(e)&&t===i&&sy.call(this)&&o.isData){var a=o.isFullscreen?3:1;Lm.call(this,{button:6}),qb.call(this,a)}}})),o.close.on("click",(e=>{Gm.call(this,e,!1)&&Xb.call(this)})),o.dialogClose.on("click",(e=>{Gm.call(this,e,!1)&&(o.dialogContainer.style.hidden=!0,qb.call(this),Lm.call(this,{button:1}))})),o.dialogCancel.on("click",(e=>{Gm.call(this,e,!1)&&(o.isDialogOpened=!1,o.dialogContainer.style.hidden=!0,ey.call(this)?(o.showDialogContainer=!1,Kb.call(this)):S_.call(this)?Am.call(this,iE.call(this)):(Wv.call(this)&&Kv.call(this),yy.call(this,"play"),hy.call(this)),Lm.call(this,{button:2}))})),o.sound.on("click",(e=>{if(Gm.call(this,e,!1))if(S_.call(this))sE.call(this);else{var t=Pv.call(this);t_.call(this,"muted",!t.muted),o.sound.src=t.muted?wb:xb}})),yE.call(this),j_.call(this),gb("onVideoResourceLoad",xy.bind(this)),o.touchWatcher.onSlide(Bv.bind(this)),o.playableCancelBox.on("click",gv.bind(this)),o.pageButton.on("click",(e=>{Gm.call(this,e)&&v_.call(this,e,"button",Fo.REWARD_OLD_ENDPAGE_BUTTON)})),o.defaultPageButton.on("click",wv.call(this,"button")),o.defaultPageAppIcon.on("click",wv.call(this,"logo")),o.defaultPageAppName.on("click",wv.call(this,"wording")),o.defaultPageAppWording.on("click",wv.call(this,"wording")),o.defaultPageWordingWrapper.on("click",wv.call(this,"wrapper")),o.defaultPageRanking.on("click",wv.call(this,"ranking")),o.defaultPageScore.on("click",wv.call(this,"score")),o.expandCardButton.on("click",b_.call(this,"button")),o.expandCardAppIcon.on("click",b_.call(this,"logo")),o.expandCardAppName.on("click",b_.call(this,"wording")),o.expandCardAppWording.on("click",b_.call(this,"wording")),o.expandCardWordingWrapper.on("click",b_.call(this,"wrapper")),o.expandPageRanking.on("click",b_.call(this,"ranking")),o.expandPageScore.on("click",b_.call(this,"score")),o.feedCardButton.on("click",x_.call(this,"button")),o.feedCardAppIcon.on("click",x_.call(this,"logo")),o.feedCardAppName.on("click",x_.call(this,"wording")),o.feedCardAppWording.on("click",x_.call(this,"wording")),o.feedCardAppConversion.on("click",x_.call(this,"conversion")),o.animationCardButton.on("click",w_.call(this,"button")),o.animationCardAppIcon.on("click",w_.call(this,"logo")),o.animationCardAppName.on("click",w_.call(this,"wording")),o.animationCardAppWording.on("click",w_.call(this,"wording")),o.animationCardRanking.on("click",w_.call(this,"ranking")),o.animationCardScore.on("click",w_.call(this,"score")),o.animationCardClickMask.on("click",w_.call(this,"videoClickMask")),o.button.on("click",T_.bind(this)),o.card.on("click",C_.bind(this)),o.cardRanking.on("click",(e=>{Gm.call(this,e)&&v_.call(this,e,"",Fo.REWARD_CARD_RANKING)})),o.cardScore.on("click",(e=>{Gm.call(this,e)&&v_.call(this,e,"",Fo.REWARD_CARD_SCORE)})),o.downloadButton.on("click",E_.bind(this)),o.pageDownloadButton.on("click",E_.bind(this)),o.slideTipsClickArea.on("click",e_.bind(this)),o.expandCardSlideTipsClickArea.on("click",e_.bind(this)),o.defaultPageSlideTipsClickArea.on("click",e_.bind(this)),o.landscapeSlideTipsContainer.on("click",e_.bind(this)),o.pageHandler.on("touchstart",hv.bind(this)),o.pageHandler.on("touchmove",pv.bind(this)),o.pageHandler.on("touchend",fv.bind(this)),o.onShow=sx.bind(this),o.onHide=ox.bind(this),o.onWindowResize=rx.bind(this),o.onBeforeHide=nx.bind(this),XE(o.onShow),KE(o.onHide),ib(o.onWindowResize),QE(o.onBeforeHide),!0===i){var d=db.isWaGame?"count":`count_${o.adProxy.getWebviewInfo().currentWebviewId}`,c=(sm(d,o.adType)||0)+1;rm(d,o.adType,c),c>=5&&(e.warn(`系统检测到您创建的激励视频广告实例过多，由于您当前使用的是多例模式，为避免影响${db.isWaGame?"小游戏":"小程序"}性能，请减少实例创建数量或调用destroy方法销毁无用的实例`),5===c&&o.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_INSTANCE_BROKEN))}}load(){if(ex.call(this))return Promise.reject({errMsg:Nb});var e=Eb(this);if(e.isShowed)return Promise.reject({errMsg:"can't invoke load() while video-ad is showed"});if(e.isData)return Promise.resolve();var t=Ub.call(this);return e.adFetchResult=t.catch((t=>{var i=-12001===t.errCode?{errMsg:"RewardedVideoAd fail no permission"}:t;throw e.emitter.emit("_error",i),i})),e.adFetchResult}show({branchId:e,branchDim:t,welfareData:i}={}){var a=this;return b()((function*(){var n;if(ex.call(a))return Promise.reject({errMsg:Nb});var o=Eb(a);if(o.isShowed)return Promise.resolve();if(!o.isData)return Promise.reject({errMsg:"no advertisement data available, please invoke load()"});var s=null===(n=o.data)||void 0===n?void 0:n.antifraudPopup;if(s)try{if(!1===(yield jb.call(a)))return Promise.reject({errMsg:"user cancel"})}catch(e){}var l=!1;try{if(!s)l=(yield sb()).isUseAdSkipCard}catch(e){}if(l)return o.emitter.emit("close",{isEnded:!0}),o.adProxy.reportAdMonitorData(ui.CHECK_AD_SKIP_CARD_SUCCESS),ix.call(a),Promise.resolve();if(1===(sm("show",o.adType)||0))return o.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_OTHER_SHOW_ERROR),Promise.reject({errMsg:"can't invoke show() while other video-ad is showed"});Mm.call(a,{stage:1001});var d,c=(new Date).getTime();o.isSwitched=!1,rm("show",o.adType,1),o.adProxy.setTimePoint("p19"),e?o.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):o.adProxy.resetAnalyseBranchInfo(),null!=i&&i.welfare_id&&null!=i&&i.welfare_trace?(o.adWelfareData={welfare_id:i.welfare_id,welfare_trace:i.welfare_trace},(ey.call(a)||ty.call(a))&&o.adProxy.UpdateRewardedLandingPageData({weappExtraData:r()({},o.adWelfareData||{})})):o.adWelfareData={};try{if(yield o.adFetchResult,ex.call(a))throw{errMsg:Nb};cb(),yield zb.call(a),o.adProxy.setTimePoint("p24");var u=Pv.call(a),{screenWidth:h,screenHeight:p}=db,{extBackComm:f}=o.data||{};if(db.isWaGame){var g=!1;if(null!=f&&f.antifraud_video_block&&+new Date-Rb>2e3&&(g=!0),o.adProxy.reportVideoLastClick({touchStartX:Math.round(Db),touchStartY:Math.round(Ib),touchEndX:Math.round(Sb),touchEndY:Math.round(kb),touchDuration:Ob,screenWidth:h,screenHeight:p,clkTime:Pb,playTime:+new Date,isShield:g?1:0}),g)throw o.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_ANTIFRAUD,{isWeApp:!1}),{errMsg:"antifraud can not show!"}}else if(o.weappTouchEventHandler&&(d=o.weappTouchEventHandler,Ja.off("_onWeappTouchEvent",d)),o.weappTouchEventHandler=((e,t)=>{var i=!1;if("function"==typeof e){var a=a=>{!i&&e(a,t),i=!0};return Ja.on("_onWeappTouchEvent",a),a}return null})(Fm,{aid:o.adProxy.data.aid,traceid:o.adProxy.data.traceid}),mb("emitWeappTouchEvent"),null!=f&&f.antifraud_video_block)throw o.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_ANTIFRAUD,{isWeApp:!0}),{errMsg:"antifraud can not show!"};if(o.adProxy.reportVideoLoadTime({beginTime:c,endTime:(new Date).getTime(),reportType:2}),o.isShowed=!0,o.isVisible=!0,o.startExposureTime=0,o.isShowedExposureReported=!1,o.isViewableExposureReported=!1,o.isCardExposureReported=!1,o.adProxy.isViewable=!1,ey.call(a)||ty.call(a))return tx.call(a);o.adProxy.isValidCondition("widget_gray_video_sound")?(ab(),u.muted=!1,db.isIOS&&(u.obeyMuteSwitch=!0),o.sound.src=xb):(u.muted=!0,o.sound.src=wb),o.card.style.hidden=!0,qm.call(a),o.container.style.hidden=!1,o.adFeedbackList.style.hidden=!0,o.adFeedbackMenu.style.hidden=!0,S_.call(a)&&Q_.call(a),o.adCover.show(),o.adProxy.setTimePoint("p15");try{if(yield o.container.nextLayout(),yield M(500),ex.call(a))throw{errMsg:Nb};if(o.isSwitched)return qb.call(a,1);Wb.call(a).then((()=>{o.topBar.style.hidden=!1,db.isWaGame||(o.isFullscreen=!0)})).catch((()=>{o.topBar.style.hidden=!0})),yield o.container.animate({top:0,duration:500}),Oy.call(a,Lt),ob(rb.EVENT_CANVAS_BEFORE_ADS);var{width:m,height:y}=u.style;if(S_.call(a))return;var v=o.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:m,height:y,weappExtraData:r()({},o.adWelfareData||{})});Wv.call(a)&&(o.multiVideoInfo.isExposured[0]=!0,i_.call(a,ui.REWARDED_VIDEO_FEED_EXPOSURE,{type:"showed"})),o.startExposureTime=+new Date,bb(v,"激励视频","原始曝光"),yield M(500),o.isFirstPlay=!0,o.videoFirstPlayTime=(new Date).getTime(),o.adProxy.setTimePoint("p20"),yy.call(a,"play"),hy.call(a),Oy.call(a,St),o.isFirstPlaySuccess=!0;var _=Nm.call(a,{playType:"partial",conditionType:"start"});bb(_,"激励视频","开始播放")}catch(e){var E={errMsg:e,isSwitched:o.isSwitched};return o.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_ANIMATE_ERROR,E),qb.call(a,2)}}catch(e){throw rm("show",o.adType,0),e}}))()}reportShareBehavior(e){if(!ex.call(this)){if(!e)return{success:!1,message:"参数不可为空"};var t,i=Eb(this),a={operation:0,currentShow:0,inviteUser:"",inviteUserAdunit:"",strategy:0,shareValue:0,rewardValue:0,depositAmount:0},n=[],o=e=>(i.adProxy.reportAdMonitorData(ui.REPORT_SHARE_BEHAVIOR_FAILED,e),{success:!1,message:e});if(6===e.operation){if(!e.inviteUser||"string"!=typeof e.inviteUser)return o("operation 为 6 时，inviteUser 不可为空");if(n.push("inviteUser"),"string"==typeof e.inviteUserAdunit){if(!/^adunit-[a-z\d]{16}$/.test(e.inviteUserAdunit))return o("inviteUserAdunit 格式有误，应为 adunit-[a-z0-9]{16}");n.push("inviteUserAdunit")}}else{if(![1,2,3,4,5].includes(e.operation))return o("operation 必须为 1-6 的数字");if(null==e.currentShow||![0,1].includes(e.currentShow))return o("operation 为 1-5 时，currentShow 必须为 0 或 1");if(n.push("currentShow"),"number"==typeof e.strategy){if(![0,1].includes(e.strategy))return o("strategy 必须为 0 或 1");n.push("strategy")}}return null==e.shareValue?o("分享推荐值 shareValue 不可为空"):null==e.rewardValue?o("激励广告推荐值 rewardValue 不可为空"):(n.push("operation","shareValue","rewardValue"),null!=e.depositAmount&&n.push("depositAmount"),Object.assign(a,(t=e,n.reduce(((e,i)=>(e[i]=t[i],e)),{}))),i.adProxy.reportShareBehavior(a),i.adProxy.reportAdIDKey({key:ui.REPORT_SHARE_BEHAVIOR_SUCCESS}),{success:!0,message:"上报成功"})}}isReady(){return!ex.call(this)&&Eb(this).isData}destory(){Qb.call(this)}destroy(){Qb.call(this)}onError(e){ex.call(this)||Eb(this).emitter.on("_error",e)}offError(e){ex.call(this)||Eb(this).emitter.off("_error",e)}onLoad(e){ex.call(this)||Eb(this).emitter.on("load",e)}offLoad(e){ex.call(this)||Eb(this).emitter.off("load",e)}onClose(t){if(!ex.call(this)){var i=Eb(this);i.emitter.on("close",t),t&&"function"==typeof t&&(i.closeEventCount+=1,i.closeEventCount>1&&e.warn("激励视频广告组件检测到您绑定了多次 onClose 事件，绑定重复的事件会产生多次重复的回调，请确认您绑定的事件是否重复，以免造成事件重复回调问题。"))}}offClose(e){if(!ex.call(this)){var t=Eb(this);t.emitter.off("close",e),e&&"function"==typeof e&&t.closeEventCount>0&&(t.closeEventCount-=1),e||(t.closeEventCount=0)}}}var Mb,Bb=function(e){if(!ex.call(this)){var t=Eb(this);if("object"==typeof e&&e.length>0)for(var i of e)t[i]&&(t[i].style.width=db.screenWidth,t[i].style.height=db.screenHeight)}},Vb=function(){var e=b()((function*(e){var t=Eb(this);ty.call(this)||(yield t.adProxy.operateFullscreen(e))}));return function(t){return e.apply(this,arguments)}}(),Wb=function(){var e=b()((function*(){if(ex.call(this))throw{errMsg:Nb};var e=Eb(this);yield Vb.call(this,"hide"),db.isWaGame||(e.adProxy.setPageOrientation(db.deviceOrientation),db.isAndroid&&(e.updateScreenInfoTimer&&(clearTimeout(e.updateScreenInfoTimer),e.updateScreenInfoTimer=null),e.updateScreenInfoTimer=setTimeout((()=>{var{screenWidth:t,screenHeight:i}=db;cb();var a=!1,n=0;db.screenHeight===i&&db.screenWidth===t||(a=!0,n=db.screenHeight-i),n&&(e.cardContainer.style.top+=n);var o=["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask","toastContainer","feedGuideContainer"];Qm.call(this)&&o.push("video"),Bb.call(this,o),a&&Qm.call(this)&&(Gy.call(this,!0),mv.call(this),fy.call(this))}),1e3)))}));return function(){return e.apply(this,arguments)}}(),Fb=function(){var e=b()((function*(){if(ex.call(this))throw{errMsg:Nb};var e=Eb(this);try{yield Vb.call(this,"show").then((()=>{db.isWaGame||e.adProxy.setPageOrientation(Ab)}))}catch(t){throw e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR,t),t}}));return function(){return e.apply(this,arguments)}}(),Hb=function(){var e=Eb(this),t={};return null!==e.adRequestType&&(t.requestType=e.adRequestType),t},Ub=function(){var e=b()((function*(){if(ex.call(this))throw{errMsg:Nb};var e=Eb(this);e.loadPromise||(e.loadPromise=Gb.call(this)),yield e.loadPromise,e.loadPromise=null,ix.call(this)}));return function(){return e.apply(this,arguments)}}(),Gb=function(){var t=b()((function*(){if(ex.call(this))throw{errMsg:Nb};var t=Eb(this),i=Date.now(),a=yield t.adProxy.fetch(!1,{},Hb.call(this));wy.call(this,t.video,0);try{var n,o,r,s,l,d,c;t.adProxy.setTimePoint("p4");var u=Object.keys(t.emitter.emitter).includes("_events")?Object.keys(t.emitter.emitter._events):[];if("devtools"===db.platform&&!u.includes("_error"))return void e.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。（无广告返回时，建议不设置激励视频入口）");t.data=a,t.isData=!0,Wv.call(this,!0)&&(yield Dv.call(this,{startTime:i})),!db.isAndroid||null===(n=a.shortVideo)||void 0===n||!n.src||null!==(o=t.adProxy.data)&&void 0!==o&&null!==(r=o.condition)&&void 0!==r&&r.widget_gray_rewarded_video_disable_preload||(t.preloadVideo=!0,t.preloadVideoSuccess=!1,t.adProxy.preloadVideo([a.shortVideo.src]).catch((e=>{t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PRELOAD_ERROR,e)})));var h=Pv.call(this),{duration:p}=Zm.call(this);if(!ey.call(this)&&(null===(s=t.data)||void 0===s?void 0:s.shortVideo.width)<(null===(l=t.data)||void 0===l?void 0:l.shortVideo.height)&&null!==(d=t.data)&&void 0!==d&&null!==(c=d.condition)&&void 0!==c&&c.widget_gray_rewarded_video_animation_page){var f,g,m,y,v,_,E=null===(f=t.data)||void 0===f||null===(g=f.condition)||void 0===g?void 0:g.widget_gray_rewarded_video_animation_page_video_duration;if(E&&E>0)t.isUseAnimationPage=p>=1e3*E,t.animationPageShowTime=null===(m=t.data)||void 0===m||null===(y=m.condition)||void 0===y?void 0:y.widget_gray_rewarded_video_animation_page_show_time,h.loop=t.isUseAnimationPage&&!(null===(v=t.data)||void 0===v||null===(_=v.condition)||void 0===_||!_.widget_gray_rewarded_video_animation_page_video_loop)}yield zb.call(this),t.adProxy.preloadLanding(),t.adProxy.setTimePoint("p5")}catch(e){throw t.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_PARSE_ERROR,e),{}}}));return function(){return t.apply(this,arguments)}}(),zb=function(){var e=b()((function*(e=!1){if(!ex.call(this)){var t=Eb(this),{data:i}=t,a=Pv.call(this),{deviceOrientation:n,screenWidth:o,screenHeight:r,safeArea:s}=db;if(t.container.style.left=0,$b.call(this,t.darkMode),db.isIOS){var l="portrait"===n?s.top?44:12:10,d="portrait"===n?s.top?78:46:44;t.topBar.style.top=l,t.adFeedbackList.style.top=d,t.adFeedbackMenu.style.top=d}e||(t.container.style.top=r),a.style.padding=8,a.style.paddingBottom=16;var c;if(Bb.call(this,["container","videoContainer","videoMask","videoTouchMask","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask","toastContainer","feedGuideContainer"]),zm.call(this))t.topBar.style.left=0,t.topBar.style.width=o,t.card.style.height=90;else{var u=s.top||0;t.topBar.style.width=o-2*u-16,t.topBar.style.left=u+8,t.card.style.height=72}if(Cb&&(t.topBar.style.top=t.topBar.style.top+30,t.adFeedbackList.style.top=t.adFeedbackList.style.top+30,t.adFeedbackMenu.style.top=t.adFeedbackMenu.style.top+30),db.isWaGame?t.container.style.fixed&&delete t.container.style.fixed:t.container.style.fixed=!0,t.dialog.style.top=r>138?(r-138)/2:0,t.dialog.style.left=o>300?(o-300)/2:0,t.dialogCloseTip.style.top=(r-36)/2,t.dialogCloseTip.style.left=(o-124)/2,ey.call(this))t.cardContainer.style.hidden=!0,t.container.style.backgroundColor="rgba(0, 0, 0, 0)",t.topBar.style.hidden=!0,a.style.hidden=!0,a.src&&(a.src="https://wxa.wxs.qq.com/images/wxapp/empty.mp4");else{var h,p,f,g,m,y,v,_,E,b,x,w,T,C,A;t.container.style.backgroundColor="#000000";var{product_type:D}=i,{src:I,poster:S,duration:k}=Zm.call(this);Wv.call(this)&&sy.call(this)||(db.isIOS&&a.src===I&&a.seek(0),db.isIOS?(a.poster=S,M(500).then((()=>{a.src=I}))):(a.src=I,a.poster=S)),t.adProxy.setTimePoint("p8"),t.buttonTextType=t.data.button_action.text_type||0,fy.call(this);var{rewardedTime:P}=t.data;if(t.isRewarded)Im.call(this,0,!0);else if(!t.multiVideoCounter){var R=Wv.call(this)?jv.call(this):Math.ceil((k>P?P:k)/1e3);Im.call(this,R)}l_.call(this),k_.call(this),t.adProxy.isValidCondition("widget_gray_close_v2")&&(t.adFeedback.style.hidden=!1,t.close.value="关闭",t.close.style.width=29),null!==(h=t.data)&&void 0!==h&&null!==(p=h.condition)&&void 0!==p&&p.widget_gray_rewarded_video_effect_guide&&(a.autoPauseIfOpenNative=!1,a.autoPauseIfNavigate=!1,t.isPlayBackgroundSupported=!0),D===Ii.ANDROID&&(t.adProxy.setAppInstallState(!1),Jb.call(this));var O=[];(null===(f=t.data.crtInfo)||void 0===f||null===(g=f.wxgame_video_card)||void 0===g?void 0:g.pendant_img)&&(O=O.concat(lE));var N=null===(m=t.adProxy.data.extInfo)||void 0===m||null===(y=m.app_gift_pack_code)||void 0===y?void 0:y.code,L=null===(v=t.adProxy.data.extInfo)||void 0===v||null===(_=v.app_gift_pack_code)||void 0===_?void 0:_.description;(N||L)&&(O=O.concat(cE));var B=null===(E=t.data)||void 0===E||null===(b=E.crtInfo)||void 0===b||null===(x=b.wegame_info)||void 0===x?void 0:x.promotional_pic;((null===(w=t.data)||void 0===w||null===(T=w.crtInfo)||void 0===T||null===(C=T.wegame_info)||void 0===C?void 0:C.banner_url)||B)&&(O=O.concat(dE));var{template:V}=t.data;if(null!==(A=t.data)&&void 0!==A&&A.useTemplate&&V&&("templateType"in(c=V)&&["adDynamicList"].includes(c.templateType))){var W=V.list;O=O.concat(W)}var{adDynamicList:F}=t.adProxy.data,H=null!=F&&F.length?O.concat(F):O;yield Py.call(this,H)}}}));return function(){return e.apply(this,arguments)}}(),jb=function(){var e=Eb(this);return new Promise(((t,i)=>{nb({content:"即将播放广告",confirmText:"打开",success:i=>{i.confirm?(Hm.call(this,{buttonType:1,buttonTime:Date.now(),gameTouchStartPosX:Db,gameTouchStartPosY:Ib}),e.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_POPUP_CLICK_CONFIRM),t(!0)):i.cancel&&(Hm.call(this,{buttonType:2,buttonTime:Date.now(),gameTouchStartPosX:Db,gameTouchStartPosY:Ib}),e.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_POPUP_CLICK_CANCEL)),e.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_POPUP_SHOW_SUCCESS),t(!1)},fail:()=>{Hm.call(this,{buttonType:0,buttonTime:Date.now(),gameTouchStartPosX:Db,gameTouchStartPosY:Ib}),e.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_POPUP_SHOW_FAIL),i()}})}))},$b=function(e){if(!ex.call(this)){var t=Eb(this);t.darkMode=e;var i=e?xm:bm;for(var a of Object.keys(i))t[a]&&Object.assign(t[a].style,i[a])}},Yb=function(){var e=b()((function*(e=0){var t;if(!ex.call(this)){var i=Eb(this),a=Pv.call(this);if(i.adProxy.reportTimePoints({slotid:_b,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,extInfo:{preloadVideoSuccess:i.preloadVideoSuccess?1:0}}),i.isUseAnimationPage){a.loop=!1,i.isUseAnimationPage=!1,i.isShowAnimationPage=!1,i.animationPageShowTime=0,i.videoBackgroundContainer.style.hidden=!0,i.isAnimationPageReportedVideoEnd=!1,i.animationCardClickMask.style.width=0,i.animationCardClickMask.style.height=0,i.animationCardClickMask.style.hidden=!0,i.videoContainer.animate({top:0,scaleWidth:1,scaleHeight:1,duration:10}).catch((()=>{i.videoContainer.style.top=0,i.videoContainer.style.scaleWidth=1,i.videoContainer.style.scaleHeight=1})),yield M(10);var{screenHeight:n}=db;i.videoContainer.style.height=n,i.video.style.height=n,i.videoContainer.style.borderRadius=0,i.animationCardContainer.style.hidden=!0,i.animationCardContainer.style.top=n,i.animationCardAppConversion.style.hidden=!0}var o,r=i.isRewarded;if(i.sound.style.hidden=!1,i.splitLine.style.hidden=!1,a.autoPauseIfNavigate=!0,a.autoPauseIfOpenNative=!0,i.isPlayBackgroundSupported=!1,i.videoMutedStatus=!1,i.landingCount=0,i.clickCount=0,i.rewardPageLanding=!1,i.isPlaying=!1,i.isVideoCalledPlay=!1,i.isFirstPlaySuccess=!1,i.isShowed=!1,i.isVisible=!1,i.isRewarded=!1,i.isEnded=!1,i.isData=!1,i.extraReduceTime={},i.disableGaussBlur=!1,i.toastShowing=!1,i.multiVideoInfo={randomNumber:100*Math.random(),videoDuration:[],videoPosition:[],isPlaying:[],isEnded:[],isPause:[],isExposured:[],isViewableExposured:[],isCardExposured:[],isSlideTipsShowed:[],additionFetchDone:!1,useMultiVideo:!1},i.feedCardExtraVisibility={},i.playableExtraVisibility={},i.feedGuideAnimated=!1,i.isDialogOpened=!1,yield Ny.call(this),i.isCancelPlayablePage=!1,i.isLandingPlayablePage=!1,i.playableTipsContent.value="视频结束后可试玩",i.playableGiveUp.value="放弃",i.playableGiveUp.style.color="#07C160",i.playableGiveUp.style.opacity=1,i.playableTipsWrap.style.width=132,i.playableTipsWrap.style.left=0,i.playableTipsWrap.style.hidden=!0,i.cardContainer.style.hidden=!0,i.playableTipsContent.style.width=120,i.playableGiveUp.style.hidden=!0,i.playableCancelBox.style.hidden=!0,i.feedCardContainer.style.hidden=!0,i.feedGuideContainer.style.hidden=!0,a_.call(this),i.expandCardContainer.style.hidden=!0,rE.call(this),i.rewardPageCostTime=0,i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.adProxy.isViewable=!0,db.isWaGame||(i.isFullscreen=!1),i.downloadProgress.style.width=0,i.pageDownloadProgress.style.width=0,$b.call(this,!0),2!==e)db.isWaGame||!db.isIOS&&!Zo("landpage",null===(o=i.data)||void 0===o?void 0:o.crt_size)?(i.emitter.emit("close",{isEnded:r}),Bm(r)):M(100).then((()=>{i.emitter.emit("close",{isEnded:r}),Bm(r)}));i.adProxy.reset();var s=Ub.call(this);for(var l of(s.catch((()=>{})),i.adFetchResult=s,i.container.style.hidden=!0,i.adCover.hide(),r?Mm.call(this,{stage:1005}):Mm.call(this,{stage:1006}),i.pageType===Hy.ENDPAGE?i.pageContainer.style.hidden=!0:i.pageType===Hy.ENDMODAL?(i.pageHandler.style.hidden=!0,i.pageCardBody.style.hidden=!0,i.pageMask.style.hidden=!0,i.pageCardTip.style.hidden=!0,a.style.padding=8,a.style.paddingBottom=16):i.pageType||(i.defaultPageContainer.style.hidden=!0),i.pageHandler.style.hidden=!0,dv.call(this,{isClose:!0}),db.isAndroid&&i.adProxy.setInnerAudioOption(!0).catch((()=>{})),Object.keys(i.videoElems))){var d=Number(l);if(0!==d){var c=i.videoElems[l];delete i.videoElems[l],c.style.hidden=!0,Ty.call(this,c,d),i.videoContainer.remove(c)}}i.video.style.hidden=!1,Jv.call(this),Dm.call(this),Qv.call(this),i.multiVideoCounter=0,i.globalCountDownCounter=0,i.slideFrozen=!1,i.showTipsTimer&&clearTimeout(i.showTipsTimer),i.exposureTimer&&clearTimeout(i.exposureTimer),i.updateScreenInfoTimer&&clearTimeout(i.updateScreenInfoTimer),i.layoutTimer&&clearTimeout(i.layoutTimer),i.rewardPageTimer&&clearTimeout(i.rewardPageTimer),i.reportDurationTimer&&clearTimeout(i.reportDurationTimer),i.pageType=0,i.imgBaseName="",Ty.call(this,i.video,0),rm("show",i.adType,0),rm("close",i.adType,+new Date)}}));return function(){return e.apply(this,arguments)}}(),qb=function(){var e=b()((function*(e=0){if(ex.call(this))throw{errMsg:Nb};var t=Eb(this);if(ey.call(this)||ty.call(this))return DE.call(this,e);S_.call(this)?t.playableEnded||tE.call(this):(Nm.call(this,{playType:oy.call(this)?"complete":"partial",conditionType:"close"}),i_.call(this,ui.REWARDED_VIDEO_FEED_CLOSE,{is_rewarded:t.isRewarded,total_duration:lx.call(this)})),t.isVideoCalledPlay&&yy.call(this,"pause"),1!==e?[2,3].includes(e)?yield Promise.all([Fb.call(this),Yb.call(this,e)]):(yield t.container.animate({top:db.screenHeight,duration:500}),yield Fb.call(this),yield Yb.call(this)):yield Yb.call(this)}));return function(){return e.apply(this,arguments)}}(),Xb=function(){if(!ex.call(this)){var e=Eb(this);if(py.call(this),Jv.call(this),Dm.call(this),e.isRewarded)qb.call(this),Lm.call(this,{button:4});else{e.isDialogOpened=!0;var t=S_.call(this)?"暂未获得奖励\n是否继续试玩":"暂未获得奖励\n是否继续观看视频";e.dialogContainer.style.hidden=!1,e.dialogTitle.value=t,yy.call(this,"pause"),Wv.call(this)?e.multiVideoInfo.isPause[e.adProxy.adDataIndex]=!0:e.isPause=!0}}},Kb=function(e={}){if(!ex.call(this)){var t,i=Eb(this);if(i.notReportExit=!0,i.landingCount+=1,i.landingCount>1)i.adProxy.reportRepeatClick({slotId:_b,costType:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,clkCnt:i.landingCount,lastClkPeriod:+new Date-i.lastLandingTime,retCode:i.lastJsapiStatus,costTime:i.lastJsapiCostTime,pageStayTime:i.landingPageCostTime,jsapiName:i.lastJsapiName});i.lastLandingTime=+new Date,i.lastJsapiStatus=2,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0;var a=i.data.product_type===Ii.WE_CHAT&&e&&e.isButton&&!i.adProxy.data.biz_info.is_subscribed;e.isAddContact=a;var n=i.adProxy.land(e),o=Pv.call(this);if(i.data.product_type===Ii.WE_CHAT&&e&&e.isButton&&!i.adProxy.data.biz_info.is_subscribed?(n.then((e=>{var t,a,n=/ok/.test(e.errMsg);n&&(0===i.buttonTextType&&(i.button.value="查看公众号",y_.call(this),Ry.call(this,Mt.CHANGEADBTNTEXT,{text:"查看公众号"})),i.data.flooringPage&&i.pageType===Hy.ENDPAGE&&0===i.buttonTextType?i.pageButton.value="查看公众号":i.data.flooringPage&&i.pageType===Hy.ENDMODAL&&0===i.buttonTextType?i.pageCardButton.value="查看公众号":i.pageType||(i.defaultPageButton.value="查看公众号"),i.expandCardButton.value="查看公众号",i.adProxy.data.biz_info&&(i.adProxy.data.biz_info.is_subscribed=1),i.adProxy.reportAdIDKey({key:ui.REWARDED_VIDEO_FOLLOW_SUCCESS})),e.errMsg&&(i.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var o,r=+new Date;(i.lastJsapiStatus=0,i.lastJsapiCostTime=r-i.lastLandingTime,"private_addContact"===i.lastJsapiName)&&i.adProxy.reportLandingTime({slotId:_b,costType:null!==(o=i.adProxy.data)&&void 0!==o&&o.is_cpm?1:2,openTime:i.lastLandingTime,closeTime:r,stayTime:i.lastJsapiCostTime,jsapiName:i.lastJsapiName,clickTime:i.lastLandingTime,clkCnt:i.landingCount,retCode:i.lastJsapiStatus,costTime:i.lastJsapiCostTime,actTypeInt:n?2:3,actTypeStr:n?"关注":"取消"});db.isWaGame||!db.isAndroid||ty.call(this)||setTimeout((()=>{i.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),i.container.forceUpdate()}),250);try{var s,l,d=Boolean((null===(s=i.data)||void 0===s||null===(l=s.condition)||void 0===l?void 0:l.widget_gray_rewarded_video_effect_guide_level2)&&n&&!i.adProxy.isDuplicateRecommendedAds);SE.call(this,d)}catch(e){}(null===(t=i.data)||void 0===t||null===(a=t.condition)||void 0===a?void 0:a.widget_gray_land_after_addContact)&&n&&Kb.call(this,{isButton:!0})})).catch((()=>{i.lastJsapiStatus=1})),Vm.call(this,n)):(i.flooringPageCloseTime=(new Date).getTime(),n.then((e=>{e.errMsg&&(i.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===i.lastJsapiName||"navigateToMiniProgram"===i.lastJsapiName||"openADCanvas"===i.lastJsapiName||"launchApplication"===i.lastJsapiName?(i.isLandingPage=!0,i.isPlayBackgroundSupported&&(i.videoMutedStatus=o.muted,t_.call(this,"muted",!0)),py.call(this),i.flooringPageIsShow&&(cv.call(this,{type:3,staytime:i.flooringPageCloseTime-i.flooringPageShowTime,componentsstartstr:JSON.stringify(i.flooringPageState)}),i.flooringPageShowTime=0,i.flooringPageCloseTime=0,sv.call(this))):i.lastJsapiStatus=0,i.lastJsapiCostTime=+new Date-i.lastLandingTime})).catch((()=>{i.lastJsapiStatus=1}))),ey.call(this)||ty.call(this)){setTimeout((()=>{i.notReportExit=!1}),1e3);var r=Nm.call(this,{playType:ny.call(this)?"partial":"complete",conditionType:"land"});bb(r,"激励视频","跳转落地页")}return n}},Jb=function(){if(!ex.call(this)){var e=Eb(this),{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;e.adProxy.getInstallState(t).then((t=>{if(t.isInstalled&&(void 0===t.versionCode||t.versionCode>=i)){e.adProxy.setAppInstallState(!0),e.androidAppState=4;try{var n,o,r=Boolean((null===(n=e.data)||void 0===n||null===(o=n.condition)||void 0===o?void 0:o.widget_gray_rewarded_video_effect_guide_level2)&&!e.adProxy.isDuplicateRecommendedAds);SE.call(this,r)}catch(e){}if(e.button&&a&&a.trim().length>0){if(e.button.value="进入应用",e.pageCardButton.value="进入应用",e.pageButton.value="进入应用",e.defaultPageButton.value="进入应用",e.expandCardButton.value="进入应用",Ry.call(this,Mt.CHANGEADBTNTEXT,{text:"进入应用"}),1===e.buttonTextType){var s=e.data.button_action.button_text;e.button.value=s,e.pageCardButton.value=s,e.pageButton.value=s,e.defaultPageButton.value=s,e.expandCardButton.value=s,Ry.call(this,Mt.CHANGEADBTNTEXT,{text:s})}y_.call(this)}if(e.adProxy.isValidCondition("widget_gray_video_download_v2")&&e.downloadButtonText&&a&&a.trim().length>0){if(e.downloadButtonText.value="进入应用",e.downloadProgressText.value="进入应用",1===e.buttonTextType){var l=e.data.button_action.button_text;e.downloadButtonText.value=l,e.downloadProgressText.value=l}if(e.pageType===Hy.ENDPAGE&&(e.pageDownloadButtonText.value="进入应用",e.pageDownloadProgressText.value="进入应用",1===e.buttonTextType)){var d=e.data.button_action.button_text;e.pageDownloadButtonText.value=d,e.pageDownloadProgressText.value=d}y_.call(this)}}else e.adProxy.isValidCondition("widget_gray_video_download_v2")&&4===e.androidAppState&&(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadProgressText.value=e.data.button_action.button_text,y_.call(this),e.pageType===Hy.ENDPAGE&&(e.pageDownloadButtonText.value=e.data.button_action.button_text,e.pageDownloadProgressText.value=e.data.button_action.button_text),e.androidAppState=0)})).catch((()=>{}))}},Zb=function(){var e,t=Eb(this),i=db.isWaGame?"count":`count_${t.adProxy.getWebviewInfo().currentWebviewId}`,a=sm(i,t.adType)||0;t.touchWatcher.destroy(),t.adTemplate.destroy(),rm(i,t.adType,a>0?a-1:0),JE(t.onShow),ZE(t.onHide),eb(t.onBeforeHide),t.emitter.off("_error"),t.emitter.off("load"),t.emitter.off("close"),ub.remove(t.container);var n=Zm.call(this);t.adProxy.reportDestroyBehavior({costType:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,isGame:db.isWaGame?1:0,videoDuration:n.duration,destroyTime:Date.now(),playStartTime:t.videoFirstPlayTime,playDuration:t.currentTime,isEnded:t.isEnded?1:0,isAdClk:t.lastLandingTime>0?1:0,adClkTime:t.lastLandingTime,isAdLandPage:t.lastLandingTime>0?1:0,adLandpageTime:t.lastLandingTime,isShowStatus:t.isShowed?1:0,isVisible:t.isVisible?1:0,isOnLandpage:t.isLandingPage?1:0}),fb(this)},Qb=function(){if(!ex.call(this)){var e=Eb(this),t=Promise.resolve();e.isShowed&&(t=Fb.call(this).then((()=>{e.adCover.hide(),db.isAndroid&&e.adProxy.setInnerAudioOption(!0).catch((()=>{})),rm("show",e.adType,0),rm("close",e.adType,+new Date)}))),t.then((()=>{Zb.call(this)})).catch((()=>{Zb.call(this)})),this._destroyed=!0}},ex=function(){return this._destroyed},tx=function(){var e=Eb(this);return ty.call(this)||(e.container.style.hidden=!1,e.container.style.top=0,e.adCover.show()),e.rewardPageLanding=!0,e.container.nextLayout().then((()=>ex.call(this)?Promise.reject({errMsg:Nb}):(Wb.call(this).then((()=>{db.isWaGame||(e.isFullscreen=!0)})).catch((t=>{e.adProxy.reportAdMonitorData(ui.REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR,t)})),Kb.call(this)))).then((t=>{if(e.rewardPageLanding=!1,ty.call(this)){t?e.adProxy.reportAdMonitorData(ui.REWARD_CHANNELS_CALLBACK_SUCCESS,t):e.adProxy.reportAdMonitorData(ui.REWARD_CHANNELS_CALLBACK_FAILED);var{rewardedDuration:i,feedbackInfo:a}=t||{},n=null!=i&&i>=15;e.isEnded=n,e.isRewarded=n,qb.call(this),Lm.call(this,{button:n?4:1}),CE.call(this,a)}})).catch((t=>{throw e.rewardPageLanding=!1,rm("show",e.adType,0),t}))},ix=function(){if(!ex.call(this)){var e=Eb(this),{rerankingExtInfo:t}=e.adProxy.data,i=null==t?void 0:t.reward_value_prob,a=null==t?void 0:t.share_value_prob;void 0!==i&&void 0!==a?(e.emitter.emit("load",{rewardValue:i,shareValue:a}),e.adProxy.reportAdMonitorData(ui.REWARDEDVIDEO_SHARE_VALUE)):e.emitter.emit("load")}},ax=function(e){var t,i;if(!ex.call(this)){var a=Eb(this),n=!a.pageType&&(null===(t=a.data)||void 0===t||null===(i=t.card)||void 0===i?void 0:i.headBgImg);(a.pageType||n)&&(a.sound.style.hidden=!e,a.splitLine.style.hidden=!e,Fv.call(this)?(a.feedCardContainer.style.hidden=!e,a.sound.style.hidden=!0,a.splitLine.style.hidden=!0):Jm.call(this)?a.expandCardContainer.style.hidden=!e:(a.cardContainer.style.hidden=!e,a.cardContainer.style.opacity=1),e?(a.pageContainer.style.hidden=!0,a.pageHandler.style.hidden=!0,a.pageMask.style.hidden=!0,a.pageCardBody.style.hidden=!0,a.pageCardTip.style.hidden=!0,a.defaultPageContainer.style.hidden=!0):a.pageType===Hy.ENDPAGE?(a.pageContainer.style.hidden=!1,a.pageHandler.style.hidden=!1,a.pageMask.style.hidden=!1):a.pageType===Hy.ENDMODAL?(a.pageHandler.style.hidden=!1,a.pageMask.style.hidden=!1,a.pageCardBody.style.hidden=!1,a.pageCardTip.style.hidden=!1):n&&(a.defaultPageContainer.style.hidden=!1)),Lv.call(this,e)}},nx=function(){var e=Eb(this);ex.call(this)||(e.isVisible=!1)},ox=function(){var e=Eb(this);if(!ex.call(this)){if(e.isVisible=!1,e.hideTime=+new Date,ey.call(this)&&e.isShowed){var t=e.adProxy.checkCanvasXmlState();return!t&&!e.isShowedExposureReported&&kE.call(this,"showed"),!t&&!e.isViewableExposureReported&&kE.call(this,"viewable")}if(Dm.call(this),Jv.call(this),!e.notReportExit&&e.isShowed){py.call(this);var i=Nm.call(this,{playType:ny.call(this)?"partial":"complete",conditionType:"exit"});bb(i,"激励视频","退出小游戏"),e.flooringPageIsShow&&(e.flooringPageCloseTime=(new Date).getTime(),cv.call(this,{type:6,staytime:e.flooringPageCloseTime-e.flooringPageShowTime,componentsstartstr:JSON.stringify(e.flooringPageState)}),e.flooringPageShowTime=0,e.flooringPageCloseTime=0,sv.call(this))}}},rx=function(){ex.call(this)||(cb(),Oy.call(this,Nt,{screenWidth:db.screenWidth,screenHeight:db.screenHeight,deviceOrientation:db.deviceOrientation}))},sx=function(){var e=Eb(this);if(!ex.call(this))if(e.isShowed&&(e.isVisible=!0),e.adProxy.setTimePoint("p11"),[Hy.PLAYABLE_H5].indexOf(e.pageType)>-1&&e.isLandingPlayablePage&&qb.call(this),ty.call(this)&&e.rewardPageLanding)setTimeout((()=>{e.rewardPageLanding&&(e.isEnded=!1,e.isRewarded=!1,qb.call(this))}),200);else{if(ey.call(this)&&e.isShowed&&!e.showDialogContainer)return e.rewardPageTimer&&clearTimeout(e.rewardPageTimer),e.rewardPageCostTime+=+new Date-e.hideTime-400,IE.call(this),setTimeout((()=>{e.lastJsapiStatus=0,e.isLandingPage=!1}),10),void(db.isWaGame||!db.isAndroid||ty.call(this)||(e.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),e.layoutTimer=setTimeout((()=>{e.container.forceUpdate()}),250)));ay.call(this)&&e.isShowed&&!oy.call(this)&&!ry.call(this)&&setTimeout((()=>{!e.isShowed||oy.call(this)||ry.call(this)||(yy.call(this,"play"),hy.call(this))}),1e3),e.isShowed&&Wv.call(this)&&(Kv.call(this),setTimeout((()=>{for(var t of Object.keys(e.videoElems)){var i=Number(t),a=e.videoElems[t];(i!==e.adProxy.adDataIndex||oy.call(this))&&(a.seek(e.multiVideoInfo.videoPosition[i]/1e3),a.pause())}}),500)),e.isShowed&&S_.call(this)&&e.playableLoaded&&Am.call(this,iE.call(this)),e.data&&e.data.product_type===Ii.WE_CHAT?e.adProxy.checkFollow(e.data.app.uin).then((t=>{ex.call(this)&&e.adProxy.reportAdMonitorData(ui.CHECK_FLOW_ERROR);var i=e.data.button_action.button_text;0===e.buttonTextType&&(e.button.value=t?"查看公众号":i,y_.call(this),Ry.call(this,Mt.CHANGEADBTNTEXT,{text:t?"查看公众号":i})),e.data.flooringPage&&e.pageType===Hy.ENDMODAL&&0===e.buttonTextType?e.pageCardButton.value=t?"查看公众号":i:e.data.flooringPage&&e.pageType===Hy.ENDPAGE&&0===e.buttonTextType?e.pageButton.value=t?"查看公众号":i:e.pageType||(e.defaultPageButton.value=t?"查看公众号":i),e.expandCardButton.value=t?"查看公众号":i,e.adProxy.data.biz_info&&(e.adProxy.data.biz_info.is_subscribed=t?1:0);try{var a,n,o=Boolean((null===(a=e.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_rewarded_video_effect_guide_level2)&&t&&!e.adProxy.isDuplicateRecommendedAds);SE.call(this,o)}catch(e){}})):e.data&&e.data.product_type===Ii.ANDROID&&Jb.call(this),e.showTime=+new Date,setTimeout((()=>{if(e.flooringPageIsShow&&(e.flooringPageShowTime=+new Date,uv.call(this)),e.isLandingPage){var t;e.lastJsapiStatus=0,e.isLandingPage=!1,e.landingPageCostTime=e.showTime-e.hideTime,e.isPlayBackgroundSupported&&!e.isEnded&&(e.video.muted=e.videoMutedStatus),e.adProxy.reportLandingTime({slotId:_b,costType:null!==(t=e.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,openTime:e.hideTime,closeTime:e.showTime,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.landingCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),db.isWaGame||!db.isAndroid||ty.call(this)||(e.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),e.layoutTimer=setTimeout((()=>{e.container.forceUpdate()}),250)),e.adProxy.setRightButtonHide(!0).catch((()=>{}));try{var i,a,n=Boolean((null===(i=e.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_effect_guide_level2)&&e.data.product_type===Ii.MINI_GAME);SE.call(this,n)}catch(e){}}}),10)}},lx=function(){var e=Eb(this);return ex.call(this)?{}:ey.call(this)||ty.call(this)?e.rewardPageCostTime:Wv.call(this)?e.multiVideoInfo.videoPosition.reduce(((e,t)=>e+t),0):e.currentTime},{publish:dx,subscribe:cx}=y,ux={},hx="onWxAdRewardedVideoEvent";!function(e){e.onError="rewardedVideoOnError",e.onClose="rewardedVideoOnClose",e.onShowSuccess="rewardedVideoOnShowSuccess",e.onShowFail="rewardedVideoOnShowFail"}(Mb||(Mb={})),cx("wxAdOperateRewardedVideo",((e={},t)=>{var{op:i,data:a,unitId:n,adCustomId:o}=e;if(n){var r=`${t}-${n}`,s=ux[r];if("create"===i){s&&s.destory();var l=new Lb({adUnitId:n,multiton:!0,requestType:ji});l.onLoad((()=>{}));var d=l.onError.bind(l),c=l.onClose.bind(l);d((e=>{dx(hx,{unitId:n,adCustomId:o,eventName:Mb.onError,data:{err:e}},[t])})),c((e=>{dx(hx,{unitId:n,adCustomId:o,eventName:Mb.onClose,data:{res:e}},[t])})),ux[r]=l}else"show"===i?s&&s.load().then((()=>{var e={};null!=a&&a.welfareData&&(e.welfareData=a.welfareData),s.show(e).then((e=>{dx(hx,{unitId:n,adCustomId:o,eventName:Mb.onShowSuccess,data:{res:e}},[t])})).catch((e=>{dx(hx,{unitId:n,adCustomId:o,eventName:Mb.onShowFail,data:{err:e}},[t])}))})).catch((e=>{dx(hx,{unitId:n,adCustomId:o,eventName:Mb.onShowFail,data:{err:e}},[t])})):"load"===i?s&&s.load():"destroy"===i&&s&&(s.destroy(),delete ux[r])}}));var px,fx,gx={container:{position:"absolute",hidden:!0,overflow:"hidden"},adFeedback:{hidden:!0,width:40,height:15,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2,color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:10},rectangle:{marginTop:2,marginRight:4,width:7.2,height:4.2},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},tag:{width:63,height:18,right:0,bottom:0,position:"absolute"},tagView:{hidden:!0,right:0,bottom:0,position:"absolute",flexDirection:"row"},tagBeforeContainer:{width:6,height:18,overflow:"hidden"},tagBefore:{width:12,height:24,borderRadius:6,backgroundColor:"rgba(0, 0, 0, 0.2)"},tagContent:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.2)"},tagMiniapp:{hidden:!0,width:11,height:12,marginRight:1},tagLabel:{height:18,lineHeight:18,color:"#ffffff",textAlign:"left",fontSize:11},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},mx={container:{flexDirection:"row",justifyContent:"space-between",position:"absolute",hidden:!0,overflow:"hidden",backgroundColor:"#ffffff"},appContainer:{flex:1,flexDirection:"column",backgroundColor:"#ffffff",alignItems:"center",paddingTop:12.5,paddingBottom:12.5},appIcon:{width:37,height:37,borderRadius:18.5},adFeedback:{hidden:!0,width:40,height:15,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2,color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:10},rectangle:{marginTop:2,marginRight:4,width:7.2,height:4.2},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:131,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:131,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},appName:{height:13,fontSize:11,lineHeight:13,color:"#888888",marginTop:5,marginBottom:15,textAlign:"center"},appButton:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadButton:{width:60,height:27,hidden:!0},downloadButtonText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},yx={1:function(e){var t=_x(e.id),i='<text id="{id}" value="{value}" bubble-event="true"></text>';i=Ex(i,"id",t),i=Ex(i,"value",e.content);var a={};return a[t]={position:"absolute",overflow:"hidden",left:e.left,top:e.top,width:e.width,height:e.height,fontSize:e.font_size,lineHeight:e.line_height,fontWeight:e.font_weight||"normal",color:e.font_color||"#000000",textAlign:e.align||"left",lineBreak:1===e.nowrap?"clip":"break-word"},{widgetTmpl:i,widgetStyle:a,scaleDoms:[t]}},2:function(e){var t=_x(e.id),i='<image id="{id}" src="{src}" bubble-event="true"></image>';i=Ex(i,"id",t),i=Ex(i,"src",e.image_url);var a={};return a[t]={position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height},{widgetTmpl:i,widgetStyle:a,scaleDoms:[t]}},3:function(){},4:function(e){var t='\n  <view id="downloadButton" click-state="true">\n    <text id="downloadButtonText" value="{value}" bubble-event="true"></text>\n    <text id="downloadProgress" bubble-event="true">\n      <text id="downloadProgressText" bubble-event="true"></text>\n    </text>\n  </view>\n  <text id="appButton" value="{value}" click-state="true"></text>\n';return{widgetTmpl:t=Ex(t,"value",e.title),widgetStyle:{appButton:{position:"absolute",textAlign:"center",left:e.left,top:e.top,width:e.width,height:e.height,lineHeight:e.height,fontSize:e.font_size,color:e.font_color||"#000000",fontWeight:e.font_weight||"normal",backgroundColor:e.background_color||"transparent",borderColor:e.border_color||"transparent",borderWidth:1,borderRadius:e.border_radius},downloadButton:{position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height,hidden:!0},downloadButtonText:{width:e.width,height:e.height,lineHeight:e.height,textAlign:"center",fontSize:e.font_size,color:e.font_color||"#04be02",borderWidth:1,borderColor:e.border_color||"#04be02",borderRadius:e.border_radius,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:e.width,height:e.height,lineHeight:e.height,textAlign:"center",fontSize:e.font_size,color:"#ffffff",borderWidth:1,borderColor:e.border_color||"#04be02",borderRadius:e.border_radius,backgroundColor:e.border_color||"#04be02"}},scaleDoms:["appButton","downloadButton","downloadButtonText","downloadProgress","downloadProgressText"]}},5:function(e,t){var i=_x(e.id),a=_x(e.id),n=_x(e.id),o='\n  <view id="{wrapId}" bubble-event="true">\n    <image id="{headerId}" src="{header}" bubble-event="true"></image>\n    <text id="{labelId}" value="{label}" bubble-event="true"></text>\n  </view>\n';o=Ex(o,"wrapId",i),o=Ex(o,"headerId",a),o=Ex(o,"header",e.head_url),o=Ex(o,"labelId",n),o=Ex(o,"label",e.nick_name);var r={},s=120/690*t.width;r[i]={position:"absolute",left:e.left,top:e.top,width:s,overflow:"hidden",flex:1,flexDirection:"column",alignItems:"center"};var l=70/690*t.width;r[a]={width:l,height:l,borderRadius:1===e.head_type?l/5:l/2,marginBottom:10/690*t.width};var d=24/690*t.width;return r[n]={fontSize:d,color:"#888888",width:s,height:d+5,lineHeight:d+5,textAlign:"center",lineBreak:"ellipsis"},{widgetTmpl:o,widgetStyle:r,scaleDoms:[i,a,n]}},6:function(e){var t=_x(e.id),i=_x(e.id),a=_x(e.id),n=_x(e.id),o=_x(e.id),r='\n  <view id="{tagViewId}" bubble-event="true">\n    <image id="{tagBeforeId}" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgm1whMrNszgO3SgLoE6tlNzpKQQm4ubB6PeOLWL30sIWR7Sfsiakp1Ouw/0?wx_fmt=png"></image>\n    <view id="{tagContentId}" bubble-event="true">\n      <image id="{tagMiniappId}" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgmCKiaGzo9XUvxlDiaibHqzSO9BqvH74E0m5ibptJHaMAxicKvxXmM4LjMicaA/0?wx_fmt=png"></image>\n      <text id="{tagLabelId}" value="{label}" bubble-event="true"></text>\n    </view>\n  </view>\n';r=Ex(r,"tagViewId",t),r=Ex(r,"tagBeforeId",i),r=Ex(r,"tagContentId",a),r=Ex(r,"tagMiniappId",n),r=Ex(r,"tagLabelId",o),r=Ex(r,"label",e.watermark_text);var s={};s[t]={right:0,bottom:0,position:"absolute",flexDirection:"row"},s[i]={width:14,height:18},s[a]={flexDirection:"row",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.6)"},s[n]={hidden:1===e.watermark_icon,width:11,height:12,marginRight:1},s[o]={width:11*e.watermark_text.length+6,height:18,lineHeight:18,color:"#ffffff",textAlign:"left",fontSize:11};return{widgetTmpl:r,widgetStyle:s,scaleDoms:[]}}},vx=1,_x=function(e){return["wdgt",e,vx+=1].join("__")},Ex=function(e,t,i){return e.replace(RegExp(`\\{${t}\\}`,"gi"),i)},bx={adFeedback:{width:46,height:15,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:12,"ios-portrait":{borderRadius:7},"ios-landscape":{borderRadius:7},"iphone x-portrait":{borderRadius:7},"iphone x-landscape":{borderRadius:7},color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:11,left:4,top:1.5,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5},position:"absolute"},rectangle:{top:7,left:32,width:7.2,height:4.2,position:"absolute"},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},{_showModal:xx,_onShow:wx,_onHide:Tx,_offShow:Cx,_offHide:Ax,touch:Dx,deviceInfo:Ix,Component:Sx,getPrivateThis:kx,removePrivateThis:Px,gametext:Rx,View:Ox}=y,Nx=1,Lx=2,Mx=3,Bx=4,Vx=5,Wx=e=>kx(e),Fx=()=>{if(!fx){var{root:e}=w()('\n  <view id="container" click-state="false">\n    <image id="image" bubble-event="true">\n        <view id="ad-feedback" click-state="true">\n            <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n            <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n            <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n        </view>\n        <view id="ad-feedback-list">\n          <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n          <text id="ad-close-btn" click-state="true" value="关闭"></text>\n          <view id="ad-close-btn-line-dislike"></view>\n          <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n          <view id="ad-close-btn-line-affect"></view>\n          <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n        </view>\n        <view id="ad-feedback-menu">\n          <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n          <view id="ad-close-btn-line"></view>\n          <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n          <view id="ad-close-btn-line0"></view>\n          <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n        </view>\n    </image>\n    <view id="app-container" bubble-event="true">\n      <image id="app-icon" bubble-event="true"></image>\n      <text id="app-name" bubble-event="true"></text>\n      <view id="download-button" click-state="true">\n        <text id="download-button-text" bubble-event="true"></text>\n        <text id="download-progress" bubble-event="true">\n          <text id="download-progress-text" bubble-event="true"></text>\n        </text>\n      </view>\n      <text id="app-button" click-state="true"></text>\n    </view>\n    <view id="ad-close-tip">\n      <view id="ad-close-tip-wrap">\n        <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n        <view id="ad-close-tip-text" bubble-event="true">\n          <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n          <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n        </view>\n      </view>\n    </view>\n  </view>\n');fx=e}return fx},Hx=I,Ux=P,Gx=k,zx={},jx=[],$x=[];D.onReady((()=>{Ix.isWaGame&&(Dx.onTouchStart((e=>{var t;(null==e||null===(t=e.changedTouches)||void 0===t?void 0:t.length)>0&&((zx={}).touchStartPosX=Math.round(e.changedTouches[0].clientX),zx.touchStartPosY=Math.round(e.changedTouches[0].clientY),zx.touchEndPosX=0,zx.touchEndPosY=0,zx.touchStartTime=+new Date,zx.touchInterval=0)})),Dx.onTouchEnd((e=>{var t;if((null==e||null===(t=e.changedTouches)||void 0===t?void 0:t.length)>0){var i;zx.touchEndPosX=Math.round(e.changedTouches[0].clientX),zx.touchEndPosY=Math.round(e.changedTouches[0].clientY);var a=(null===(i=zx)||void 0===i?void 0:i.touchStartTime)||0;zx.touchInterval=+new Date-a,jx.length>=10&&jx.shift(),jx.push(zx)}})))}));var Yx=1e3,qx=1,Xx=2,Kx=3,Jx=function(){var e=b()((function*(){var e=Wx(this);if(!Lw.call(this)&&e.data)try{var t;e.tmplContainer||(e.tmplContainer=new Ox({name:"bannerTemplContainer"})),Eo.children[e.tmplContainer.id]||Eo.add(e.tmplContainer);var{left:i,top:a}=this.style,{inner:n,scale:o}=Dw.call(this),r=o,s=(r=r<.8?.8:r)*(347/120/(960/334));e.tmplContainer.style.position="absolute",e.tmplContainer.style.top=a,e.tmplContainer.style.left=i,e.tmplContainer.style.width=n.width,e.tmplContainer.style.height=n.height,e.tmplContainer.style.hidden=!0;var l=192*n.width/345,d=108*n.height/120,c=123*n.width/345;yield e.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:Ix.screenWidth,screenHeight:Ix.screenHeight,deviceOrientation:Ix.deviceOrientation,platform:k?"android":"ios",hostEnv:"minigame"},hostContainer:e.tmplContainer,template:e.data.template,adData:e.adProxy.data,adCustomId:"BANNER",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0},extraScope:{private:e,adMaterialWidth:l,adMaterialHeight:d,adWordingWidth:c,feedbackScale:s},ref:t=>{e.adTemplateRef=t,t.onEvent(e.handleAdTemplateEvent)}}),e.data.product_type===Ii.ANDROID&&(e.adProxy.setAppInstallState(!1),yw.call(this)),e.adProxy.preloadLanding(),e.emitter.emit("load"),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.emitter.emit("ready")}catch(t){e.emitter.emit("_error",{errMsg:"banner render failed (internal)"})}}));return function(){return e.apply(this,arguments)}}(),Zx=function(){var e=b()((function*(){var e=Wx(this);!Lw.call(this)&&e.adTemplateRef&&(yield e.adTemplateRef.update({systemInfo:{screenWidth:Ix.screenWidth,screenHeight:Ix.screenHeight,deviceOrientation:Ix.deviceOrientation,platform:k?"android":"ios",hostEnv:"minigame"}}))}));return function(){return e.apply(this,arguments)}}(),Qx=function(){var e=b()((function*(){var e;if(Lw.call(this))throw{errMsg:Mw};var t=Wx(this);t.tmplContainer&&(t.tmplContainer.style.hidden=!1),yield Zx.call(this),yield null===(e=t.adTemplateRef)||void 0===e?void 0:e.show()}));return function(){return e.apply(this,arguments)}}(),ew=function(){var e=b()((function*(){if(!Lw.call(this)){var e=Wx(this);if(e.adTemplateRef){e.tmplContainer&&(e.tmplContainer.style.hidden=!0);try{var t;e.adTemplateRef.hide(),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.isClosed=!1}catch(t){e.isClosed=!1}}}}));return function(){return e.apply(this,arguments)}}(),tw=function(){var e=b()((function*(){var e,t,i=Wx(this);null===(e=i.adTemplateRef)||void 0===e||e.offEvent(i.handleAdTemplateEvent),null===(t=i.adTemplateRef)||void 0===t||t.hide(),yield i.adTemplate.unmount({hostContainer:i.tmplContainer}),Eo.remove(i.tmplContainer),i.tmplContainer=null}));return function(){return e.apply(this,arguments)}}(),iw=function(e){var t=Wx(this);if(!Lw.call(this)&&t.data&&t.adTemplateRef)switch(e.action){case ou.TRIGGEREVENT:["error"].includes(e.value.eventName)&&t.emitter.emit(e.value.eventName,e.value.detail||{});break;case ou.HIDEAD:break;case ou.ADSHOWHALF:t.isShow=!0;break;case ou.ADHIDEHALF:t.isShow=!1;break;case ou.CHECKEXPOSURE:Aw.call(this);break;case ou.FEEDBACKREPORT:if(bw.call(this,e.value),"secondGradeId"in e.value){var{secondGradeId:i,secondGradeDesc:a,feedbackReason:n}=e.value;Ew.call(this,i,a,n)}break;case ou.TEMPLATEMESSAGE:var o;"posClick"===e.value.message&&null!==(o=e.value.actionArgs)&&void 0!==o&&o.event&&aw.call(this,e.value.actionArgs.event);break;default:t.adProxy.handleAdTemplateEvent(e)}},aw=function(){var e=b()((function*(e){lw.call(this,e,!1)&&(yield cw.call(this,e))}));return function(t){return e.apply(this,arguments)}}(),nw=function(){var e,t=Wx(this);return null!==(e=t.data)&&void 0!==e&&e.useTemplate?t.tmplContainer:t.container},ow=function({type:e}){return vw.call(this).then((()=>{var t,i,a=Wx(this),n=nw.call(this);if(null!=n&&n.layoutBox){var{left:o,top:r}=n.layoutBox;return a.adProxy.reportAbnormalDetect({slotid:"8040321819858439",ScreenHeight:Ix.screenHeight,ScreenWidth:Ix.screenWidth,PageY:r,PageX:o,costtype:null!=a&&null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2,TimeMs:+new Date,type:e})}}))},rw=function({type:e}){return vw.call(this).then((()=>{var t=Wx(this),i=nw.call(this);if(null!=i&&i.layoutBox&&t.isNeedShowReport){var a,n,{left:o,top:r,width:s,height:l}=i.layoutBox;return t.adProxy.reportBannerShowAction({slotid:8040321819858439,costtype:null!=t&&null!==(a=t.adProxy)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.is_cpm?1:2,isGame:Ix.isWaGame?1:0,type:e,TimeMs:+new Date,PageX:o,PageY:r,screenX:o,screenY:r,adWidth:s,adHeight:l,ScreenWidth:Ix.screenWidth,ScreenHeight:Ix.screenHeight})}}))},sw=function(){return Math.random()<.05},lw=function(e,t=!0){var i=Wx(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&ww.call(this,e,a),i},dw=function(e){var t=Wx(this),i=nw.call(this);if(null==i||!i.layoutBox)return!0;var a,n,{left:o,top:r,width:s,height:l}=i.layoutBox,d=!1,c=0;t.adProxy.isValidCondition("widget_gray_time_limit")&&(c=100*((null===(a=t.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_time_limit)||1));c>0&&+new Date-t.showedExposureTime<c&&(d=!0,t.adProxy.reportAdMonitorData(48));var u,h=0;t.adProxy.isValidCondition("widget_gray_banner_limit_click")&&(h=100*((null===(u=t.data)||void 0===u?void 0:u.condition.widget_gray_banner_limit_click)||5));h>0&&+new Date-t.lastShowTime<h&&(d=!0,t.adProxy.reportAdMonitorData(155));var p,f=0;t.adProxy.isValidCondition("widget_gray_bd_limit")&&(f=(null===(p=t.data)||void 0===p?void 0:p.condition.widget_gray_bd_limit)||10);return e&&f>0&&(e.absoluteEndX-o<f||o+s-e.absoluteEndX<f||e.absoluteEndY-r<f||r+l-e.absoluteEndY<f)&&(d=!0,t.adProxy.reportAdMonitorData(47)),d},cw=function(e,t={}){var i=Wx(this),{antifraudPopup:a}=i.data;if(i.clickTime=Date.now(),a)return uw.call(this,e,t);hw.call(this,e,t)},uw=function(e,t={}){var i=Wx(this);Rw.call(this),xx({content:"即将打开广告详情页",confirmText:"打开",success:a=>{a.confirm?(hw.call(this,e,t,1),Tw.call(this,e,{buttonType:1,buttonTime:Date.now()}),i.adProxy.reportAdMonitorData(176)):a.cancel&&(Cw.call(this,e,2),Tw.call(this,e,{buttonType:2,buttonTime:Date.now()}),Pw.call(this),i.adProxy.reportAdMonitorData(177)),i.adProxy.reportAdMonitorData(174)},fail:()=>{hw.call(this,e,t),Tw.call(this,e,{buttonType:0,buttonTime:Date.now()}),i.adProxy.reportAdMonitorData(175)}})},hw=function(e,t={},i=0){var a=Wx(this),{product_type:n,button_action:{jump_type:o}}=a.data;Ux&&46===n&&6===o?Promise.race([Cw.call(this,e,i),M(500)]).then((()=>{Iw.call(this,t)})).catch((()=>{Iw.call(this,t)})):(Cw.call(this,e,i),Iw.call(this,t))},pw=function(){var e=Wx(this),{scale:t}=Dw.call(this),{crt_size:i,useStyleData:a,ad_style_data:n,dest_type:o,product_type:r}=e.data;if(a){var{template:s,style:l,scaleDoms:d}=function(e){var t="",i={container:{hidden:!0,position:"absolute",overflow:"hidden",backgroundColor:e.background_color||"#FFFFFF",width:e.width,height:e.height}},a=[];return t+='<view id="container" click-state="false">',e.widgets.forEach(((n,o)=>{var r=yx[n.type];if(r){var{widgetTmpl:s,widgetStyle:l,scaleDoms:d}=r(n,o,e);t+=s,i=Object.assign(i,l),a=a.concat(d)}})),t+='\n  <view id="adFeedback" click-state="true">\n    <text id="adText" value="广告" click-state="true" bubble-event="true"></text>\n    <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n    <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <text id="ad-close-btn" click-state="true" value="关闭"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    <view id="ad-close-btn-line-affect"></view>\n    <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line0"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n  <view id="ad-close-tip">\n    <view id="ad-close-tip-wrap">\n      <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n      <view id="ad-close-tip-text" bubble-event="true">\n        <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n        <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n      </view>\n    </view>\n  </view>\n',i=Object.assign(i,bx),{template:t+="</view>",style:i,scaleDoms:a}}(n),{root:c}=w()(s);Sp.call(this,c,l),e.scaleDoms=d,e.scaleDoms.forEach((i=>{e[i].style.scale=t})),e.appButton&&([12,19].indexOf(r)>-1?gw.call(this):e.appButton.on("click",(e=>{if(lw.call(this,e)&&!dw.call(this,e))return cw.call(this,e,{isButton:!0})}))),e.container.on("click",(e=>{if(lw.call(this,e)&&!dw.call(this,e))return cw.call(this,e)}))}else if([532,608,567].indexOf(i)>-1){Sp.call(this,(()=>{if(!px){var{root:e}=w()('\n  <image id="container" click-state="false">\n    <view id="ad-feedback" click-state="true">\n        <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n        <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n    </view>\n    <view id="ad-feedback-list">\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <text id="ad-close-btn" click-state="true" value="关闭"></text>\n      <view id="ad-close-btn-line-dislike"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n      <view id="ad-close-btn-line-affect"></view>\n      <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line0"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n    <image id="tag" bubble-event="true"></image>\n    <view id="tagView" bubble-event="true">\n      <view id="tagBeforeContainer">\n        <view id="tagBefore" bubble-event="true"></view>\n      </view>\n      <view id="tagContent" bubble-event="true">\n        <image id="tagMiniapp" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/mini_program_v2.png"></image>\n        <text id="tagLabel" value="" bubble-event="true"></text>\n      </view>\n    </view>\n    <view id="ad-close-tip">\n      <view id="ad-close-tip-wrap">\n        <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n        <view id="ad-close-tip-text" bubble-event="true">\n          <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n          <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n        </view>\n      </view>\n    </view>\n  </image>\n');px=e}return px})(),gx);var{image:{src:u},watermark_text:h}=e.data;e.container.src=u,e.tag.style.hidden=!0,e.tagView.style.hidden=!1,e.tagLabel.value=h,e.tagLabel.style.width=11*e.data.watermark_text.length+6,6===e.adProxy.data.dest_type&&(e.tagMiniapp.style.hidden=!1),12===r&&(e.adProxy.setAppInstallState(!1),yw.call(this)),e.container.on("click",(e=>{if(lw.call(this,e)&&!dw.call(this,e)){var t=3===o?{toOfficalAccountDetail:!0}:{};return cw.call(this,e,t)}}))}else if(556===i){if([12,19].indexOf(r)>-1){Sp.call(this,Fx(),mx);var{width:p,image:{src:f,width:g},appInfo:{appName:m,iconUrl:y}}=e.data;e.image.style.width=239,e.image.style.height=120,e.image.src=f,e.appIcon.src=y,e.appName.value=B(m,16),p&&(e.appName.style.width=p-g),e.image.style.scale=t,e.appContainer.style.scale=t,e.appIcon.style.scale=t,e.appIcon.style.borderRadius=4,e.appName.style.scale=t,e.downloadButtonText.style.scale=t,e.downloadProgress.style.scale=t,e.downloadProgressText.style.scale=t,e.downloadButton.style.scale=t,gw.call(this)}else{Sp.call(this,Fx(),mx);var{width:v,image:{src:_,width:E},app:{icon:b,isFollowed:x,nickname:T},button_action:C}=e.data;e.image.style.width=239,e.image.style.height=120,e.image.src=_,e.appIcon.src=b,e.appName.value=B(T,16),v&&(e.appName.style.width=v-E),e.image.style.scale=t,e.appContainer.style.scale=t,e.appIcon.style.scale=t,e.appName.style.scale=t,e.appButton.style.scale=t,e.appButton.value=23===r&&x?"查看":C.button_text,e.appButton.on("click",(e=>{lw.call(this,e)&&(dw.call(this,e)||(Cw.call(this,e),Rw.call(this),Iw.call(this,{isButton:!0})))}))}e.container.on("click",(e=>{if(lw.call(this,e)&&!dw.call(this,e))return cw.call(this,e)}))}e.container||e.adProxy.reportAdMonitorData(7)},fw=function(){var e=b()((function*(){var e=Wx(this);if(Lw.call(this)||!e.data)return Promise.resolve();try{var{left:t,top:i}=this.style,{inner:a}=Dw.call(this),{useTemplate:n}=e.data;if(n)return void(yield Jx.call(this));pw.call(this),e.adFeedback.style.hidden=!1,e.adFeedback.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||bw.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adProxy.openFeedbackUrl(1002),e.adFeedbackList.style.hidden=!0,bw.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}))})),e.adCloseBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,Ew.call(this))})),e.adDislikeBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,Ew.call(this,2,"不感兴趣"))})),e.adQualityBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ew.call(this,2,"不感兴趣",4))})),e.adDuplicateBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ew.call(this,2,"不感兴趣",5))})),e.adDismatchBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ew.call(this,2,"不感兴趣",1))})),e.adAffectBtn.on("click",(t=>{lw.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,Ew.call(this,3,"影响操作"))})),e.adProxy.isValidCondition("widget_gray_close_v2")?(e.adCloseBtnLineDislike.style.hidden=!1,e.adCloseBtnLineAffect.style.hidden=!1,e.adDislikeBtn.style.hidden=!1,e.adAffectBtn.style.hidden=!1,e.rectangle.style.hidden=!1,e.rectangleClose.style.hidden=!0,e.adCloseBtn.style.hidden=!0,_w.call(this)):(e.adFeedbackList.style.height=64,e.adCloseBtnLine.style.hidden=!1,e.adCloseBtn.style.hidden=!1),e.adProxy.preloadLanding(),e.container.style.left=t,e.container.style.top=i,e.container.style.width=a.width,e.container.style.height=a.height,e.adCloseTip.style.width=a.width,e.adCloseTip.style.height=a.height,Eo.add(e.container),e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})).then((()=>{ow.call(this,{type:1})}))}catch(t){return e.adProxy.reportAdMonitorData(6,t),Promise.reject({})}}));return function(){return e.apply(this,arguments)}}(),gw=function(){var e=Wx(this),{appInfo:{appName:t,apkName:i,apkUrl:a,appMd5:n,urlScheme:o}}=e.data;e.downloadButton.style.hidden=!1,e.appButton.style.hidden=!0,Ux?(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadButton.on("click",(e=>{if(lw.call(this,e)&&!dw.call(this,e))return cw.call(this,e,{isButton:!0})}))):Gx&&(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadProgressText.value=e.data.button_action.button_text,yw.call(this),e.downloadButton.on("click",(r=>{if(lw.call(this,r)&&!dw.call(this,r)){Cw.call(this,r);var s,l,{aid:d,traceid:c,apurl:u}=e.adProxy.data,h=0,p="";if(e.landingCount+=1,e.lastLandingTime=+new Date,e.lastJsapiStatus=0,e.lastJsapiCostTime=0,4===e.androidAppState)e.adProxy.launchApplication(o,e.adProxy.data).catch((()=>{})),e.lastJsapiName="launchApplication",e.isLandingPage=!0;else if(0===e.androidAppState){var f=[d,c,i.replace(/./g,"_"),0,20,u.indexOf("ad.wx.com")>-1?1:0].join(".");e.adProxy.addDownloadTaskStraight(t,a,n,f).then((t=>{Rw.call(this),e.androidDownloadId=t.downloadId,setTimeout(mw.bind(this),Yx)})).catch((()=>{Iw.call(this,{isButton:!0})})),e.lastJsapiName="addDownloadTaskStraight",h=4,p="下载"}else e.androidAppState===qx?(e.adProxy.pauseDownloadTask(e.androidDownloadId).catch((()=>{})),e.downloadButtonText.value="继续",e.downloadProgressText.value="继续",e.androidAppState=Xx,e.lastJsapiName="pauseDownloadTask",h=5,p="暂停"):e.androidAppState===Xx?(e.adProxy.resumeDownloadTask(e.androidDownloadId).then((()=>{setTimeout(mw.bind(this),Yx)})).catch((()=>{})),e.downloadButtonText.value="暂停",e.downloadProgressText.value="暂停",e.androidAppState=qx,e.lastJsapiName="resumeDownloadTask",h=6,p="继续"):e.androidAppState===Kx&&(e.adProxy.installDownloadTask(e.androidDownloadId).catch((()=>{})),e.lastJsapiName="installDownloadTask",h=7,p="安装");if(h>0)e.adProxy.reportLandingTime({slotId:8040321819858439,costType:null!==(s=e.adProxy)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.is_cpm?1:2,openTime:e.lastLandingTime,clickTime:e.lastLandingTime,clkCnt:e.landingCount,jsapiName:e.lastJsapiName,actTypeInt:h,actTypeStr:p})}})))},mw=function(e=3){var t=Wx(this);t.adProxy.queryDownloadTask(t.androidDownloadId).then((e=>{"download_succ"===e.state?(t.downloadButtonText.value="安装",t.downloadProgressText.value="安装",t.downloadProgress.style.width=t.downloadButton.style.width,t.androidAppState=Kx,Pw.call(this)):"downloading"===e.state?(t.downloadButtonText.value="暂停",t.downloadProgressText.value="暂停",t.downloadProgress.style.width=t.downloadButton.style.width*parseInt(e.progress,10)/100,t.androidAppState=qx):"download_fail"===e.state&&(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,t.downloadProgress.style.width=0,t.androidAppState=0,Pw.call(this)),"downloading"!==e.state&&"default"!==e.state||setTimeout(mw.bind(this),Yx)})).catch((()=>{if(e>0){var t=e-1;mw.call(this,t)}}))},yw=function(){var e=Wx(this),{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;e.adProxy.getInstallState(t).then((t=>{t.isInstalled&&(void 0===t.versionCode||t.versionCode>=i)&&(e.androidAppState=4,e.adProxy.setAppInstallState(!0),e.downloadButtonText&&(e.downloadButtonText.value="已安装",e.downloadProgressText.value="已安装",a&&a.trim().length>0&&(e.downloadButtonText.value="进入",e.downloadProgressText.value="进入")),e.tagLabel&&a&&a.trim().length>0&&(e.tagLabel.value="进入应用",e.tagLabel.style.width=50))})).catch((()=>{}))},vw=function(){return new Promise((e=>{var t=Wx(this);t.isReady?e():t.emitter.on("ready",e)}))},_w=function(){var e=Wx(this),{scale:t}=Dw.call(this);t=t<.8?.8:t;var i=347/120/(e.adProxy.data.ad_width/e.adProxy.data.ad_height);["adFeedbackBtn","adDislikeBtn","adAffectBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn"].forEach((a=>{e[a].style.height=32*t*i,e[a].style.lineHeight=32*t*i,e[a].style.fontSize=12*t*i})),e.adFeedbackList.style.height=98*t*i,e.adFeedbackMenu.style.height=98*t*i},Ew=function(e,t,i=0){var a=Wx(this);a.isClosed=!0,a.lastClosedAction="",a.closeAdTime=+new Date,e?(bw.call(this,{secondGradeId:e,secondGradeDesc:t,feedbackReason:i}),(2===e||i)&&M(2e3).then((()=>{this.hide(),a.emitter.emit("close")}))):(bw.call(this,{firstGradeId:0,firstGradeDesc:""}),this.hide(),a.emitter.emit("close"))},bw=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){var o=Wx(this),r=nw.call(this);if(null!=r&&r.layoutBox){var{left:s,top:l,width:d,height:c}=r.layoutBox;e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:Math.round(d),adHeight:Math.round(c),adPosX:Math.round(s),adPosY:Math.round(l),expTime:o.showedExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},xw=function(){var e=Wx(this),{left:t,top:i}=this.style,{inner:a,scale:n}=Dw.call(this),{crt_size:o,product_type:r,useStyleData:s}=e.data;Object.assign(e.container.style,a,{left:t,top:i});var l=[];return s?l=e.scaleDoms:[532,608,567].indexOf(o)>-1?l=[]:556===o&&23===r?l=["image","appContainer","appIcon","appName","appButton"]:556===o&&[12,19].indexOf(r)>-1&&(l=["image","appContainer","appIcon","appName","appButton","downloadButton","downloadButtonText","downloadProgress","downloadProgressText"]),l.forEach((t=>{e[t].style.scale=n})),_w.call(this),e.container.nextUpdate().then((()=>Promise.resolve()))},ww=function(e,t=0){var i,a,n=Wx(this),o=nw.call(this);if(!Lw.call(this)&&o&&o.layoutBox){var{width:r,height:s}=o.layoutBox,l=0;return[0,2,3].includes(t)&&(n.clickCount+=1,l=n.clickCount),n.adProxy.reportTouchClick({slotid:"8040321819858439",costtype:null!==(i=n.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2,click_time:+new Date,click_cnt:l,start_posx:Math.floor(e.relativeX)||0,start_posy:Math.floor(e.relativeY)||0,end_posx:Math.floor(e.relativeEndX)||0,end_posy:Math.floor(e.relativeEndY)||0,ad_width:Math.floor(r)||0,ad_height:Math.floor(s)||0,press_interval:e.pressInterval,block_click:t})}},Tw=function(e,t={}){var i,a,n=Wx(this),o=nw.call(this);if(null!=o&&o.layoutBox){var{width:r,height:s}=o.layoutBox;return n.adProxy.reportPopupClickAction({buttonType:t.buttonType||0,buttonTime:t.buttonTime||0,adClkTime:n.clickTime,adExpTime:n.showedExposureTime,adClkX:Math.floor(e.absoluteX)||0,adClkY:Math.floor(e.absoluteY)||0,adWidth:Math.floor(r)||0,adHeight:Math.floor(s)||0,isGame:Ix.isWaGame?1:0,costtype:null!==(i=n.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2})}},Cw=function(e,t=0){var i=Wx(this),a=nw.call(this);if(!Lw.call(this)&&a&&a.layoutBox){var{left:n,top:o,width:r,height:s}=a.layoutBox,l=Object.keys(zx).length?{pos_x:zx.touchStartPosX,pos_y:zx.touchStartPosY,time:zx.touchStartTime}:{pos_x:0,pos_y:0,time:0},d=i.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-n,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,left:n,top:o,width:r,height:s,weappExtraData:{show_time:i.lastShowTime,last_click:l,popup_click_type:t}});return Ow.call(this,{stage:1002}),$x=jx.map((e=>`[${[e.touchStartPosX,e.touchStartPosY,e.touchEndPosX,e.touchEndPosY,e.touchStartTime,e.touchInterval].join(",")}]`)),i.adProxy.reportBannerLastClick({lastClickArr:`[${$x.join(",")}]`,expMs:i.showedExposureTime,clickMs:+new Date,bannerClkScreenX:e.absoluteX,bannerClkScreenY:e.absoluteY,left:n,top:o,width:r,height:s,lastShowTime:i.lastShowTime}),jx=[],$x=[],d}},Aw=function(e=!1){var t,i,a,n,o,r,s,l,d=Wx(this);if(Lw.call(this))return Promise.resolve();var c=nw.call(this);if(null==c||!c.layoutBox)return M(0).then((()=>Aw.call(this,e)));var{left:u,top:h,width:p,height:f}=c.layoutBox,g=d.adProxy.isOriginExposureArea(c.layoutBox),m=h<=Ix.screenHeight-1;if(!(null!==(t=d.data)&&void 0!==t&&null!==(i=t.condition)&&void 0!==i&&i.widget_gray_banner_exposure_toggle?g:m))return Promise.resolve();var y,v=d.data.useTemplate?null===(a=d.adTemplateRef)||void 0===a?void 0:a.isShow():!1===(null===(n=d.container)||void 0===n?void 0:n.style.hidden);if(d.adProxy.isViewable=!!v,!d.isShowedExposureReported&&v){d.isShowedExposureReported=!0,d.showedExposureTime=+new Date;d.adProxy.reportExposure({left:u,top:h,width:p,height:f,exposureType:"showed"})}if(null!==(o=d.adTemplateRef)&&void 0!==o&&o.isShow()&&!d.hasEmitShowHalf)d.hasEmitShowHalf=!0,d.hasEmitHideHalf=!1,null===(y=d.adTemplateRef)||void 0===y||y.emitEvent(ou.ADSHOWHALF);else if(!(null!==(r=d.adTemplateRef)&&void 0!==r&&r.isShow()||d.hasEmitHideHalf)){var _;d.hasEmitShowHalf=!1,d.hasEmitHideHalf=!0,null===(_=d.adTemplateRef)||void 0===_||_.emitEvent(ou.ADHIDEHALF)}var E=d.adProxy.isViewableExposureArea(c.layoutBox),b=h+f/2<=Ix.screenHeight;if((null!==(s=d.data)&&void 0!==s&&null!==(l=s.condition)&&void 0!==l&&l.widget_gray_banner_exposure_toggle?E:b)&&!d.isViewableExposureReported&&v){if(!e)return M(1e3).then((()=>Aw.call(this,!0)));d.isViewableExposureReported=!0;d.adProxy.reportExposure({left:u,top:h,width:p,height:f,exposureType:"viewable"})}return Promise.resolve()},Dw=function(){var e=Wx(this),{width:t,height:i}=e.data,{crt_size:a,useStyleData:n}=e.data;n||(532===a?(t=345,i=99):[608,567,556,1707].indexOf(a)>-1&&(t=345,i=120));var{width:o,height:r}=this.style;n&&i&&t?(o=o||345,r=r||i/t*690/2):t&&i&&(o=o||t,r=r||i);var s=L({outer:{width:o,height:r},inner:{width:t,height:i},minScale:300/t,maxScale:Ix.screenWidth/t,side:"width"}),l=e.lastRealWidth!==s.inner.width||e.lastRealHeight!==s.inner.height;return this.style.realWidth=s.inner.width,e.lastRealWidth=s.inner.width,this.style.realHeight=s.inner.height,e.lastRealHeight=s.inner.height,l&&e.emitter.emit("resize",s.inner),s},Iw=function(e){var t,i,a,n,o=Wx(this);(o.landingCount+=1,o.landingCount>1)&&o.adProxy.reportRepeatClick({slotId:8040321819858439,costType:null!==(a=o.adProxy)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.is_cpm?1:2,clkCnt:o.landingCount,lastClkPeriod:+new Date-o.lastLandingTime,retCode:o.lastJsapiStatus,costTime:o.lastJsapiCostTime,pageStayTime:o.landingPageCostTime,jsapiName:o.lastJsapiName});o.lastLandingTime=+new Date,o.lastJsapiStatus=2,o.lastJsapiCostTime=0,o.isLandingPage=!1,o.landingPageCostTime=0;var r=23===o.data.product_type&&e&&(null==e?void 0:e.isButton)&&!(null!==(t=o.adProxy.data)&&void 0!==t&&null!==(i=t.biz_info)&&void 0!==i&&i.is_subscribed);e.isAddContact=r;var s=o.adProxy.land(e);23===o.data.product_type&&e&&e.isButton&&!o.adProxy.data.biz_info.is_subscribed?(s.then((e=>{var t=/ok/.test(e.errMsg);t&&(o.appButton.value="查看",o.adProxy.data.biz_info&&(o.adProxy.data.biz_info.is_subscribed=1),o.adProxy.reportAdIDKey({key:9})),e.errMsg&&(o.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var i,a,n=+new Date;(o.lastJsapiStatus=0,o.lastJsapiCostTime=n-o.lastLandingTime,"private_addContact"===o.lastJsapiName)&&o.adProxy.reportLandingTime({slotId:8040321819858439,costType:null!==(i=o.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2,openTime:o.lastLandingTime,closeTime:n,stayTime:o.lastJsapiCostTime,jsapiName:o.lastJsapiName,clickTime:o.lastLandingTime,clkCnt:o.landingCount,retCode:o.lastJsapiStatus,costTime:o.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});Pw.call(this)})).catch((()=>{o.lastJsapiStatus=1})),Sw.call(this,s)):s.then((e=>{e.errMsg&&(o.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===o.lastJsapiName||"navigateToMiniProgram"===o.lastJsapiName||"openADCanvas"===o.lastJsapiName||"launchApplication"===o.lastJsapiName?o.isLandingPage=!0:o.lastJsapiStatus=0,o.lastJsapiCostTime=+new Date-o.lastLandingTime})).catch((()=>{o.lastJsapiStatus=1}))},Sw=function(e){var t=Wx(this);e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})))},kw=function(e){var t=this;if(!Lw.call(this)){var i=Wx(this);i.isClosed||i.adProxy.fetch(e).then((e=>{if(!Lw.call(this))return vw.call(this).then((()=>{var e;null!==(e=i.data)&&void 0!==e&&e.useTemplate&&i.adTemplateRef?ew.call(this):i.container.style.hidden=!0})).then(b()((function*(){var e;if(i.isReady=!1,null===(e=i.data)||void 0===e||!e.useTemplate||!i.adTemplateRef)return Eo.remove(i.container);yield tw.call(t)}))).then(b()((function*(){return i.data=e,i.isViewableExposureReported=!1,i.adProxy.isViewable=!1,i.isShowedExposureReported=!1,i.showedExposureTime=0,i.isNeedShowReport=sw(),yield fw.call(t),vw.call(t)}))).then((()=>Lw.call(this)||"hide"===i.lastClosedAction?vw.call(this):i.isHideBYCover?(i.lastDisplayAction="show",vw.call(this)):(i.isShow=!0,rw.call(this,{type:Bx}),Ow.call(this,{stage:1001}),Promise.resolve().then((()=>{var e;null!==(e=i.data)&&void 0!==e&&e.useTemplate&&i.adTemplateRef?Qx.call(this):(i.container.style.hidden=!1,i.container.nextLayout((()=>Aw.call(this)))),Pw.call(this)}))))).catch((e=>i.emitter.emit("_error",e)))})).catch((e=>i.emitter.emit("_error",e)))}},Pw=function(){var e=Wx(this);if(e.adIntervals>=30&&e.adIntervals<=3600){e.adTimer&&clearTimeout(e.adTimer);var t=1e3*e.adIntervals;e.adTimer=setTimeout((()=>kw.call(this,!0)),t)}},Rw=function(){if(!Lw.call(this)){var e=Wx(this);e.adTimer&&(clearTimeout(e.adTimer),e.adTimer=null)}},Ow=function({stage:e}){var t={adtype:1,stage:e};Wx(this).adProxy.reportADFunnelModel(t)},Nw=function(){var e=this;if(!Lw.call(this)){var t=Wx(this);Rw.call(this),this._destroyed=!0,ow.call(this,{type:2}),rw.call(this,{type:Vx}),vw.call(this).then((()=>t.updateResult)).then(b()((function*(){Cx(t.checkAdState),Ax(t.onHide),t.emitter.off("resize"),t.emitter.off("_error"),t.emitter.off("load"),t.data.useTemplate&&t.adTemplateRef?yield tw.call(e):Eo.remove(t.container),Px(e)})))}},Lw=function(){return this._destroyed},Mw="banner-ad has been destroyed";class Bw extends Sx{constructor({adUnitId:t,style:i={left:0,top:0,width:0,height:0},adIntervals:a=0}){super(),this._destroyed=void 0,this.style=void 0;var n=Wx(this);n.emitter=new vf,n.adProxy=new Dp({adUnitId:t,adType:"banner"}),n.adTemplate=new mp({hostConfig:YE,hostContext:{onAppEnterForeground:wx,offAppEnterForeground:Cx,onAppEnterBackground:Tx,offAppEnterBackground:Ax,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:En(e),getBoundingClientRect:e=>e.layoutBox,getTextWidth:(e,t)=>Rx.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{},operateVideo:()=>{},animate:()=>{}}}),n.androidAppState=0,n.androidDownloadId=0,n.clickTime=0,n.clickCount=0,n.landingCount=0,n.lastLandingTime=0,n.lastJsapiName="",n.lastJsapiStatus=0,n.lastJsapiCostTime=0,n.isLandingPage=!1,n.landingPageCostTime=0,n.hideTime=0,n.isShowedExposureReported=!1,n.isViewableExposureReported=!1,n.isReady=!1,n.isShow=!1,n.emitter.on("ready",(()=>n.isReady=!0)),n.isHideBYCover=!1,n.adCover=new nm({adUnitId:t,adType:"banner"}),n.adIntervals="number"==typeof a?a:0,n.adTimer=null,n.isClosed=!1,n.closeAdTime=0,n.showedExposureTime=0,n.lastShowTime=0,n.clickFirstGradeTime=0,n.handleAdTemplateEvent=e=>{iw.call(this,e)},n.adCover.on(em,(()=>{Lw.call(this)||vw.call(this).then((()=>{var e;n.isShow&&!Lw.call(this)&&(null!==(e=n.data)&&void 0!==e&&e.useTemplate&&n.adTemplateRef?ew.call(this):n.container.style.hidden=!0);n.isHideBYCover=!0,n.lastDisplayAction=""})).catch((()=>{}))})),n.adCover.on(tm,(()=>{Lw.call(this)||vw.call(this).then((()=>{n.isShow&&!Lw.call(this)&&(n.container.style.hidden=!1),n.isHideBYCover=!1,"show"===n.lastDisplayAction?this.show():"hide"===n.lastDisplayAction&&this.hide()})).catch((()=>{}))})),n.lastRealWidth=0,n.lastRealHeight=0,n.updateResult=Promise.resolve(),this.style={top:0,left:0,width:0,height:0},this._destroyed=!1;var o=null;Object.keys(i).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>i[e],set:t=>{Lw.call(this)||t!==i[e]&&(i[e]=t,n.updateResult=new Promise((e=>{clearTimeout(o),o=setTimeout(e,0)})).then((()=>vw.call(this))).then((()=>Promise.all([xw.call(this),n.container.nextLayout().then((()=>Aw.call(this)))]))))}})})),this.style.realWidth=this.style.width,this.style.realHeight=this.style.height;var r=n.adProxy.fetch();r.catch((e=>n.emitter.emit("_error",e))),n.adFetchResult=r,n.adFetchResult.then((t=>{(n.emitter.emitter._events?Object.keys(n.emitter.emitter._events):[]).includes("_error")||"devtools"!==Hx?(n.data=t,n.isNeedShowReport=sw(),rw.call(this,{type:Nx}),fw.call(this)):e.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。")})),n.checkAdState=()=>{n.adFetchResult.then((()=>{if(n.appButton&&23===n.data.product_type?n.adProxy.checkFollow(n.data.app.uin).then((e=>{var{button_text:t}=n.data.button_action;n.appButton.value=e?"查看":t,n.adProxy.data.biz_info&&(n.adProxy.data.biz_info.is_subscribed=e?1:0)})):12===n.data.product_type&&yw.call(this),n.isLandingPage){var e,t;n.lastJsapiStatus=0,n.isLandingPage=!1;var i=+new Date;n.landingPageCostTime=i-n.hideTime,n.adProxy.reportLandingTime({slotId:8040321819858439,costType:null!==(e=n.adProxy)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.is_cpm?1:2,openTime:n.hideTime,closeTime:i,stayTime:n.landingPageCostTime,jsapiName:n.lastJsapiName,clickTime:n.lastLandingTime,clkCnt:n.landingCount,retCode:n.lastJsapiStatus,costTime:n.lastJsapiCostTime,actTypeInt:1})}})).then((()=>{!n.isShow||n.adTimer||[qx,Xx,Kx].includes(n.androidAppState)||Pw.call(this)})).catch((()=>{})),!Lw.call(this)&&n.isClosed&&n.closeAdTime&&+new Date-n.closeAdTime>60*(n.data.condition.widget_gray_close_v2||3)*1e3&&vw.call(this).then((()=>{n.isClosed=!1,n.closeAdTime=0,kw.call(this)}))},wx(n.checkAdState),n.onHide=()=>{Rw.call(this),n.hideTime=+new Date},Tx(n.onHide)}show(e){var t;if(Lw.call(this))return Promise.reject({errMsg:Mw});var i,a=Wx(this);return a.isClosed?(a.lastClosedAction="show",Promise.reject({errMsg:"banner-ad has been closed"})):a.isHideBYCover?(a.lastDisplayAction="show",null!==(i=a.data)&&void 0!==i&&i.useTemplate?Qx.call(this):vw.call(this)):(a.isShow=!0,a.lastShowTime=+new Date,rw.call(this,{type:Lx}),Ow.call(this,{stage:1001}),null!=e&&e.branchId?a.adProxy.recordAnalyseBranchInfo(e):a.adProxy.resetAnalyseBranchInfo(),null!==(t=a.data)&&void 0!==t&&t.useTemplate?Qx.call(this).then((()=>(Pw.call(this),Promise.resolve()))):vw.call(this).then((()=>{a.adFeedbackList.style.hidden=!0,a.adFeedbackMenu.style.hidden=!0,a.container.style.hidden=!1,a.container.nextLayout((()=>Aw.call(this))),Pw.call(this)})))}hide(){if(!Lw.call(this)){var e=Wx(this);return e.isClosed&&(e.lastClosedAction="hide"),e.isHideBYCover?(e.lastDisplayAction="hide",vw.call(this)):(e.isShow=!1,e.adProxy.isViewable=!1,rw.call(this,{type:Mx}),vw.call(this).then((()=>{var t;null!==(t=e.data)&&void 0!==t&&t.useTemplate&&e.adTemplateRef?ew.call(this):e.container.style.hidden=!0,Rw.call(this)})))}}destory(){Nw.call(this)}destroy(){Nw.call(this)}onResize(e){Lw.call(this)||Wx(this).emitter.on("resize",e)}offResize(e){Lw.call(this)||Wx(this).emitter.off("resize",e)}onError(e){Lw.call(this)||Wx(this).emitter.on("_error",e)}offError(e){Lw.call(this)||Wx(this).emitter.off("_error",e)}onLoad(e){Lw.call(this)||Wx(this).emitter.on("load",e)}offLoad(e){Lw.call(this)||Wx(this).emitter.off("load",e)}onClose(e){Lw.call(this)||Wx(this).emitter.on("close",e)}offClose(e){Lw.call(this)||Wx(this).emitter.off("close",e)}}var Vw={textAlign:"center",color:"#ffffff",lineBreak:"ellipsis",portrait:{width:247,fontSize:17,height:24,lineHeight:24},landscape:{width:185,fontSize:14,height:20,lineHeight:20}},Ww={zIndex:1000009,position:"absolute",top:8,right:6,width:60,height:20,color:"#ffffff",fontSize:11,lineHeight:20,borderRadius:4,textAlign:"center"},Fw={body:{zIndex:1000005,position:"absolute",overflow:"visibal",hidden:!0},container:{zIndex:1000005,position:"absolute",overflow:"hidden",opacity:0,hidden:!0,flexDirection:"column",alignItems:"center",justifyContent:"center"},mask:{top:0,left:0,backgroundColor:"#000000",opacity:.7,position:"absolute",overflow:"hidden"},cancelBox:{marginBottom:8,portrait:{width:Hd,height:36},landscape:{width:Ud,height:28},flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},cancel:{portrait:{width:36,height:36},landscape:{width:28,height:28}},adContainer:{flexDirection:"column",alignItems:"center",overflow:"hidden",borderRadius:8,portrait:{width:Hd,height:jd},landscape:{width:Ud,height:$d}},adBackground:{position:"absolute",zIndex:1000006,portrait:{marginTop:90,width:Hd,height:jd},landscape:{marginTop:70,width:Ud,height:$d},hidden:!0},adMask:{position:"absolute",zIndex:1000007,backgroundColor:"#000000",opacity:.5,borderRadius:8,portrait:{width:Hd,height:jd},landscape:{width:Ud,height:$d},hidden:!0},adContent:{zIndex:1000008,portrait:{width:Hd,height:204},landscape:{width:Ud,height:168},flexDirection:"column",alignItems:"center"},adChannelsLiveReserve:r()(r()({},Ww),{},{hidden:!0,backgroundColor:"#959FC1"}),adChannelsLive:r()(r()({},Ww),{},{hidden:!0,backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}),adChannelsLiveIcon:{width:12,height:12,marginRight:4,marginLeft:4},adChannelsLiveText:{width:33,height:20,color:"#ffffff",fontSize:11,lineHeight:20,marginRight:8,textAlign:"center"},adChannelsLiveEnd:r()(r()({},Ww),{},{hidden:!0,backgroundColor:"#959FC1"}),adWording:{flexDirection:"column",alignItems:"center",justifyContent:"center",portrait:{marginTop:24,marginBottom:12,height:72},landscape:{marginTop:16,marginBottom:10,height:60}},wordingLine0:Vw,wordingLine1:Vw,wordingLine2:Vw,adButtonGroup:{flexDirection:"column",alignItems:"center",justifyContent:"center"},relationLine:{textAlign:"center",fontSize:12,height:16,lineHeight:16,color:"rgba(0, 0, 0, 0.3)",portrait:{width:247,marginBottom:12},landscape:{width:185,marginBottom:10}},adButton:{borderWidth:1,borderColor:"#ffffff",borderRadius:4,textAlign:"center",color:"#ffffff",portrait:{marginBottom:28,width:184,height:40},landscape:{marginBottom:24,width:184,height:32},flexDirection:"column",alignItems:"center",justifyContent:"center"},adButtonText:{textAlign:"center",color:"#ffffff",letterSpacing:1,fontSize:17,height:24,width:184,lineHeight:24},adFeedbackContainer:{position:"absolute",width:60,height:48,zIndex:1000008,top:0,left:0},adFeedback:{zIndex:1000008,width:35,height:16,marginTop:8,marginLeft:6,position:"absolute"},adFeedbackList:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adFeedbackTitle:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{zIndex:1000008,width:134,hidden:!0,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adQualityBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike0:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseTip:{hidden:!0,backgroundColor:"#ffffff",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:1000009,portrait:{width:Hd,height:400},landscape:{width:Ud,height:$d}},adCloseTipWrap:{width:140,height:200,flex:1,justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:64,height:55},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a",marginTop:20,textAlign:"center"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:10,textAlign:"center"}},Hw={adMedia:{zIndex:1000008,portrait:{width:Hd,height:Gd},landscape:{width:Ud,height:zd}},adVideoAudioBox:{zIndex:1000008,position:"absolute",bottom:0,left:0,width:40,height:40},adVideoAudioIcon:{position:"absolute",bottom:8,left:8,width:24,height:24,hidden:!1},adVideoCountDown:{position:"absolute",top:8,right:10,color:"#ffffff",fontSize:12,lineHeight:18,width:24,height:18,textAlign:"right"},adVideoAfter:{position:"absolute",portrait:{width:Hd,height:Gd},landscape:{width:Ud,height:zd},hidden:!0,alignItems:"center",opacity:0},adVideoAfterMask:{position:"absolute",backgroundColor:"#000000",opacity:.7,portrait:{width:Hd,height:Gd},landscape:{width:Ud,height:zd}},adVideoClickMask:{position:"absolute",zIndex:1000008,borderRadius:6,portrait:{width:Hd,height:Gd},landscape:{width:Ud,height:zd}},adVideoAfterIcon:{zIndex:1000008,flexDirection:"row",portrait:{width:48,height:48,marginTop:52,marginBottom:8},landscape:{width:36,height:36,marginTop:44,marginBottom:6},alignSelf:"center",borderRadius:4},adVideoAfterText:{zIndex:1000008,portrait:{fontSize:16,width:Hd},landscape:{fontSize:11,width:Ud},lineHeight:22,color:"#ffffff",textAlign:"center",height:22}},Uw={adMedia:{zIndex:1000008,portrait:{width:Hd,height:Gd},landscape:{width:Ud,height:zd}}},Gw='\n    <view id="ad-feedback-container">\n      <image id="ad-feedback"  bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/adfeedback.png"></image>\n    </view>\n    <view id="ad-feedback-list">\n      <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n      <view id="ad-close-btn-line-dislike0"></view>\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <view id="ad-close-btn-line-dislike1"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line-dislike2"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line-dislike3"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n  ',zw=`\n    <view id="ad-video-container" click-state="true">\n      <video id="ad-media" click-state="true" bubble-event="true" controls="false" muted="true" autoplay="false" object-fit="cover" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad">\n        <view id="ad-video-click-mask" click-state="true" bubble-event="true"></view>\n        \n    <text id="ad-video-Count-Down">\n    </text>\n  \n        \n    <view id="ad-video-audio-box">\n      <image id="ad-video-audio-icon" bubble-event="true"></image>\n    </view>\n  \n        \n    <image id="ad-video-after" click-state="true" bubble-event="true" >\n        <view id="ad-video-after-mask" click-state="true" bubble-event="true"></view>\n        <image id="ad-video-after-icon" click-state="true" bubble-event="true"></image>\n        <text id="ad-video-after-text" click-state="true" bubble-event="true"></text>\n    </image>\n  \n        ${Gw}\n      </video>\n    </view>\n  `,jw=`\n    <image id="ad-media">\n      ${Gw}\n    </image>\n  `,$w={wordingLineTmpl:'\n  <text bubble-event="true"></text>\n'},{onWindowResize:Yw,onAppRoute:qw,onAppRouteDone:Xw,_onShow:Kw,_onHide:Jw,_offShow:Zw,_offHide:Qw,getSystemInfoSync:eT,getInitScreenSize:tT,gametext:iT,onMethod:aT,View:nT,Component:oT,getPrivateThis:rT,removePrivateThis:sT,createComponent:lT}=y,dT=1,cT=2,uT=3,hT=4,pT=5,fT=8,gT=0,mT=1,yT=7,vT=e=>rT(e),_T="https://wxa.wxs.qq.com/images/wxapp/new_audio_mute_icon.png",ET=0,bT=0,xT=P,wT=k,TT="",CT=!0,AT="image",DT="video";D.onReady((()=>{TT=ya();var e=tT();ET=e.screenWidth||0,bT=e.screenHeight||0,CT=O()}));var IT="3030046789020061",ST="interstitial-ad has been destroyed",kT=function(e,t=!0){if(mC.call(this))return!1;var i=vT(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&OT.call(this,e,a),i},PT=function(e,t=0){var i=vT(this);if(mC.call(this)||!i.data)return!1;var a=!1,n=0;return i.adProxy.isValidCondition("widget_gray_time_limit_2")&&(n=100*(i.data.condition.widget_gray_time_limit_2||5)),n>0&&(0===i.startExposureTime||+new Date-i.startExposureTime<n)&&(a=!0,i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_LIMIT_TIME,{clickType:t})),i.isShow||(a=!1),a},RT=function(){var e,t=vT(this);return null!==(e=t.data)&&void 0!==e&&e.useTemplate?t.tmplContainer:t.container},OT=function(e,t=0){var i;if(!mC.call(this)){var a=vT(this),n=RT.call(this);if(null!=n&&n.layoutBox){var{width:o,height:r}=n.layoutBox,s=0;return[0,2,3].includes(t)&&(a.clickCount+=1,s=a.clickCount),a.adProxy.reportTouchClick({slotid:IT,costtype:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:+new Date,click_cnt:s,start_posx:Math.round(e.relativeX)||0,start_posy:Math.round(e.relativeY)||0,end_posx:Math.round(e.relativeEndX)||0,end_posy:Math.round(e.relativeEndY)||0,ad_width:Math.round(o)||0,ad_height:Math.round(r)||0,press_interval:e.pressInterval,block_click:t})}}},NT=function(e){if(!mC.call(this)){var t=vT(this),i=RT.call(this);if(null!=i&&i.layoutBox){var{left:a,top:n,width:o,height:r}=i.layoutBox,s={currentTime:t.videoCurrentTime,duration:t.videoDuration},l=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-a,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,left:a,top:n,width:o,height:r,videoData:s});return LT.call(this,{stage:1002}),l}}},LT=function({stage:e}){mC.call(this)||vT(this).adProxy.reportADFunnelModel({adtype:3,stage:e})},MT=function(e=!1){var t,i,a,n,o=vT(this);if(mC.call(this)||!o.data)return Promise.resolve();var r=RT.call(this);if(null==r||!r.layoutBox)return M(0).then((()=>MT.call(this,e)));var s,{left:l,top:d,width:c,height:u}=r.layoutBox,h=o.data.useTemplate?null===(t=o.adTemplateRef)||void 0===t?void 0:t.isShow():!1===(null===(i=o.container)||void 0===i?void 0:i.style.hidden);if(!o.isShowedExposureReported&&h){o.isShowedExposureReported=!0,o.startExposureTime=+new Date,_C.call(this);o.adProxy.reportExposure({left:l,top:d,width:c,height:u,exposureType:"showed"});!function(e){om.exposureRecord||(om.exposureRecord={});var t=om.exposureRecord;t[e]||(t[e]=0),t[e]+=1}(o.adType)}if(null!==(a=o.adTemplateRef)&&void 0!==a&&a.isShow()&&!o.hasEmitShowHalf)o.hasEmitShowHalf=!0,o.hasEmitHideHalf=!1,null===(s=o.adTemplateRef)||void 0===s||s.emitEvent(ou.ADSHOWHALF);else if(!(null!==(n=o.adTemplateRef)&&void 0!==n&&n.isShow()||o.hasEmitHideHalf)){var p;o.hasEmitShowHalf=!1,o.hasEmitHideHalf=!0,null===(p=o.adTemplateRef)||void 0===p||p.emitEvent(ou.ADHIDEHALF)}if(!o.isViewableExposureReported&&h&&o.ad_type===AT){if(!e)return M(1e3).then((()=>MT.call(this,!0)));o.isViewableExposureReported=!0,o.adProxy.isViewable=!0;o.adProxy.reportExposure({left:l,top:d,width:c,exposureType:"viewable"})}return Promise.resolve()},BT=function(e){var t;if(!mC.call(this)){var i=vT(this),a=+new Date;return i.adProxy.reportCloseAction({slotid:IT,is_game:CT?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:a-i.startExposureTime-i.hideDuration,start_time:i.startExposureTime,close_time:a})}},VT=function(e,t={}){var i,a,n,o,r=vT(this);if(!mC.call(this)&&r.data){var{width:s,height:l}=(r.data.useTemplate?null===(i=r.adTemplateRef)||void 0===i||null===(a=i.getElementById("adContainer"))||void 0===a?void 0:a.style:null===(n=r.adContainer)||void 0===n?void 0:n.style)||{width:0,height:0};return r.adProxy.reportAntifraud({click_button:e,cost_type:null!==(o=r.adProxy.data)&&void 0!==o&&o.is_cpm?1:2,slotid:IT,is_game:CT?1:0,pageentertime:+new Date(r.adProxy.getProgramStartTime()),ad_width:Math.round(s)||0,ad_height:Math.round(l)||0,clientexptime:r.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX)||0,pos_y:Math.round(t.absoluteY)||0,screen_width:ET,screen_height:bT})}},WT=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){if(!mC.call(this)){var o=vT(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:ET,adHeight:bT,adPosX:0,adPosY:0,expTime:o.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},FT=function(e={}){if(!mC.call(this)){var t=vT(this);return Object.assign({autoCloseTime:t.autoCloseTime,launchTime:t.launchTime,frequencyTime:t.frequencyTime},e)}},HT=function(){if(!mC.call(this)){var e=eT();ET=e.screenWidth,bT=e.screenHeight,TT=ET>bT?"landscape":"portrait"}},UT=function(){if(!mC.call(this)){var e=vT(this);return e.fetchPromise?Promise.resolve():(e.fetchPromise=e.adProxy.fetch(),e.fetchPromise.catch((t=>(e.fetchPromise=null,e.emitter.emit("_error",t)))),e.adFetchResult=e.fetchPromise,e.adFetchResult.then((t=>{e.fetchPromise=null,e.isData=!0,e.data=t||{},e.ad_type=Yd("video",t.crt_size)?DT:AT,e.autoCloseTime=t.card_info&&t.card_info.auto_close_time||15,e.launchTime=t.card_info&&t.card_info.launch_time||15,e.frequencyTime=t.card_info&&t.card_info.frequency_time||15;var i,a,n=(i=e.adType,(a=om&&om.exposureRecord?om.exposureRecord:{})&&a[i]?a[i]:0),{rerankingExtInfo:o}=e.data||{};return null!=o&&o.critical_exposure&&(e.frequencyTime=n>=o.critical_exposure?o.beyond_interval||5:o.normal_interval||5),ZT.call(this),JT.call(this)})).catch((()=>{})))}},GT=function(){var e,t=vT(this),{template:i,style:a}={template:`\n  <view id="body">\n    <view id="container">\n      <view id="mask" bubble-event="true"></view>\n      <view id="cancel-box">\n        <image id="cancel" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/interstitialClose.jpeg"></image>\n      </view>\n      <view id="ad-container">\n        <image id="ad-background"></image>\n        <view id="ad-mask"></view>\n        ${"video"===(e=t.ad_type)?zw:jw}\n        <text id="ad-channels-live-reserve" value="直播预约"></text>\n        <view id="ad-channels-live">\n          <image id="ad-channels-live-icon" src="https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"></image>\n          <text id="ad-channels-live-text" value="直播中"></text>\n        </view>\n        <text id="ad-channels-live-end" value="直播结束"></text>\n        <view id="ad-content">\n          <view id="ad-wording">\n          </view>\n          <view id="ad-button-group">\n            <text id="relation-line">placeholder</text>\n            <view id="ad-button" click-state="true">\n              <text id="ad-button-text" click-state="true" bubble-event="true"></text>\n            </view>\n          </view>\n        </view>\n        <view id="ad-close-tip">\n          <view id="ad-close-tip-wrap">\n            <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=b7cf6bfe332cf0a981234fdfd5bde985&filekey=3033020101041f301d02016d040253480410b7cf6bfe332cf0a981234fdfd5bde985020207b7040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353331363030303733623437313336666664393331323630333230613030303030303664&bizid=1023"></image>\n            <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n            <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n  `,style:r()(r()({},Fw),"video"===e?Hw:Uw)};t.cardStyle=a,t.cardXOM=w()(i).root,Sp.call(this,t.cardXOM,a),Eo.add(t.body),t.container.on("click",(e=>{if(kT.call(this,e,!1)&&!PT.call(this,e,4))return t.isClosing||(cC.call(this,1),VT.call(this,4,e)),Promise.resolve()})),t.cancelBox.on("click",(e=>(t.isShow||t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_CROSSPAGE_CANCELBOX_CLICK,{isClosing:t.isClosing}),kT.call(this,e,!1)?(PT.call(this,e,3)||t.isClosing||(cC.call(this,0),VT.call(this,3,e)),Promise.resolve()):Promise.resolve()))),t.adFeedbackContainer.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adFeedbackList.style.hidden=!t.adFeedbackMenu.style.hidden||!t.adFeedbackList.style.hidden,t.adFeedbackMenu.style.hidden=!0,t.adFeedbackList.style.hidden||WT.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"})))})),t.adFeedbackBtn.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adProxy.openFeedbackUrl(CT?1007:1006),t.adFeedbackList.style.hidden=!0,WT.call(this,{secondGradeId:1,secondGradeDesc:"投诉"})))})),t.adDislikeBtn.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!1,WT.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"})))})),t.adQualityBtn.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adFeedbackMenu.style.hidden=!0,WT.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),cC.call(this,7),VT.call(this,8,e)))})),t.adDuplicateBtn.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adFeedbackMenu.style.hidden=!0,WT.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),cC.call(this,7),VT.call(this,8,e)))})),t.adDismatchBtn.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e)||(t.adFeedbackMenu.style.hidden=!0,WT.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),cC.call(this,7),VT.call(this,8,e)))})),t.adButton.on("click",(e=>{kT.call(this,e)&&(PT.call(this,e,1)||pC.call(this,e,1))})),t.adWording.on("click",(e=>{VT.call(this,5,e)})),t.ad_type===AT&&t.adMedia.on("click",(e=>{t.adProxy.isValidCondition("widget_gray_optimizedstyle")?kT.call(this,e)&&(PT.call(this,e,2)||pC.call(this,e,2)):VT.call(this,2,e)})),t.ad_type===DT&&(t.adVideoClickMask.on("click",(e=>{kT.call(this,e)&&(PT.call(this,e,2)||pC.call(this,e,2))})),t.adVideoAfter.on("click",(e=>{kT.call(this,e)&&(PT.call(this,e,2)||pC.call(this,e,2))})),t.adVideoAudioBox.on("click",(e=>{kT.call(this,e,!1)&&(PT.call(this,e,1)||(t.adMedia.muted=!t.adMedia.muted,t.adVideoAudioIcon.src=t.adMedia.muted?_T:"https://wxa.wxs.qq.com/images/wxapp/new_audio_icon.png"))})),t.adMedia.onTimeUpdate((e=>zT.call(this,e))),t.adMedia.onEnded((()=>jT.call(this))),t.adMedia.onError((e=>$T.call(this,e))),t.adMedia.onPlay((()=>YT.call(this))))},zT=function(e){var{duration:t,position:i}=e,a=vT(this);if(!mC.call(this)&&a.data){var n=wC.call(this);if(yC.call(this),n&&(n.autoplay=!1),i>0&&(a.videoCurrentTime=1e3*i),a.videoDuration=1e3*t,a.isFirstPlay){a.adProxy.setTimePoint("p21",{time:Date.now()-1e3*i});var o=0;a.showTime>a.videoFirstPlayTime&&(o=a.showTime-a.videoFirstPlayTime),a.adProxy.reportVideoLoadTime({beginTime:a.videoFirstPlayTime,endTime:(new Date).getTime()-Math.round(1e3*i),departureTime:o,reportType:1,preloadVideo:a.preloadVideo?1:0,preloadVideoSuccess:a.preloadVideoSuccess?1:0}),a.isFirstPlay=!1,LT.call(this,{stage:1004}),a.isFirstPlaySuccess=!0,a.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_VIDEO_PLAY_SUCCESS})}if(i>=1&&!a.isViewableExposureReported)if(n){var{width:r,height:s}=null==n?void 0:n.style;a.isViewableExposureReported=!0,a.adProxy.isViewable=!0;a.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:r,height:s})}else a.adProxy.reportAdMonitorData(ui.INTERSTITIAL_NO_VIDEO,{isUseTemplate:a.data.useTemplate});if(!a.data.useTemplate){var l=Math.ceil(t-i);a.adVideoCountDown.value=`${l.toString()}s`,xT&&t-i<.6&&a.adVideoAfter.style.hidden&&(a.adVideoAfter.style.hidden=!1,a.adVideoAfter.animate({opacity:1,duration:350}),a.adVideoAudioBox.style.hidden=!0,a.adVideoCountDown.style.hidden=!0)}}},jT=function(){var e=vT(this);if(!mC.call(this)&&e.data){e.videoCurrentTime=e.videoDuration,e.isEnded=!0,e.isPlaying=!1,vC.call(this);e.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:e.videoCurrentTime,videoDuration:e.videoDuration,muted:TC.call(this)});e.data.useTemplate||(e.adVideoAfter.style.hidden=!1,e.adVideoAudioBox.style.hidden=!0,e.adVideoCountDown.style.hidden=!0,wT&&e.adVideoAfter.animate({opacity:1,duration:300})),e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_VIDEO_PLAY_SUCCESS_END)}},$T=function(e){var t=vT(this);mC.call(this)||(vC.call(this),t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_VIDEO_LOAD_ERROR,e))},YT=function(){var e=vT(this);mC.call(this)||e.videoStartPlay||(e.videoFirstPlayTime=(new Date).getTime(),e.videoStartPlay=!0,e.adProxy.setTimePoint("p23"),e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_VIDEO_PLAY}))},qT=function(){var e=vT(this);if(mC.call(this)||!e.data)return Promise.resolve();if(!e.cardStyle)return Promise.resolve();var{width:t,height:i}=e.data,a="portrait"===TT?jd/i:$d/i,n="portrait"===TT?ET/375:bT/375,o=e.cardStyle,r=Object.keys(o);r.forEach((t=>{if(o[t][TT]){var i=o[t][TT];Object.keys(i).forEach((a=>{var n;null!==(n=e[t])&&void 0!==n&&n.style&&(e[t].style[a]=i[a],o[t][a]=i[a])}))}}));var s=t*a;o.adBackground.width=s,e.adBackground.style.width=s,"portrait"===TT?(o.adMedia.width=Hd,e.adMedia.style.width=Hd,o.adMedia.height=Gd,e.adMedia.style.height=Gd,o.adBackground.height=jd,e.adBackground.style.height=jd,o.adBackground.left=0-(s-Hd)/2,e.adBackground.style.left=0-(s-Hd)/2):"landscape"===TT&&(e.adMedia.style.width=Ud,o.adMedia.width=Ud,e.adMedia.style.height=zd,o.adMedia.height=zd,e.adBackground.style.height=$d,o.adBackground.height=$d,e.adBackground.style.left=0-(s-Ud)/2,o.adBackground.left=0-(s-Ud)/2);var l=["width","height","fontSize","lineHeight","borderRadius"];return r.forEach((t=>{if(!["container","mask","body"].includes(t))if(l.forEach((i=>{var a,r;null!==(a=e[t])&&void 0!==a&&null!==(r=a.style)&&void 0!==r&&r[i]&&(e[t].style[i]=o[t][i]*n)})),"adWording"===t||"adFeedbackList"===t||"adFeedbackMenu"===t)e[t].style.marginTop=o[t].marginTop*n;else if("adButton"===t)e[t].style.marginBottom=o[t].marginBottom*n;else if("adVideoAfterIcon"===t)e[t].style.marginTop=o[t].marginTop*n,e[t].style.marginBottom=o[t].marginBottom*n;else if(0===t.indexOf("wordingLine")){var i,a,r,s,d="portrait"===TT?Hd:Ud;if("split"===(null===(i=e[t])||void 0===i?void 0:i.wordRenderMode)&&null!==(a=e.wordingLine0)&&void 0!==a&&a.value)d=iT.getTextWidth(null===(s=e.wordingLine0)||void 0===s?void 0:s.value,"portrait"===TT?17:14)+10;null!==(r=e[t])&&void 0!==r&&r.style&&(e[t].style.width=d*n)}})),e.adCloseBtnLineDislike0.style.hidden=!1,e.adCloseBtnLineDislike1.style.hidden=!1,e.adCloseBtnLineDislike2.style.hidden=!1,e.adCloseBtnLineDislike3.style.hidden=!1,e.adDislikeBtn.style.hidden=!1,e.container.style.width=ET,e.container.style.height=bT,e.body.style.width=ET,e.body.style.height=bT,e.mask.style.width=ET,e.mask.style.height=bT,e.container.nextLayout().then((()=>{if(!CT&&xT)return e.container.forceUpdate()}))},XT=function(){var e=b()((function*(){var e=vT(this);if(!mC.call(this)&&e.data)try{var t;e.tmplContainer||(e.tmplContainer=new nT({name:"interstitialTemplContainer"})),Eo.children[e.tmplContainer.id]||(Eo.add(e.tmplContainer),e.tmplContainer.fullscreen=!0,CT||(e.tmplContainer.style.fixed=!0),e.tmplContainer.style.position="absolute",e.tmplContainer.style.left=0,e.tmplContainer.style.top=0),yield e.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:ET,screenHeight:bT,deviceOrientation:TT,platform:k?"android":"ios",hostEnv:"minigame"},hostContainer:e.tmplContainer,template:e.data.template,adData:e.adProxy.data,adCustomId:"INTERSTITIAL",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ratio:bT>ET?ET/375:bT/375},extraScope:{private:e,cancelBoxIcon:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=0a13bee70ecfda3093ad0e183cc2576a&filekey=3033020101041f301d02016d0402534804100a13bee70ecfda3093ad0e183cc2576a0202105c040d00000004627466730000000131&hy=SH&storeid=32303138313232393033353031333030303365356565313336666664393336663561333230613030303030303664&bizid=1023"},ref:t=>{e.adTemplateRef=t,t.onEvent(e.handleAdTemplateEvent)}}),e.showDetailTime=+new Date,e.buttonTextType=e.data.button_action.text_type||0,e.data.product_type===Ii.ANDROID?(e.adProxy.setAppInstallState(!1),aC.call(this)):e.data.product_type===Ii.WE_CHAT&&e.data.app.isFollowed&&0===e.buttonTextType&&iC.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.emitter.emit("load"),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.emitter.emit("ready"),e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_TEMPLATE_RENDER_SUCCESS)}catch(t){e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_TEMPLATE_RENDER_FAILED,t),e.emitter.emit("_error",{errMsg:"interstitial render failed (internal)"})}}));return function(){return e.apply(this,arguments)}}(),KT=function(){var e=b()((function*(){var e=vT(this);!mC.call(this)&&e.adTemplateRef&&(HT.call(this),yield e.adTemplateRef.update({systemInfo:{screenWidth:ET,screenHeight:bT,deviceOrientation:TT,platform:k?"android":"ios",hostEnv:"minigame"}}),e.showDetailTime=+new Date)}));return function(){return e.apply(this,arguments)}}(),JT=function(){var e=b()((function*(){var e=vT(this);if(mC.call(this)||!e.data)return Promise.resolve();try{var t,i,a,{app:n,product_type:o,crtInfo:r,useTemplate:s,button_action:l,image_url:d,card_info:{bg_color:c,font_color:u,bg_img:h,desc:p,thumb:f,title:g,description:m},extBackComm:y}=e.data;if(s)return void(yield XT.call(this));var v,_=null==r||null===(t=r[0])||void 0===t||null===(i=t.card_info)||void 0===i?void 0:i.mp_tag_type;if(e.body&&Eo.remove(e.body),GT.call(this),e.body.fullscreen=!0,CT||(e.body.style.fixed=!0),e.ad_type===DT){var{short_video:{thumb_url:E,video_url:b}}=e.data;e.adMask.style.hidden=!0,e.adBackground.style.hidden=!0,e.adVideoAfter.style.hidden=!0,e.adVideoAudioIcon.src=_T,e.adVideoAfter.src=h,e.adVideoAfterIcon.src=f,e.adVideoAfterText.value=g,e.adMedia.autoplay=!1,xT&&e.adMedia.src===b&&e.adMedia.seek(0),xT?(e.adMedia.poster=E,M(500).then((()=>{e.adMedia.src=b,e.adProxy.setTimePoint("p8")}))):(e.adProxy.setTimePoint("p8"),e.adMedia.src=b,e.adMedia.poster=E),e.adProxy.reportVideoLoadTime({beginTime:e.fetchBeginTime,endTime:(new Date).getTime(),reportType:2}),e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_VIDEO_LOAD})}else e.ad_type===AT&&(e.adMedia.src=d,e.adMask.style.hidden=!1,e.adBackground.style.hidden=!1,e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_IMAGE_LOAD}));c?(e.adMask.style.opacity=1,e.adMask.style.backgroundColor=c,v=u,e.relationLine.style.color=u,e.adButton.style.color=u,e.adButton.style.borderColor=u,e.adButtonText.style.color=u,e.adBackground.style.hidden=!0):e.adProxy.isValidCondition("widget_gray_optimizedstyle")?(e.adContainer.style.borderRadius=8,e.adContent.style.backgroundColor="#ffffff",v="#000000",e.relationLine.style.color="#b3b3b3",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#07c160",e.adButton.style.backgroundColor="#07c160",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===DT):(e.adMask.style.opacity=.5,e.adMask.style.backgroundColor="#000000",v="#ffffff",e.relationLine.style.color="#ffffff",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#ffffff",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===DT,e.adBackground.src=h);var x=p,T="normal";if([Di.CRT_SIZE_AMS_PIC_169,Di.CRT_SIZE_AMS_VIDEO_169].includes(null===(a=e.data)||void 0===a?void 0:a.crt_size)&&m&&(x=((e,t)=>{for(var i="",a=[],n=0,o=0;o<e.length;o++)n+=/[\u4e00-\u9fa5]/.test(e[o])?2:1,i+=e[o],n>t&&(n=0,a.push(i),i="");return i&&a.push(i),a})(m,22)).length>1&&(T="split"),x.forEach(((t,i)=>{var a=`wordingLine${i}`,{root:n}=w()($w.wordingLineTmpl);n.attributes.id=a;var o=lT.call(this,n);o.value=t,o.style.color=v,o.wordRenderMode=T,o.style.textAlign="split"===T?"left":"center",e.adWording.add(o)})),e.adButtonText.value=l.button_text,21474837086===y.ams_second_industry_id&&(e.adButtonText.value="点击跳转广告详情页",e.adButtonText.style.width=218,e.adButton.style.width=218),e.buttonTextType=l.text_type||0,_===Si){var C=+new Date;fa({buttonText:l.button_text,aid:e.adProxy.data.aid}).then((t=>{var i=+new Date;if(e.adProxy.reportRelationFetchDuration({startTime:C,endTime:i,showTime:e.showDetailTime||0}),t){var{count:a,descText:n}=t,o=`— 最近已有${a}人${n} —`;e.relationLine.value=o}else e.relationLine.value=""})).catch((t=>{e.relationLine.value="",e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_RELATION_FETCH_ERROR,t)}))}o===Ii.ANDROID?(e.adProxy.setAppInstallState(!1),aC.call(this)):o===Ii.WE_CHAT&&n.isFollowed&&0===e.buttonTextType&&iC.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})),e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_RENDER_SUCCESS})}catch(t){return e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_RENDER_ERROR_ALTERNATE}),e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_AD_RENDER_ERROR,t),e.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_RENDER_ERROR}),Promise.reject(t)}return Promise.resolve()}));return function(){return e.apply(this,arguments)}}(),ZT=function(){var e,t,i=vT(this);if(!mC.call(this)&&i.ad_type===DT&&i.data){var{video_url:a,video_duration:n}=i.data.short_video;i.videoDuration=1e3*n,!wT||null!==(e=i.adProxy.data)&&void 0!==e&&null!==(t=e.condition)&&void 0!==t&&t.widget_gray_interstitial_video_disable_preload||(i.preloadVideo=!0,i.preloadVideoSuccess=!1,i.adProxy.preloadVideo([a]).catch((e=>{i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_VIDEO_PRELOAD_ERROR,e)})))}},QT=function(e){if(!mC.call(this)){var t=vT(this);return e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})))}},eC=function(e){var t,i,a=vT(this);if(!mC.call(this)&&a.data){var n;if(a.clickCount>1)a.adProxy.reportRepeatClick({slotId:IT,costType:null!==(n=a.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,clkCnt:a.clickCount,lastClkPeriod:+new Date-a.lastLandingTime,retCode:a.lastJsapiStatus,costTime:a.lastJsapiCostTime,pageStayTime:a.landingPageCostTime,jsapiName:a.lastJsapiName});a.lastLandingTime=Date.now();var o,r=a.data.product_type===Ii.WE_CHAT&&e&&e.isButton&&!a.adProxy.data.biz_info.is_subscribed&&(null===(t=a.adProxy.data)||void 0===t||null===(i=t.button_action)||void 0===i?void 0:i.jump_type)===Ai.DEST_TYPE_ONEKEY_ATTENTION;if(e.isAddContact=!!r,r&&e.isButton)null==a||null===(o=a.adProxy)||void 0===o||o.reportAdMonitorData(ui.INTERSTITIAL_ONEKEY_FOLLOW);var s=a.adProxy.land(e);if(s.then((e=>{e.errMsg&&(a.lastJsapiName=e.errMsg.replace(":ok","")),r&&/ok/.test(e.errMsg)&&(0===a.buttonTextType&&iC.call(this,"查看公众号"),a.adProxy.data.biz_info&&(a.adProxy.data.biz_info.is_subscribed=1)),a.adProxy.isLandingPageApi(a.lastJsapiName)?(a.isLandingPage=!0,vC.call(this)):a.lastJsapiStatus=0,a.lastJsapiCostTime=+new Date-a.lastLandingTime})).catch((()=>{a.lastJsapiStatus=1})),r&&e.isButton&&QT.call(this,s),a.ad_type===DT)a.adProxy.reportVideo({playType:a.isPlaying?"partial":"complete",conditionType:"land",playDuration:a.videoCurrentTime,videoDuration:a.videoDuration,muted:TC.call(this)})}},tC=function(){var e=vT(this);if(!mC.call(this)&&e.data)return M(10).then((()=>e.adFetchResult.then((()=>{if(e.data&&e.isLandingPage){var t;e.lastJsapiStatus=0,e.isLandingPage=!1;var i=+new Date;e.landingPageCostTime=i-e.hideTime,e.adProxy.reportLandingTime({slotId:IT,costType:null!==(t=e.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,openTime:e.hideTime,closeTime:i,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),cC.call(this,3)}})).catch((()=>{}))))},iC=function(){var e=b()((function*(e){var t,i=vT(this);!mC.call(this)&&i.data&&(yield nC.call(this),i.data.useTemplate?null===(t=i.adTemplateRef)||void 0===t||t.emitEvent(ou.CHANGEADBTNTEXT,{text:e}):i.adButtonText.value=e)}));return function(t){return e.apply(this,arguments)}}(),aC=function(){var e=b()((function*(){var e=vT(this);if(!mC.call(this)&&e.data){var{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;try{var n=yield e.adProxy.getInstallState(t);n.isInstalled&&(void 0===n.versionCode||n.versionCode>=i)&&(e.androidAppState=4,e.adProxy.setAppInstallState(!0),a&&a.trim().length>0?iC.call(this,"进入应用"):iC.call(this,"查看应用"),1===e.buttonTextType&&iC.call(this,e.data.button_action.button_text))}catch(e){}}}));return function(){return e.apply(this,arguments)}}(),nC=function(e){if(!e||"function"!=typeof e)return new Promise((e=>nC.call(this,e)));var t=vT(this);try{var i,a;if(t.isReadyToShow&&null!=t&&null!==(i=t.data)&&void 0!==i&&i.useTemplate&&!t.isReady)null==t||null===(a=t.adProxy)||void 0===a||a.reportAdMonitorData(ui.INTERSTITIAL_SHOW_BUT_NOT_READY_TEMPLATE);else if(t.isReadyToShow&&!t.isReady){var n;null==t||null===(n=t.adProxy)||void 0===n||n.reportAdMonitorData(ui.INTERSTITIAL_SHOW_BUT_NOT_READY)}}catch(e){}return t.isReady?e():t.emitter.on("ready",e),Promise.resolve()},oC=function(){var e=b()((function*(){var e;if(mC.call(this))throw{errMsg:ST};var t=vT(this);if(t.adProxy.setTimePoint("p4"),t.isShow=!0,t.ad_type===DT){t.adProxy.setTimePoint("p20"),yC.call(this);var i=wC.call(this);i?(i.play(),i.autoplay=!0):t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOWTEMPLATE_NO_VIDEO),t.isFirstPlay=!0}yield KT.call(this),t.adProxy.setTimePoint("p5"),yield null===(e=t.adTemplateRef)||void 0===e?void 0:e.show()}));return function(){return e.apply(this,arguments)}}(),rC=function(){if(mC.call(this))return Promise.reject({errMsg:ST});var e=vT(this);return e.onceSwitched=!1,e.startShow=+new Date,e.body.style.width=ET,e.body.style.height=bT,!CT&&xT&&(e.body.style.hidden=!1),e.adProxy.setTimePoint("p4"),Promise.resolve().then((()=>{if(HT.call(this),mC.call(this))throw{errMsg:ST};if(e.isShow=!0,e.adProxy.setTimePoint("p22"),e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!0,e.ad_type===DT){e.adProxy.setTimePoint("p20"),yC.call(this),e.adMedia.play(),e.adMedia.autoplay=!0,e.isFirstPlay=!0;e.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:e.videoDuration,muted:e.adMedia.muted})}return qT.call(this).then((()=>(e.body.style.hidden&&(e.body.style.hidden=!1),e.container.style.hidden=!1,e.isSwitched?cC.call(this,6):e.container.animate({opacity:1,duration:300}).then((()=>(e.showDetailTime=+new Date,e.adProxy.setTimePoint("p5"),e.container.nextLayout((()=>MT.call(this)))))).catch((t=>{var i={errMsg:t,isSwitched:e.isSwitched,onceSwitched:e.onceSwitched,startShow:e.startShow,enterRoute:e.enterRoute,enterTime:e.enterTime,outRoute:e.outRoute,outTime:e.outTime,lastRoute:e.lastRoute};return e.adProxy.reportAdMonitorData(ui.INTERSTITIALAD_ANIMATE_ERROR,i),cC.call(this,6).then((()=>Promise.reject({errCode:2004,errMsg:"广告渲染失败，或因小程序页面切换导致广告渲染失败"})))})))))}))},sC=function({branchId:e,branchDim:t}={}){if(mC.call(this))return Promise.reject({errMsg:ST});var i=vT(this);if(1===(function(){if(om.hasOwnProperty("show")){var e=Object.keys(om.show).map((e=>om.show[e]));return Math.max(...e)}}()||0))return i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOW_FAIL3,FT.call(this)),Promise.reject({errCode:2003,errMsg:"当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告"});var{createWebviewId:a,currentWebviewId:n}=i.adProxy.getWebviewInfo();return a!==n?(i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOW_FAIL5,FT.call(this)),Promise.reject({errCode:2005,errMsg:"插屏广告并非当前页面调用，不允许展示插屏广告"})):(i.adProxy.setTimePoint("p19"),i.isSwitched=!1,rm("show",i.adType,1),i.showTime=+new Date,i.fetchBeginTime=(new Date).getTime(),e?i.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):i.adProxy.resetAnalyseBranchInfo(),i.adFetchResult.catch((()=>Promise.reject({errMsg:"no ad data"}))).then((()=>{var e=+new Date-+new Date(i.adProxy.getProgramStartTime());if(e<=1e3*i.launchTime)return i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOW_FAIL1,FT.call(this,{startInterval:e})),Promise.reject({errCode:2001,errMsg:"小程序启动一定时间内不允许展示插屏广告"});var t=function(){if(om.hasOwnProperty("close")){var e=Object.keys(om.close).map((e=>om.close[e]));return Math.max(...e)}}()||0,a=+new Date-t;return a<=1e3*i.frequencyTime?(i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOW_FAIL2,FT.call(this,{closeInterval:a})),Promise.reject({errCode:2002,errMsg:"距离小程序插屏广告或者激励视频广告上次播放时间间隔不足，不允许展示插屏广告"})):(LT.call(this,{stage:1001}),i.isReadyToShow=!0,nC.call(this).then((()=>i.data.useTemplate?oC.call(this):rC.call(this))).then((()=>{i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_SHOW_SUCCESS,FT.call(this))})))})).catch((e=>(rm("show",i.adType,0),Promise.reject(e)))))},lC=function(){var e=b()((function*(){var e;if(!mC.call(this)){var t,i=vT(this);if(i.androidAppState=0,null!==(e=i.data)&&void 0!==e&&e.useTemplate)i.handleAdTemplateEvent&&(null===(t=i.adTemplateRef)||void 0===t||t.offEvent(i.handleAdTemplateEvent)),yield hC.call(this),i.adTemplateRef=null,i.tmplContainer=null;i.data=null,i.isData=!1,i.isShow=!1,i.isReadyToShow=!1,i.cardXOM=null,i.cardStyle=null,i.startExposureTime=0,i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.adProxy.isViewable=!1,i.lastCloseTime=0,i.buttonTextType=0,i.startExposureTime=0,i.clickCount=0,i.lastLandingTime=0,i.lastJsapiName="",i.lastJsapiStatus=0,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0,i.hideTime=0,i.hideDuration=0,i.showTime=0,i.isClosing=!1,i.clickFirstGradeTime=0,i.body&&(i.body.style.hidden=!0),i.container&&(i.container.style.hidden=!0),i.isReady=!1,i.hasEmitShowHalf=!1,i.hasEmitHideHalf=!0,i.videoFirstPlayTime=0,i.videoStartPlay=!1,i.isEnded=!1,i.fetchBeginTime=0,i.videoCurrentTime=0,i.videoDuration=0,i.isPlaying=!1,i.isFirstPlay=!1,i.isFirstPlaySuccess=!1,i.preloadVideo=!1,i.preloadVideoSuccess=!1,i.keepAliveTimer=null,i.isSwitched=!1,i.onceSwitched=!1,i.startShow=0,i.showDetailTime=0,i.isEnded?LT.call(this,{stage:1005}):LT.call(this,{stage:1006}),rm("show",i.adType,0),rm("close",i.adType,+new Date),EC.call(this,"none"),!CT&&xT?M(100).then((()=>{i.emitter.emit("close")})):i.emitter.emit("close"),i.adProxy.reset()}}));return function(){return e.apply(this,arguments)}}(),dC=function(){var e=b()((function*(e){var t;if(mC.call(this))return Promise.resolve();var i=vT(this);i.adProxy.reportTimePoints({slotid:IT,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,extInfo:{preloadVideoSuccess:i.preloadVideoSuccess?1:0}}),[4,6].includes(e)||(yield i.container.animate({opacity:0,duration:300})),BT.call(this,e),2===e?VT.call(this,6):3===e&&VT.call(this,7),yield lC.call(this),4!==e&&(yield UT.call(this))}));return function(t){return e.apply(this,arguments)}}(),cC=function(e){var t=vT(this);return mC.call(this)||!t.data||t.isClosing?Promise.resolve():t.data.useTemplate?uC.call(this,e):t.container?(t.isClosing=!0,t.ad_type===DT&&(t.adProxy.reportVideo({playType:t.isEnded?"complete":"partial",conditionType:"close",playDuration:t.videoCurrentTime,videoDuration:t.videoDuration,muted:t.adMedia.muted}),t.adMedia.autoplay=!1,t.adMedia.pause(),vC.call(this),t.adMedia.muted=!0,t.adVideoAfter.style.opacity=0),t.container.ready().then((()=>dC.call(this,e))).then((()=>t.isClosing=!1)).catch((e=>{t.isClosing=!1,t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_HIDE_ERROR,e)}))):(t.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_NO_CONTAINER}),Promise.resolve())},uC=function(){var e=b()((function*(e){if(!mC.call(this)){var t=vT(this);if(t.adTemplateRef){t.isClosing=!0;try{var i;if(t.ad_type===DT){var a=wC.call(this);a?(a.autoplay=!1,a.pause(),a.muted=!0):t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_HIDETEMPLATE_NO_VIDEO),vC.call(this)}t.adTemplateRef.hide(),yield M(350),t.adProxy.reportTimePoints({slotid:IT,costtype:null!==(i=t.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,extInfo:{preloadVideoSuccess:t.preloadVideoSuccess?1:0}}),BT.call(this,e),2===e?VT.call(this,6):3===e&&VT.call(this,7),yield lC.call(this),4!==e&&t.adProxy.reportAdMonitorData(ui.IS_SWITCHED_HIDETEMPLATE),yield UT.call(this),t.isClosing=!1}catch(e){t.isClosing=!1,t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_HIDE_ERROR,e)}}}}));return function(t){return e.apply(this,arguments)}}(),hC=function(){var e=b()((function*(){var e,t,i,a=vT(this);null==a||null===(e=a.adTemplateRef)||void 0===e||e.offEvent(a.handleAdTemplateEvent),null==a||null===(t=a.adTemplateRef)||void 0===t||t.hide(),yield null==a||null===(i=a.adTemplate)||void 0===i?void 0:i.unmount({hostContainer:a.tmplContainer})}));return function(){return e.apply(this,arguments)}}(),pC=function(e,t){var i,a=vT(this);if(a.isShow||a.adProxy.reportAdMonitorData(ui.INTERSTITIAL_CROSSPAGE_MATERIAL_CLICK,t.toString()),!mC.call(this)&&a.data){var{appInfo:{urlScheme:n},product_type:o,dest_type:r,extBackComm:s}=a.data,l={isButton:Boolean((s.is_from_snsadinfo||23===(null===(i=a.data)||void 0===i?void 0:i.product_type))&&t===dT)};12===o&&wT&&4===a.androidAppState&&n&&n.trim().length>0?(NT.call(this,e),VT.call(this,t,e),a.adProxy.launchApplication(n,a.adProxy.data).catch((()=>{})),a.lastJsapiName="launchApplication",a.isLandingPage=!0):xT&&46===o&&6===r?Promise.race([NT.call(this,e),M(500)]).then((()=>{VT.call(this,t,e),eC.call(this,l)})).catch((()=>{VT.call(this,t,e),eC.call(this,l)})):(NT.call(this,e),VT.call(this,t,e),eC.call(this,l))}},fC=function(){var e=b()((function*(){var e,t=vT(this);Zw(t.handleEnterForeground),Qw(t.handleEnterBackground),t.emitter.off("_error"),t.emitter.off("load"),t.emitter.off("close"),null!==(e=t.data)&&void 0!==e&&e.useTemplate?yield hC.call(this):Eo.remove(t.body),sT(this)}));return function(){return e.apply(this,arguments)}}(),gC=function(){mC.call(this)||(nC.call(this).then((()=>{var e=vT(this);e.isShow&&(rm("show",e.adType,0),rm("close",e.adType,+new Date)),fC.call(this)})),this._destroyed=!0)},mC=function(){return this._destroyed},yC=function(){var e=vT(this);vC.call(this),e.keepAliveTimer=setTimeout((()=>{var t;e.adProxy.reportAdMonitorData(ui.INTERSTITIAL_KEEP_ALIVE,{currentTime:e.videoCurrentTime,duration:e.videoDuration,src:(null===(t=wC.call(this))||void 0===t?void 0:t.src)||"",preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},vC=function(){var e=vT(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},_C=function(){var e=b()((function*(){var e=vT(this);if(e.ad_type===AT){var t=yield e.adProxy.getChannelsLiveStatusWithRpc();EC.call(this,t)}}));return function(){return e.apply(this,arguments)}}(),EC=function(e){var t=vT(this);if(!mC.call(this)&&t.data){var i={adChannelsLiveReserve:!1,adChannelsLive:!1,adChannelsLiveEnd:!1};for(var a of("onlive"===e?i.adChannelsLive=!0:"end"===e?i.adChannelsLiveEnd=!0:"reserve"===e&&(i.adChannelsLiveReserve=!0),Object.keys(i))){var n;t.data.useTemplate&&t.adTemplateRef?t.adTemplateRef.emitEvent(ou.SETSTYLE,{targetid:`${t.adTemplateRef.getCustomId()}-${a}`,style:{display:i[a]?"":"none"}}):null!==(n=t[a])&&void 0!==n&&n.style&&(t[a].style.hidden=!i[a])}}},bC=function(e){var t=vT(this);if(!mC.call(this)&&t.data&&t.adTemplateRef)switch(e.action){case ou.TRIGGEREVENT:["error"].includes(e.value.eventName)&&t.emitter.emit(e.value.eventName,e.value.detail||{});break;case ou.HIDEAD:cC.call(this,0);break;case ou.ADSHOWHALF:setTimeout((()=>{t.isSwitched&&t.adProxy.reportAdMonitorData(ui.IS_SWITCHED_CHECKEXPOSURE)}),500);break;case ou.ADHIDEHALF:break;case ou.CHECKEXPOSURE:MT.call(this);break;case ou.FEEDBACKREPORT:WT.call(this,e.value);break;case ou.ADVIDEOPLAY:YT.call(this);break;case ou.ADVIDEOTIMEUPDATE:zT.call(this,e.value);break;case ou.ADVIDEOENDED:jT.call(this);break;case ou.ADVIDEOLOADFAILED:var i="videoError";"value"in e&&(i=e.value),$T.call(this,i);break;case ou.REPORTVIDEOPLAY:var{playType:a,conditionType:n,videoInfo:{playDuration:o,videoDuration:r,isMuted:s}}=e.value;t.adProxy.reportVideo({playType:a,conditionType:n,playDuration:o,videoDuration:r,muted:s});break;case ou.FETCHRELATIONTEXT:var l,d,{targetid:c}=e.value,{crtInfo:u,button_action:h}=t.data;if(8===(null==u||null===(l=u[0])||void 0===l||null===(d=l.card_info)||void 0===d?void 0:d.mp_tag_type)){var p=+new Date;fa({buttonText:h.button_text,aid:t.adProxy.data.aid}).then((e=>{var i=+new Date;if(t.adProxy.reportRelationFetchDuration({startTime:p,endTime:i,showTime:t.showDetailTime||0}),e){var a,{count:n,descText:o}=e,r=`— 最近已有${n}人${o} —`;null===(a=t.adTemplateRef)||void 0===a||a.emitEvent(ou.CHANGERELATIONTEXT,{targetid:c,text:r})}})).catch((e=>{t.adProxy.reportAdMonitorData(ui.INTERSTITIAL_RELATION_FETCH_ERROR,e)}))}break;case ou.TEMPLATEMESSAGE:var f,g;"posClick"===e.value.message&&null!==(f=e.value.actionArgs)&&void 0!==f&&f.event&&null!==(g=e.value.args)&&void 0!==g&&g.pos&&xC.call(this,e.value.actionArgs.event,e.value.args.pos);break;default:t.adProxy.handleAdTemplateEvent(e)}},xC=function(){var e=b()((function*(e,t){var i={judgeClick:!1,clickLimit:null,closeType:null,clickType:null,reportFraudType:null};switch(t){case"mask":Object.assign(i,{clickLimit:hT,closeType:mT,reportFraudType:hT});break;case"cancelBox":Object.assign(i,{clickLimit:uT,closeType:gT,reportFraudType:uT});break;case"adImage":case"adVideo":case"videoAfter":Object.assign(i,{judgeClick:!0,clickLimit:cT,clickType:cT});break;case"adButton":Object.assign(i,{judgeClick:!0,clickLimit:dT,clickType:dT});break;case"wording":i.reportFraudType=pT;break;case"afterDislike":Object.assign(i,{closeType:yT,reportFraudType:fT})}kT.call(this,e,i.judgeClick)&&(i.clickLimit&&PT.call(this,e,i.clickLimit)||(i.clickType&&(yield pC.call(this,e,i.clickType)),i.reportFraudType&&VT.call(this,i.reportFraudType,e),null!=i.closeType&&(yield cC.call(this,i.closeType))))}));return function(t,i){return e.apply(this,arguments)}}(),wC=function(){var e,t=vT(this);return mC.call(this)||!t.data?null:t.data.useTemplate?(null===(e=t.adTemplateRef)||void 0===e?void 0:e.getElementById("adVideo","video"))||null:t.adMedia},TC=function(){var e;return(null===(e=wC.call(this))||void 0===e?void 0:e.muted)||!1};class CC extends oT{constructor({adUnitId:e,pluginId:t=""}){super(),this._destroyed=!1;var i=vT(this);i.adUnitId=e,i.adType="interstitialAd",i.cardXOM=null,i.cardStyle=null,i.ad_type="image",i.emitter=new _f,i.adProxy=new Dp({adUnitId:e,adType:"interstitialAd",pluginAppid:t}),i.adTemplate=new mp({hostConfig:YE,hostContext:{onAppEnterForeground:Kw,offAppEnterForeground:Zw,onAppEnterBackground:Jw,offAppEnterBackground:Qw,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:En(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),M(t.duration)]),getTextWidth:(e,t)=>iT.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}),i.androidAppState=0,i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.isReady=!1,i.isShow=!1,i.isReadyToShow=!1,i.emitter.on("ready",(()=>i.isReady=!0)),i.lastCloseTime=0,i.autoCloseTime=15,i.launchTime=15,i.frequencyTime=15,i.startExposureTime=0,i.clickCount=0,i.lastLandingTime=0,i.lastJsapiName="",i.lastJsapiStatus=0,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0,i.hideTime=0,i.showTime=0,i.hideDuration=0,i.isClosing=!1,i.clickFirstGradeTime=0,i.videoFirstPlayTime=0,i.videoStartPlay=!1,i.isEnded=!1,i.fetchBeginTime=0,i.videoCurrentTime=0,i.videoDuration=0,i.isPlaying=!1,i.isFirstPlay=!1,i.preloadVideo=!1,i.preloadVideoSuccess=!1,i.keepAliveTimer=null,i.hasEmitShowHalf=!1,i.hasEmitHideHalf=!0,i.tmplContainer=null,i.isData=!1,i.isSwitched=!1,i.onceSwitched=!1,i.startShow=0;var{openType:a,createWebviewId:n,lastWebviewId:o,currentWebviewId:r}=i.adProxy.getWebviewInfo(),s=[a,o,r,n];i.outRoute="",i.lastRoute="",i.enterTime=0,i.outTime=0,n===r&&(i.enterRoute=s.join("|"),i.enterTime=+new Date,i.lastRoute="enter"),n===o&&(i.outRoute=s.join("|"),i.outTime=+new Date,i.lastRoute="out"),i.handleAdTemplateEvent=e=>{bC.call(this,e)},i.fetchPromise=null,UT.call(this),CT||(qw((e=>{if(!mC.call(this)){var{createWebviewId:t,lastWebviewId:a,currentWebviewId:n}=i.adProxy.getWebviewInfo(),o=[e.openType,a,n,t];t===n&&(i.enterRoute=o.join("|"),i.enterTime=+new Date,i.onceSwitched=!0,i.lastRoute="enter"),t===a&&(i.outRoute=o.join("|"),i.outTime=+new Date,i.onceSwitched=!0,i.lastRoute="out"),i.isShow&&["navigateBack"].includes(e.openType)&&t===a&&cC.call(this,4)}})),Xw((()=>{if(!mC.call(this)){var{openType:e,createWebviewId:t,currentWebviewId:a}=i.adProxy.getWebviewInfo();if(["navigateTo","navigateBack","switchTab"].includes(e)&&t===a){i.isSwitched=!0;try{i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_JUDGE_SWITCH)}catch(e){}if(i.isShow){cC.call(this,4);try{i.adProxy.reportAdMonitorData(ui.INTERSTITIAL_JUDGE_SWITCH_CLOSE)}catch(e){}}}}})),Yw((e=>{!mC.call(this)&&i.isShow&&i.data&&e.size&&(bT=e.size.screenHeight,ET=e.size.screenWidth,TT=e.deviceOrientation,i.data.useTemplate?KT.call(this).then((()=>{i.adTemplateRef.emitEvent(ou.HOSTMESSAGE,{message:"screenResize"})})):qT.call(this))}))),i.handleEnterForeground=()=>{if(!mC.call(this)&&i.data){i.ad_type===DT&&i.isShow&&yC.call(this),i.data&&i.data.product_type===Ii.WE_CHAT&&i.adProxy.checkFollow(i.data.app.uin).then((e=>{if(mC.call(this))i.adProxy.reportAdMonitorData(ui.CHECK_FLOW_ERROR);else if(i.data&&0===i.buttonTextType){var t=i.data.button_action.button_text;iC.call(this,e?"查看公众号":t)}}));var e=TT;HT.call(this),e!==TT&&i.isShow&&(i.data.useTemplate?KT.call(this):qT.call(this)),i.hideTime>0&&i.isShow&&(i.hideDuration+=+new Date-i.hideTime),tC.call(this)}},i.handleEnterBackground=()=>{if(!mC.call(this)&&i.isShow&&(i.hideTime=+new Date,i.ad_type===DT)){vC.call(this);i.adProxy.reportVideo({playType:i.isPlaying?"partial":"complete",conditionType:"exit",playDuration:i.videoCurrentTime,videoDuration:i.videoDuration,muted:TC.call(this)})}},Kw(i.handleEnterForeground),Jw(i.handleEnterBackground),aT("onVideoResourceLoad",(e=>{var t=wC.call(this);!i.isShow&&i.ad_type===DT&&t&&t.src===e.resource&&(i.adProxy.reportAdIDKey({key:ui.INTERSTITIAL_VIDEO_PRELOAD_SUCCESS}),i.preloadVideoSuccess=!0,t.src=e.resource)}))}load(){if(mC.call(this))return Promise.reject({errMsg:ST});var e=vT(this);return e.isShow?Promise.reject({errMsg:"can't invoke load() while interstitial-ad is showed"}):e.isData?Promise.resolve():UT.call(this)}show(e){return mC.call(this)?Promise.reject({errMsg:ST}):sC.call(this,e)}destory(){gC.call(this)}destroy(){gC.call(this)}onError(e){mC.call(this)||vT(this).emitter.on("_error",e)}offError(e){mC.call(this)||vT(this).emitter.off("_error",e)}onLoad(e){mC.call(this)||vT(this).emitter.on("load",e)}offLoad(e){mC.call(this)||vT(this).emitter.off("load",e)}onClose(e){mC.call(this)||vT(this).emitter.on("close",e)}offClose(e){mC.call(this)||vT(this).emitter.off("close",e)}getSplashAdShowStatus(){return vT(this).adProxy.getSplashAdShowStatus()}}var{_onShow:AC,_onHide:DC,_offShow:IC,_offHide:SC}=y,kC=e=>!(e.isDestroyed()||!Y(e,["rootElement","layoutBox"]));class PC{constructor({manager:e,adProxy:t,emitter:i}){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.exposureTimer=null,this.clickFirstGradeTime=0,this.adProxy=void 0,this.manager=void 0,this.emitter=void 0,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set,this.hasEmitShowHalf=!1,this.landManager=void 0,this.handleEnterForeground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(st),e.emitAdCustomEvent(Mt.ADSHOWHALF)))},this.handleEnterBackground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(lt),e.emitAdCustomEvent(Mt.ADHIDEHALF)))},this.handleAdCustomEvent=e=>{switch(e.action){case Mt.ADVIDEOPLAY:this.checkVideoViewableExposure(!0);break;case Mt.ADVIDEOPAUSE:this.checkVideoViewableExposure(!1);break;case Mt.REPORTVIDEOPLAY:this.reportVideoPlay(e.value.playType,e.value.conditionType,e.value.videoInfo);break;case Mt.FEEDBACKREPORT:this.reportAdFeedbackData(e.value);break;case Mt.REPORTENDPAGE:this.reportEndPage(e.value.data);break;case Mt.REPORTMMDATA:e.value.id&&e.value.data&&this.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case Mt.BTNTAP:this.manager.rootComponent&&this.manager.rootComponent.emitComponentEvent(nt),this.handleClick(e.value.event,1,!0);break;case Mt.CHANGEMULTISHOW:this.multiShowList=e.value.list,this.checkExposure()}},this.manager=e,this.adProxy=t,this.emitter=i,this.bindEvent()}setMultiShowList(e=[]){this.multiShowList=[...e]}destroy(){this.unbindEvent()}reset(){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.hasEmitShowHalf=!1,this.adProxy.isViewable=!1,this.exposureTimer&&clearTimeout(this.exposureTimer),this.exposureTimer=null,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set}bindEvent(){this.emitter.on("adCustomEvent",this.handleAdCustomEvent),AC(this.handleEnterForeground),DC(this.handleEnterBackground)}unbindEvent(){this.emitter.off("adCustomEvent",this.handleAdCustomEvent),IC(this.handleEnterForeground),SC(this.handleEnterBackground)}judgeTriggerClick(e,t=!0){if(this.manager.isDestroyed())return!1;var i=this.adProxy.isTriggerClick(e),a=i?0:1;return t&&this.reportTouchClick(e,a),i}reportTouchClick(e,t){if(kC(this.manager)){var{width:i,height:a}=this.manager.rootElement.layoutBox,n=0;[0,2,3].includes(t)&&(this.clickCount+=1,n=this.clickCount),this.adProxy.reportTouchClick({slotid:this.manager.getSlotId(),costtype:Y(this.adProxy,["adData","data","is_cpm"])?1:2,click_time:Date.now(),click_cnt:n,start_posx:Math.round(e.relativeX||0),start_posy:Math.round(e.relativeY||0),end_posx:Math.round(e.relativeEndX||0),end_posy:Math.round(e.relativeEndY||0),ad_width:i||0,ad_height:a||0,press_interval:e.pressInterval,block_click:t})}}handleClick(e,t,i=!1){if(!this.manager.isDestroyed()&&this.manager.adData){var{appInfo:{urlScheme:a},product_type:n,dest_type:o}=this.manager.adData;this.manager.clearAdTimer(),n===Zi.OPEN_PLATFORM_APP_MOB&&k&&this.landManager.downloadState===Ti&&a&&a.trim().length>0?(this.reportClick(e),this.reportAntifraud(t,e),this.adProxy.launchApplication(a,this.adProxy.data).catch((()=>{})),this.manager.landManager.lastJsapiName="launchApplication",this.manager.landManager.isLandingPage=!0):P&&n===Ii.MINI_GAME&&6===o?Promise.race([this.reportClick(e),M(500)]).then((()=>{this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:i})})).catch((()=>{this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:i})})):(this.reportClick(e),this.reportAntifraud(t,e),this.manager.landManager.landing({isButton:i}))}}reportClick(e){if(kC(this.manager)){var{left:t,top:i,width:a,height:n}=this.manager.rootElement.layoutBox,{adCustomId:o}=this.manager,r=(e=>nf.videoDataMap[e]||{})(o);this.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-t,clickRelativeTop:e.absoluteY-i,pressInterval:e.pressInterval,isMulti:this.manager.isMulti,left:t,top:i,width:a,height:n,videoData:r})}}isClickLimit(e,t=0){var{adProxy:i,manager:{rootElement:a}}=this;if(!a)return!1;var{width:n,height:o}=a.layoutBox,{left:r,top:s}=a.getAbsolutePosition(),l=!1,d=0;i.isValidCondition("widget_gray_time_limit")&&(d=100*(this.manager.adData.condition.widget_gray_time_limit||1)),d>0&&Date.now()-this.showedExposureTime<d&&(l=!0,i.reportAdMonitorData(gi.AD_LIMIT_TIME,{clickType:t}));var c=0;return i.isValidCondition("widget_gray_bd_limit")&&(c=this.manager.adData.condition.widget_gray_bd_limit||0),"devtools"!==I&&e&&c>0&&(e.absoluteEndX-r<c||r+n-e.absoluteEndX<c||e.absoluteEndY-s<c||s+o-e.absoluteEndY<c)&&(l=!0,i.reportAdMonitorData(gi.AD_LIMIT_BOUNDARY)),l}reportExposure({isViewable:e}){var t=this;return b()((function*(){if(kC(t.manager)){var{rootElement:i,rootComponent:a,isMulti:n}=t.manager,{left:o,top:s,width:l,height:d}=i.layoutBox,c={left:o,top:s,width:l,height:d};t.adProxy.isOriginExposureArea(c)||t.adProxy.reportAdMonitorData(gi.ORIGIN_EXPOSURE_ERROR);var u=t.adProxy.isViewableExposureArea(c);if(e&&!u&&t.adProxy.reportAdMonitorData(gi.VIEWABLE_EXPOSURE_ERROR),n){var h=e?t.multiViewableExposureList:t.multiExposureList,p=t.multiShowList.filter((e=>!h.has(e)));p.length&&(p.forEach(h.add,h),a.emitComponentEvent(e?ot:rt,{exposureList:p}),yield t.adProxy.reportExposure(r()(r()({},c),{},{multiList:p,isMulti:n,exposureType:e?"viewable":"showed"})))}else e?a.emitComponentEvent(ot):a.emitComponentEvent(rt),yield t.adProxy.reportExposure(r()(r()({},c),{},{exposureType:e?"viewable":"showed"}))}}))()}checkExposure(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){var t=e.adProxy.data.condition.widget_gray_custom_exposure_area_detect;if(!kC(e.manager))return yield M(0),void(yield e.checkExposure());var i=r()({},e.manager.rootElement.layoutBox);for(var a of["left","top","width","height"])!i[a]&&e.manager.rootElement.style[a]&&(i[a]=e.manager.rootElement.style[a]);var{rootComponent:n,isMulti:o}=e.manager,s=n.isShow(),{exposureUntilVideoPlay:l}=n;!e.manager.adProxy.isOriginExposureArea(i)&&t||((o||!e.isExposured&&s)&&(e.isExposured=!0,e.showedExposureTime=Date.now(),e.reportExposure({isViewable:!1})),s&&!e.hasEmitShowHalf?(e.hasEmitShowHalf=!0,n.emitComponentEvent(st),n.emitAdCustomEvent(Mt.ADSHOWHALF)):s||(e.hasEmitShowHalf=!1,n.emitComponentEvent(lt),n.emitAdCustomEvent(Mt.ADHIDEHALF)),l||(s?e.exposureTimer=setTimeout((()=>{if(e.manager.adProxy.isViewableExposureArea(i)||!t){var a=n.isShow();(o||!e.isViewableExposured&&a)&&(e.isViewableExposured=!0,e.adProxy.isViewable=!0,e.reportExposure({isViewable:!0}))}}),1e3):e.exposureTimer&&clearTimeout(e.exposureTimer)))}}))()}checkVideoViewableExposure(e){var{rootElement:t,rootComponent:i}=this.manager;if(!this.manager.isDestroyed()&&t&&i){var a=i.isShow(),{exposureUntilVideoPlay:n}=i,{left:o,top:r,width:s,height:l}=t.layoutBox;n&&(a&&e?this.exposureTimer=setTimeout((()=>{this.isViewableExposured||(this.isViewableExposured=!0,this.adProxy.isViewable=!0,this.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"viewable"}),i.emitComponentEvent(ot))}),0):this.exposureTimer&&clearTimeout(this.exposureTimer))}}reportAntifraud(e,t){var i=this;return b()((function*(){var a;if(yield i.manager.ready(),kC(i.manager)){var{width:n,height:o}=i.manager.rootElement.layoutBox;i.adProxy.reportAntifraud({click_button:e,cost_type:null!==(a=i.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,slotid:i.manager.getSlotId(),is_game:Un.isWaGame?1:0,pageentertime:+new Date(i.adProxy.getProgramStartTime()),ad_width:n||0,ad_height:o||0,clientexptime:i.showedExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX||0),pos_y:Math.round(t.absoluteY||0),screen_width:Un.screenWidth,screen_height:Un.screenHeight})}}))()}reportCloseAction(e){if(!this.manager.isDestroyed()){var t=Date.now();this.adProxy.reportCloseAction({slotid:this.manager.getSlotId(),is_game:Un.isWaGame?1:0,costtype:Y(this.adProxy,["data","is_cpm"])?1:2,close_type:e,exposure_duration:t-this.showedExposureTime-this.hideDuration,start_time:this.showedExposureTime,close_time:t})}}reportAdFeedbackData({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){this.manager.isDestroyed()||(e&&!i&&(this.clickFirstGradeTime=Date.now()),this.adProxy.reportAdFeedbackData({adWidth:Un.screenWidth,adHeight:Un.screenHeight,adPosX:0,adPosY:0,expTime:this.showedExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?this.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?Date.now():0,feedbackReason:n}))}reportFollow(e){if(!this.manager.isDestroyed())return e.then((e=>/ok/.test(e.errMsg)?this.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?this.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>this.adProxy.reportFollow({result:"fail"})))}reportVideoPlay(e,t,{playDuration:i,isMuted:a,videoDuration:n}){this.adProxy.reportVideo({playType:e,conditionType:t,playDuration:i,videoDuration:n,muted:a})}reportEndPage({ace_type:e,exposure_duration:t=0}={}){this.adProxy.reportEndPage({slotid:this.manager.getSlotId(),costtype:Y(this.adProxy,["adData","data","is_cpm"])?1:2,posType:this.adProxy.data.pos_type,isGame:Un.isWaGame?1:0,ace_type:e,exposure_duration:t})}reportTimePoints(){this.adProxy.reportTimePoints({slotid:this.manager.getSlotId(),costtype:Y(this.adProxy,["adData","data","is_cpm"])?1:2})}}class RC{constructor({manager:e,reporter:t}){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.hideTime=null,this.isLandingPage=!1,this.landingPageCostTime=0,this.downloadState=wi,this.downloadProgress=0,this.manager=void 0,this.reporter=void 0,this.adProxy=void 0,this.manager=e,this.adProxy=e.adProxy,this.reporter=t}reset(){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.isLandingPage=!1,this.landingPageCostTime=0}checkAdState(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){if(yield M(10),e.isLandingPage){var t;e.adProxy.setTimePoint("p11"),e.lastJsapiStatus=0,e.isLandingPage=!1;var i=Date.now();e.landingPageCostTime=e.hideTime?i-e.hideTime:0,e.adProxy.reportLandingTime({slotId:e.manager.getSlotId(),costType:be(e.adProxy,["adData","data","is_cpm"])?1:2,openTime:e.hideTime,closeTime:i,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.reporter.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),null!==(t=e.manager.rootComponent)&&void 0!==t&&t.hideAfterLanding&&e.manager.hide()}e.manager.isShow&&e.manager.setAdTimer()}}))()}checkFollow(){var e=this;return b()((function*(){var{adData:t}=e.manager,i=be(t,["button_action","text_type"],0),a=yield e.adProxy.checkFollow(t.app.uin);0===i&&e.manager.updateButtonText({text:a?"查看":t.button_action.button_text}),e.adProxy.data.biz_info&&(e.adProxy.data.biz_info.is_subscribed=a?1:0)}))()}checkAppInstallState(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){var{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.manager.adData;try{var n=yield e.adProxy.getInstallState(t);n.isInstalled&&(void 0===n.versionCode||n.versionCode>=i)&&(e.downloadState=Ti,e.downloadProgress=0,e.adProxy.setAppInstallState(!0),a&&a.trim().length>0?e.manager.updateButtonText({text:"进入应用"}):e.manager.updateButtonText({text:"查看应用"}))}catch(e){}}}))()}landing(e){if(!this.manager.isDestroyed()){this.reporter.clickCount>1&&this.adProxy.reportRepeatClick({slotId:this.manager.getSlotId(),costType:be(this.adProxy,["data","is_cpm"])?1:2,clkCnt:this.reporter.clickCount,lastClkPeriod:Date.now()-this.lastLandingTime,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,pageStayTime:this.landingPageCostTime,jsapiName:this.lastJsapiName});var t=this.adProxy.land(e),i=be(this.adProxy,["data","button_action","text_type"],0);this.adProxy.data.product_type===Zi.WECHAT&&be(e,["isButton"])&&!this.adProxy.data.biz_info.is_subscribed?(t.then((e=>{var t=/ok/.test(e.errMsg);t&&0===i&&(this.manager.updateButtonText({text:"查看公众号"}),this.adProxy.data.biz_info&&(this.adProxy.data.biz_info.is_subscribed=1),this.adProxy.reportAdIDKey({key:gi.FOLLOW_SUCCESS})),e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var a,n=Date.now();(this.lastJsapiStatus=0,this.lastJsapiCostTime=n-this.lastLandingTime,"private_addContact"===this.lastJsapiName)&&this.adProxy.reportLandingTime({slotId:this.manager.getSlotId(),costType:null!==(a=this.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,openTime:this.lastLandingTime,closeTime:n,stayTime:this.lastJsapiCostTime,jsapiName:this.lastJsapiName,clickTime:this.lastLandingTime,clkCnt:this.reporter.clickCount,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});this.manager.isShow&&this.manager.setAdTimer()})).catch((()=>{this.lastJsapiStatus=1})),this.reporter.reportFollow(t)):t.then((e=>{e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","")),["private_openUrl","navigateToMiniProgram","openADCanvas","launchApplication"].includes(this.lastJsapiName)?this.isLandingPage=!0:this.lastJsapiStatus=0,this.lastJsapiCostTime=Date.now()-this.lastLandingTime})).catch((()=>{this.lastJsapiStatus=1}))}}}var OC=new WeakMap,NC=e=>OC.get(e);var{_onShow:LC,_onHide:MC,_offShow:BC,_offHide:VC,deviceInfo:WC}=y,FC="customAd has been destroyed",HC=1;class UC{constructor({adUnitId:t,adIntervals:i=0,left:a,top:n,width:o,height:r,fixed:s,style:l}){if(this.adUnitId=void 0,this.adCustomId=void 0,this.adProxy=void 0,this.reporter=void 0,this.landManager=void 0,this.isShow=!1,this.rootElement=null,this.rootComponent=null,this.systemInfo=null,this.adData=null,this.adDatas=[],this.showDetailTime=0,this.callbacks={load:[],error:[],close:[],hide:[]},this.adType="customAd",this.emitter=new _f,this.isReady=!1,this.isDestroy=!1,this.isShowing=!1,this.isHiding=!1,this.fetchedError=null,this.template=null,this.tplConfig=null,this.slotId=void 0,this.adIntervals=void 0,this.adTimer=null,this.readyResolve=new Set,this.adPosition=void 0,this.isMulti=!1,this.handleReady=()=>{if(!this.isReady){for(var e of this.readyResolve)e();this.readyResolve.clear(),this.isReady=!0}},this.handleEnterBackground=()=>{this.landManager.hideTime=Date.now(),this.clearAdTimer()},this.handleEnterForeground=()=>{this.landManager.checkAdState(),this.landManager.hideTime&&(this.reporter.hideDuration+=Date.now()-this.landManager.hideTime)},this.handleAdCustomEvent=e=>{var t;switch(e.action){case Mt.TRIGGEREVENT:["error","videodislike"].includes(e.value.eventName)&&this.emitter.emit(e.value.eventName,e.value.detail||{});break;case Mt.SHOWFEEDBACK:null===(t=this.rootComponent)||void 0===t||t.showFeedback();break;case Mt.FEEDBACKBTNTAP:this.adProxy.openFeedbackUrl(WC.isWaGame?1003:1005);break;case Mt.HIDEAD:this.hide();break;case Mt.REPORTTIMEPOINT:e.value.key&&this.adProxy.setTimePoint(e.value.key);break;case Mt.ADSHOWHALF:this.isShow=!0;break;case Mt.ADHIDEHALF:this.isShow=!1;break;case Mt.CHECKEXPOSURE:this.reporter.checkExposure();break;case Mt.LANDAD:var{index:i,event:a}=e.value;if(this.reporter.isClickLimit(a))return;this.isMulti&&this.adProxy.setCurrentData(i),this.reporter.handleClick(a,1,!1)}},this.handleLoad=e=>this.emitCallback("load",e),this.handleError=e=>this.emitCallback("error",e),this.handleClose=()=>this.emitCallback("close"),this.handleHide=()=>this.emitCallback("hide"),this.handleVideoDislike=()=>this.emitCallback("videodislike"),this.onLoad=e=>this.callbacks.load.push(e),this.onError=e=>this.callbacks.error.push(e),this.onClose=e=>this.callbacks.close.push(e),this.onHide=e=>this.callbacks.hide.push(e),this.onVideoDislike=e=>this.callbacks.videoDislike.push(e),this.offLoad=e=>this.removeCallback("load",e),this.offError=e=>this.removeCallback("error",e),this.offClose=e=>this.removeCallback("close",e),this.offHide=e=>this.removeCallback("hide",e),this.offVideoDislike=e=>this.removeCallback("videodislike",e),t||e.error("广告单元 id(unit-id) 为空, 请先在 'https://mp.weixin.qq.com' 上创建广告单元"),this.adUnitId=t,this.slotId="4071202390577885",this.adCustomId=`AD_CUSTOM_${HC}`,HC+=1,this.adPosition={left:a,top:n,width:o,height:r,fixed:s},l&&"object"==typeof l){for(var d of["left","top","width","height","fixed"])null!=l[d]&&(this.adPosition[d]=l[d])}O()&&delete this.adPosition.fixed,this.adProxy=new Dp({adUnitId:t,adType:this.adType}),this.reporter=new PC({manager:this,adProxy:this.adProxy,emitter:this.emitter}),this.landManager=new RC({manager:this,reporter:this.reporter}),this.adIntervals="number"==typeof i?i:0,this.reporter.landManager=this.landManager,this.bindEvent(),this.fetchAndRender()}getSlotId(){return this.slotId}bindEvent(){this.emitter.on("load",this.handleLoad),this.emitter.on("error",this.handleError),this.emitter.on("videoDislike",this.handleVideoDislike),this.emitter.on("close",this.handleClose),this.emitter.on("hide",this.handleHide),this.emitter.on("adCustomEvent",this.handleAdCustomEvent),this.onLoad(this.handleReady),this.onError(this.handleReady),LC(this.handleEnterForeground),MC(this.handleEnterBackground)}unbindEvent(){this.emitter.off("load",this.handleLoad),this.emitter.off("error",this.handleError),this.emitter.off("videoDislike",this.handleVideoDislike),this.emitter.off("close",this.handleClose),this.emitter.off("hide",this.handleHide),this.emitter.off("adCustomEvent",this.handleAdCustomEvent),this.offLoad(this.handleReady),this.offError(this.handleReady),BC(this.handleEnterForeground),VC(this.handleEnterBackground)}fetchAndRender({isAdInterval:e=!1,autoUnmount:t=!1}={}){var i=this;return b()((function*(){try{var a,n,[o,r]=yield Promise.all([i.adProxy.fetch(e),i.getSystemInfo(),Hn?Promise.resolve(Un):new Promise((e=>{D.onReady((()=>{Hn=!0,Un.deviceOrientation=ya();var t=Fn();Un.screenWidth=t.screenWidth||0,Un.screenHeight=t.screenHeight||0,Un.isWaGame=O(),e(Un)}))}))]);t&&i.resetState(),i.systemInfo=r,i.adData=o,i.adDatas=i.adProxy.datas||[],i.template=i.getTemplateFromAdData(o),i.tplConfig=(null===(a=i.template)||void 0===a?void 0:a.tplConfig)||{},i.checkSize(),yield i.render(),i.adProxy.reportAdMonitorData(gi.RENDER_SUCCESS);var s={errMsg:"load advertisement success"};null!==(n=i.rootComponent)&&void 0!==n&&n.exportAid&&(s.aid=i.adData.aid),i.emitter.emit("load",s),i.fetchedError=null,i.adProxy.preloadLanding()}catch(e){i.adProxy.reportAdMonitorData(gi.RENDER_FAILED,e);var l=null!=e&&e.errCode?e:{errCode:Ei,errMsg:"customAd render failed"};i.fetchedError=l,i.emitter.emit("error",l)}}))()}getTemplateFromAdData(e){return e.template}checkSize(){if(this.tplConfig){var{tplConfig:e}=this,{width:t}=this.adPosition;null==t&&(t=WC.screenWidth),t=Number(t);var i=e.minWidth||0,a=e.maxWidth||0,n=e.baseWidth||375,o=Math.min(WC.screenWidth,Math.max(i,t));a&&(o=Math.min(o,a)),0===o&&(this.adProxy.reportAdMonitorData(gi.WIDTH_GET_ERROR,{unitId:this.adUnitId}),uf(n,n)),this.adPosition.width=o,uf(o,n)}}reload(){}updateButtonText({text:e,progress:t}){var i;null===(i=this.rootComponent)||void 0===i||i.emitAdCustomEvent(Mt.CHANGEADBTNTEXT,{text:e||"",progress:t||0})}getSystemInfo(){return WC}ready(){return new Promise(((e,t)=>{var i=()=>{this.fetchedError?t(this.fetchedError):e()};this.isReady?i():this.readyResolve.add(i)}))}removeCallback(e,t){this.callbacks[e]&&(this.callbacks[e]=t?this.callbacks[e].filter((e=>e!==t)):[])}emitCallback(e,t){if(this.callbacks[e])for(var i of this.callbacks[e])"function"==typeof i&&i(t)}show({branchId:e,branchDim:t}={}){var i=this;return b()((function*(){if(i.isDestroyed())throw{errMsg:FC};if(i.isShow||i.isShowing)throw{errMsg:"the advertisement has shown"};i.isShowing=!0,e?i.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):i.adProxy.resetAnalyseBranchInfo();try{yield i.ready(),i.rootComponent&&i.rootComponent.show(),i.setAdTimer()}finally{i.isShowing=!1}}))()}setAdTimer(){var e,t;this.rootComponent&&!this.rootComponent.enableTimer||(t=this.adIntervals>=30&&this.adIntervals<=3600?1e3*this.adIntervals:null!==(e=this.adData)&&void 0!==e&&e.refreshTime?1e3*this.adData.refreshTime:null)&&(this.adTimer&&clearTimeout(this.adTimer),this.adTimer=setTimeout((()=>this.refetch(!0)),t))}clearAdTimer(){this.isDestroyed()||this.adTimer&&(clearTimeout(this.adTimer),this.adTimer=null)}refetch(e=!1){var t=this;return b()((function*(){if(!t.isDestroyed()&&t.isShow)try{yield t.fetchAndRender({isAdInterval:e,autoUnmount:!0}),yield t.show(),t.adProxy.reportAdMonitorData(gi.REFETCH_SUCCESS),t.rootElement&&(yield t.rootElement.nextLayout(),t.reporter.checkExposure())}catch(e){t.adProxy.reportAdMonitorData(gi.REFETCH_FAILED,e);var i={errCode:Ei,errMsg:"customAd render failed"};t.emitter.emit("error",i)}}))()}hide(e=!1){var t=this;return b()((function*(){var i;if(t.isDestroyed())throw{errMsg:FC};if(t.isShow&&!t.isHiding){if(t.isHiding=!0,null===(i=t.rootComponent)||void 0===i||i.hide(),t.clearAdTimer(),e)t.emitter.emit("hide");else{t.isReady=!1,t.emitter.emit("close"),t.resetState(),t.adProxy.setTimePoint("p14"),t.reporter.reportTimePoints();var a=!1;t.rootComponent&&(a=t.rootComponent.getRootData("refetchable")),a?(t.unmount(),yield t.fetchAndRender()):yield t.destroy()}t.isHiding=!1}}))()}destroy(){var e=this;return b()((function*(){if(!e.isDestroyed()){e.isDestroy=!0;try{yield e.ready()}catch(e){}e.clearAdTimer(),e.unbindEvent(),e.resetState(),e.callbacks={load:[],error:[],close:[]},e.reporter.destroy()}}))()}isDestroyed(){return this.isDestroy}canHideAd(){return!!this.rootComponent&&this.rootComponent.getRootData("hidable")}resetState(){this.unmount(),this.rootComponent=null,this.rootElement=null,this.isReady=!1,this.isShow=!1,this.isMulti=!1,this.adData=null,this.adDatas=[],this.reporter.reset(),this.landManager.reset()}emitRender(e){return this.rootComponent?(Bn(this.rootComponent,e),this.rootComponent):Mn(yf,e)}render(){return this.adProxy.setTimePoint("p4"),this.template?(this.rootComponent=this.emitRender({manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy,template:this.template,systemInfo:this.systemInfo,adData:this.adProxy.data,adDatas:this.adProxy.datas,adCustomId:this.adCustomId,adPosition:this.adPosition,isEmpty:!1}),this.initialMultiLists(),this.rootElement=this.rootComponent.getRootElement(),this.adProxy.reportAdMonitorData(gi.TPL_RENDER_SUCCESS),this.adProxy.setTimePoint("p5"),this.rootElement.ready()):this.renderEmpty()}initialMultiLists(){if(this.rootComponent&&(this.isMulti=this.rootComponent.isMulti&&this.adProxy.isMulti,this.isMulti)){var{multiShowList:e}=this.rootComponent;e&&Array.isArray(e)?this.reporter.setMultiShowList(e):this.reporter.setMultiShowList(Object.keys(this.adDatas).map((e=>+e)))}}unmount(){this.rootComponent&&(Vn(this.rootComponent),this.rootElement=null,this.rootComponent=null)}renderEmpty(){return this.rootComponent=this.emitRender({isEmpty:!0,manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy}),this.rootElement=this.rootComponent.getRootElement(),Eo.nextLayout()}}var GC=e=>NC(e);class zC extends class{constructor(e,...t){var i=new e(...t);OC.set(this,i)}}{constructor(e){super(UC,e),this.isDestroy=!1}destroy(){var e=this;return b()((function*(){var t;e.isDestroy||(yield GC(e).destroy(),t=e,OC.delete(t),e.isDestroy=!0)}))()}hide(){var e=this;return b()((function*(){var t=GC(e);if(!t.canHideAd())throw{errMsg:"the advertisement don't support hide"};yield t.hide(!0)}))()}isShow(){return GC(this).isShow}}((e,t)=>{var i=function(t){e.prototype[t]=function(...e){return NC(this)[t](...e)}};for(var a of t)i(a)})(zC,["show","isDestroyed","onLoad","onError","onClose","onHide","offLoad","offError","offClose","offHide"]);var{_onShow:jC,_onHide:$C,_offShow:YC,_offHide:qC,touch:XC,webviewLayout:KC,Component:JC,getPrivateThis:ZC,removePrivateThis:QC,getInitScreenSize:eA}=y,tA=s(850),iA=0,aA=0,nA=I,oA=P,rA={},sA=[],lA=!0,dA=7070083760581921;D.onReady((()=>{var e=eA();iA=e.screenWidth,aA=e.screenHeight,(lA=O())&&(XC.onTouchStart((e=>{e&&e.changedTouches&&e.changedTouches.length>0&&((rA={}).touchStartPosX=Math.round(e.changedTouches[0].clientX),rA.touchStartPosY=Math.round(e.changedTouches[0].clientY),rA.touchEndPosX=0,rA.touchEndPosY=0,rA.touchStartTime=+new Date,rA.touchInterval=0)})),XC.onTouchEnd((e=>{e&&e.changedTouches&&e.changedTouches.length>0&&(rA.touchEndPosX=Math.round(e.changedTouches[0].clientX),rA.touchEndPosY=Math.round(e.changedTouches[0].clientY),rA.touchInterval=+new Date-rA.touchStartTime,sA.length>=10&&sA.shift(),sA.push(rA))})))}));var cA=5,uA=8,hA=function(e){return EA.call(this).then((()=>{var t=ZC(this),{left:i,top:a,width:n,height:o}=t.container.layoutBox,r={slotid:dA,ScreenHeight:aA,ScreenWidth:iA,PageY:a,PageX:i,costtype:t.adProxy.data&&t.adProxy.data.is_cpm?1:2,TimeMs:+new Date};return e=Object.assign({},r,e),t.adProxy.reportAbnormalDetect(e)}))},pA=function(e,t=!0){var i=ZC(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&wA.call(this,e,a),i},fA=function(e){var t=ZC(this),{left:i,top:a,width:n,height:o}=t.container.layoutBox,r=!1,s=0;t.adProxy.isValidCondition("widget_gray_time_limit")&&(s=100*(t.data.condition.widget_gray_time_limit||1)),s>0&&+new Date-t.showedExposureTime<s&&(r=!0,t.adProxy.reportAdMonitorData(48,{slotid:dA}));var l=0;return t.adProxy.isValidCondition("widget_gray_bd_limit")&&(l=t.data.condition.widget_gray_bd_limit||10),e&&l>0&&(e.absoluteEndX-i<l||i+n-e.absoluteEndX<l||e.absoluteEndY-a<l||a+o-e.absoluteEndY<l)&&(r=!0,t.adProxy.reportAdMonitorData(47,{slotid:dA})),r},gA=function(e,t,i){for(var a=ZC(this),n=0;n<a.gridCount;n++)"item"===e?a[`gridItem${n}`].style[t]=i:"icon"===e?a[`gridItemIcon${n}`].style[t]=i:"name"===e&&(a[`gridItemName${n}`].style[t]=i)},mA=function(){var e=ZC(this);return Promise.resolve().then((()=>{e.animateDoms.forEach((t=>{e[t].animate({scaleWidth:1,scaleHeight:1,duration:400}).catch((i=>{e[t].style.scaleWidth=1,e[t].style.scaleHeight=1}))}))}))},yA=function(e,t){return i=>{var a=ZC(this);if(a.adProxy.setCurrentData(e),pA.call(this,i)&&!fA.call(this,i)){var n=a.adProxy.data,{product_type:o,dest_type:r}=n;oA&&46===o&&6===r?Promise.race([CA.call(this,i,e,t),M(500)]).then((()=>{kA.call(this)})).catch((()=>{kA.call(this)})):(CA.call(this,i,e,t),kA.call(this))}}},vA=function(){var e=ZC(this),{outer:t,inner:i,scale:a}=SA.call(this),n=e.datas.map(((e,t)=>{var i=e.weapp_info||{};return{name:$(i.nick_name,10),url:i.head_img||""}})),{template:o,style:r,scaleDoms:s,animateDoms:l}=((e,t)=>{var i={container:{position:"absolute",overflow:"hidden",borderRadius:8,hidden:!0},topContainer:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:24,paddingLeft:12,paddingRight:12,paddingTop:8},gridTitle1:{width:36,height:16,lineHeight:16,fontSize:12},gridTitle2:{width:24,height:16,lineHeight:16,fontSize:12},gridTitleSplitLine:{width:2,height:16,lineHeight:16,fontSize:10,textAlign:"center",paddingRight:8,paddingLeft:8},gridContentContainerMask:{position:"absolute",top:0,left:0,right:0,bottom:0},gridFeedbackIconWarp:{display:"flex",height:8,width:16,flexDirection:"row",justifyContent:"center",alignItems:"center"},gridFeedbackIcon:{width:10,height:6},gridFeedbackArea:{display:"flex",height:16,width:50,flexDirection:"row",justifyContent:"start",alignItems:"center"},adFeedbackList:{width:104,height:86,hidden:!0,left:10,top:28,paddingLeft:6,paddingRight:6,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adAffectBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{width:104,height:86,hidden:!0,left:10,top:28,paddingLeft:6,paddingRight:6,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adQualityBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:104,height:28,lineHeight:28,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike0:{width:92,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:92,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:92,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:92,height:1,backgroundColor:"#E0E0E0"}},a=[],n=[],o=[],r=(t,r)=>{a.push(`<view id="grid-item${t}">\n        <image src="${r.url}" id="grid-item-icon${t}"></image>\n        <text id="grid-item-name${t}" value="${r.name}"></text>\n      </view>`),o.push(`gridItem${t}`),o.push(`gridItemIcon${t}`),o.push(`gridItemName${t}`),n.push(`gridItem${t}`),n.push(`gridItemIcon${t}`),n.push(`gridItemName${t}`),i[`gridItem${t}`]={display:"flex",flexDirection:"column",alignItems:"center",width:5===e?60:70},i[`gridItemIcon${t}`]={width:48,height:48,borderRadius:6},i[`gridItemName${t}`]={marginTop:5===e?8:6,fontSize:5===e?12:14,lineHeight:5===e?16:18,height:5===e?16:18,width:5===e?60:70,textAlign:"center",overflow:"hidden"}};if(a.push('<view id="container" click-state="false">'),a.push('<view id="grid-content-container-mask"></view>'),a.push('<view id="top-container" bubble-event="true">\n                      <text id="grid-title1" value="小游戏"></text>\n                      <text id="grid-title-split-line" value="|"></view>\n                      <view id="grid-feedback-area">\n                        <text id="grid-title2" value="广告" bubble-event="true"></text>\n                        <view id="grid-feedback-icon-warp" bubble-event="true">\n                          <image id="grid-feedback-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/grid_feedback_icon.png"></image>\n                        </view>\n                      </view>\n                    </view>'),n.push("topContainer"),n.push("gridTitle1"),n.push("gridTitle2"),n.push("gridTitleSplitLine"),n.push("gridFeedbackIconWarp"),n.push("gridFeedbackArea"),n=[...n,"adFeedbackMenu","adDislikeBtn","adFeedbackBtn","adAffectBtn","adFeedbackList","adDismatchBtn","adDuplicateBtn","adQualityBtn"],5===e){a.push('<view id="grid-content-container">'),i.gridContentContainer={position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:12,paddingLeft:10.5,paddingRight:10.5,paddingBottom:12},n.push("gridContentContainer");for(var s=0;s<e;s++)r(s,t[s]);a.push("</view>")}else if(8===e){a.push('<view id="grid-content-container">'),i.gridContentContainer={position:"relative",paddingTop:16,paddingLeft:14,paddingRight:14,paddingBottom:16};for(var l=0;l<2;l++){a.push(`<view id="grid-count8-line${l}">`),i[`gridCount8Line${l}`]={display:"flex",flexDirection:"row",justifyContent:"space-between"};for(var d=0;d<4;d++){var c=4*l+d;r(c,t[c])}a.push("</view>")}i.gridCount8Line0.marginBottom=16,n.push("gridCount8Line0"),a.push("</view>")}return a.push('\n     <view id="ad-feedback-list">\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <view id="ad-close-btn-line-dislike0"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n      <view id="ad-close-btn-line-dislike1"></view>\n      <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line-dislike2"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line-dislike3"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n  '),a.push("</view>"),{template:a.join(""),style:i,scaleDoms:n,animateDoms:o}})(e.gridCount,n),{root:d}=tA(o);Sp.call(this,d,r),"white"===this.adTheme?(e.gridContentContainerMask.style.backgroundColor="#ffffff",e.gridTitle1.style.color="#7F7F7F",e.gridTitle2.style.color="#7F7F7F",e.gridTitleSplitLine.style.color="#7F7F7F",gA.call(this,"name","color","#191919")):"black"===this.adTheme&&(e.gridContentContainerMask.style.backgroundColor="#1A1A1A",e.gridTitle1.style.color="#8c8c8c",e.gridTitle2.style.color="#8c8c8c",e.gridTitleSplitLine.style.color="#8c8c8c",e.gridFeedbackIcon.src="https://wxa.wxs.qq.com/images/wxapp/grid_feedback_icon_white.png",gA.call(this,"name","color","#FFFFFF")),e.scaleDoms=s,e.scaleDoms.forEach((t=>{e[t].style.scale=a})),e.animateDoms=l,e.animateDoms.forEach((t=>{e[t].style.scaleWidth=.7,e[t].style.scaleHeight=.7})),e.container.on("click",(e=>{}));for(var c=0;c<e.gridCount;c++)e[`gridItemIcon${c}`]&&e[`gridItemIcon${c}`].on("click",yA.call(this,c,"icon")),e[`gridItemName${c}`]&&e[`gridItemName${c}`].on("click",yA.call(this,c,"name"));e.gridFeedbackArea.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||DA.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"})))})),e.adFeedbackBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adProxy.openFeedbackUrl(lA?1007:1006),e.adFeedbackList.style.hidden=!0,DA.call(this,{secondGradeId:1,secondGradeDesc:"投诉"})))})),e.adDislikeBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,DA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"})))})),e.adQualityBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,DA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),AA.call(this)))})),e.adDuplicateBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,DA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),AA.call(this)))})),e.adDismatchBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackMenu.style.hidden=!0,DA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),AA.call(this)))})),e.adAffectBtn.on("click",(t=>{pA.call(this,t,!1)&&(fA.call(this,t)||(e.adFeedbackList.style.hidden=!0,DA.call(this,{secondGradeId:3,secondGradeDesc:"影响操作"}),AA.call(this)))})),e.container||e.adProxy.reportAdMonitorData(92),e.adProxy.setSlotData({gridScale:a})},_A=function(){var e=ZC(this);try{var{left:t,top:i}=this.style,{outer:a,inner:n,scale:o}=SA.call(this),{type:r}=e.data;vA.call(this),e.adProxy.preloadLanding(),e.container.style.left=t,e.container.style.top=i,e.container.style.width=n.width,e.container.style.height=n.height,bA.call(this),KC.add(e.container),e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})).then((()=>{hA.call(this,{type:1})}))}catch(t){return e.adProxy.reportAdMonitorData(91,t),Promise.reject({})}},EA=function(e){if(!e||"function"!=typeof e)return new Promise((e=>EA.call(this,e)));var t=ZC(this);t.isReady?e():t.emitter.on("ready",e)},bA=function(){var e=ZC(this),{opacity:t}=this.style;.5<=t&&t<=1?(this.style.opacity=t,e.gridContentContainerMask.style.opacity=t,e.gridFeedbackIcon.style.opacity=t):this.style.opacity=1},xA=function(){var e=ZC(this),{left:t,top:i}=this.style,{inner:a,scale:n}=SA.call(this),{type:o,crt_size:r,product_type:s,use_style_data:l}=e.data;return this.style.width,this.style.height,Object.assign(e.container.style,a,{left:t,top:i}),e.scaleDoms.forEach((t=>{e[t].style.scale=n})),bA.call(this),e.container.nextUpdate().then((()=>Promise.resolve()))},wA=function(e,t=0){var i=ZC(this);if(!MA.call(this)&&i.container&&i.container.layoutBox){var{width:a,height:n}=i.container.layoutBox,o=0;[0,2,3].includes(t)&&(i.clickCount++,o=i.clickCount);var r={slotid:dA,costtype:i.adProxy.data&&i.adProxy.data.is_cpm?1:2,click_time:+new Date,click_cnt:o,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(a,10)||0,ad_height:parseInt(n,10)||0,press_interval:e.pressInterval,block_click:t};return i.adProxy.reportTouchClick(r)}},TA=function(e){var t=ZC(this),i=0,a=0,{slotData:n}=t.adProxy;try{if(5===n.gridCount)i=Math.round((61*e+40.5)*n.gridScale),a=Math.round(60*n.gridScale);else if(8===n.gridCount){var o=Math.floor(e/4),r=e%4;i=Math.round((77*r+44)*n.gridScale),a=Math.round((64+88*o)*n.gridScale)}}catch(e){}return{x:i,y:a}},CA=function(e,t,i){var a=ZC(this);if(!MA.call(this)&&a.container&&a.container.layoutBox){var{left:n,top:o,width:r,height:s}=a.container.layoutBox,l=TA.call(this,t),d=a.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-n,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,left:n,top:o,width:r,height:s,clickAdIndex:t,clickAdPos:i,weappExtraData:{box_center_x:l.x,box_center_y:l.y,box_aid_list:a.adProxy.datas.map((e=>e.aid)),click_pos:i}});return NA.call(this,{stage:1002}),sA=sA.map((e=>`[${[e.touchStartPosX,e.touchStartPosY,e.touchEndPosX,e.touchEndPosY,e.touchStartTime,e.touchInterval].join(",")}]`)),a.adProxy.reportBannerLastClick({lastClickArr:`[${sA.join(",")}]`,expMs:a.showedExposureTime,clickMs:+new Date,bannerClkScreenX:e.absoluteX,bannerClkScreenY:e.absoluteY,left:n,top:o,width:r,height:s}),sA=[],d}},AA=function(){this.hide(),_private.emitter.emit("close")},DA=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){if(!MA.call(this)){var o=ZC(this),{left:r,top:s,width:l,height:d}=o.container.layoutBox;e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:iA,adHeight:aA,adPosX:0,adPosY:0,expTime:o.showedExposureTime,slotId:dA,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},IA=function(e=!1){var t=ZC(this);if(MA.call(this))return Promise.resolve();if(!t.container.layoutBox)return M(0).then((()=>IA.call(this,e)));var{left:i,top:a,width:n,height:o}=t.container.layoutBox;if(a>aA-1)return Promise.resolve();var r=!1===t.container.style.hidden;if(t.adProxy.isViewable=!!r,!t.isShowedExposureReported&&r){t.isShowedExposureReported=!0,t.showedExposureTime=+new Date;t.adProxy.reportExposure({left:i,top:a,width:n,height:o,isMulti:!0,multiList:Object.keys(t.datas).map((e=>+e)),exposureType:"showed"});mA.call(this)}if(a+o/2<=aA&&!t.isViewableExposureReported&&r){if(!e)return M(1e3).then((()=>IA.call(this,!0)));t.isViewableExposureReported=!0;t.adProxy.reportExposure({left:i,top:a,width:n,height:o,isMulti:!0,multiList:Object.keys(t.datas).map((e=>+e)),exposureType:"viewable"})}return Promise.resolve()},SA=function(){var e,t,i=ZC(this);i.gridCount===cA?t=(e=Math.min(345,iA))/345*120:i.gridCount===uA&&(t=(e=Math.min(343,iA))/343*216);var{width:a,height:n}=this.style,o=L({outer:{width:a=a||e,height:n=n||t},inner:{width:e,height:t},minScale:.8,maxScale:iA/e,side:"width"}),r=i.lastRealWidth!==o.inner.width||i.lastRealHeight!==o.inner.height;return this.style.realWidth=i.lastRealWidth=o.inner.width,this.style.realHeight=i.lastRealHeight=o.inner.height,r&&i.emitter.emit("resize",o.inner),o},kA=function(e){var t=ZC(this);t.landingCount++,t.landingCount>1&&t.adProxy.reportRepeatClick({slotId:dA,costType:t.adProxy.data&&t.adProxy.data.is_cpm?1:2,clkCnt:t.landingCount,lastClkPeriod:+new Date-t.lastLandingTime,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,pageStayTime:t.landingPageCostTime,jsapiName:t.lastJsapiName}),t.lastLandingTime=+new Date,t.lastJsapiStatus=2,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.adProxy.land(e).then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"==t.lastJsapiName||"navigateToMiniProgram"==t.lastJsapiName||"openADCanvas"==t.lastJsapiName||"launchApplication"==t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1}))},PA=function(e){if(!MA.call(this)){var t=ZC(this);t.isClosed||t.adProxy.fetch(e).then((e=>(t.datas=e,t.data=t.adProxy.data,EA.call(this).then((()=>{t.container.style.hidden=!0})).then((()=>(t.isReady=!1,KC.remove(t.container)))).then((()=>(t.isViewableExposureReported=!1,t.isShowedExposureReported=!1,t.showedExposureTime=0,t.adProxy.isViewable=!1,_A.call(this),EA.call(this)))).then((()=>MA.call(this)?EA.call(this):t.isHideBYCover?(t.lastDisplayAction="show",EA.call(this)):(t.isShow=!0,NA.call(this,{stage:1001}),Promise.resolve().then((()=>{t.container.style.hidden=!1,t.container.nextLayout((()=>IA.call(this))),RA.call(this)}))))).catch((e=>t.emitter.emit("_error",e)))))).catch((e=>t.emitter.emit("_error",e)))}},RA=function(){var e=ZC(this);if(e.adIntervals>=30&&e.adIntervals<=3600){e.adTimer&&clearTimeout(e.adTimer);var t=1e3*e.adIntervals;e.adTimer=setTimeout((()=>PA.call(this,!0)),t)}},OA=function(){if(!MA.call(this)){var e=ZC(this);e.adTimer&&(clearTimeout(e.adTimer),e.adTimer=null)}},NA=function({stage:e}){var t={adtype:4,stage:e};ZC(this).adProxy.reportADFunnelModel(t)},LA=function(){if(!MA.call(this)){var e=ZC(this);OA.call(this),this._destroyed=!0,hA.call(this,{type:2}),EA.call(this).then((()=>e.updateResult)).then((()=>{YC(e.checkAdState),qC(e.onHide),e.emitter.off("resize"),e.emitter.off("_error"),e.emitter.off("load"),KC.remove(e.container),QC(this)}))}},MA=function(){return this._destroyed};class BA extends JC{constructor({adUnitId:t,style:i={left:0,top:0,width:0,height:0,opacity:1},adIntervals:a=0,adTheme:n="white",gridCount:o=5}={}){super(),e.warn("格子广告位计划在2021年5月内下线，请尽快接入原生模板广告位替换，详情可查看MP流量主公告消息。");var r=ZC(this);if(r.emitter=new vf,r.adProxy=new Dp({adUnitId:t,adType:"grid"}),r.clickCount=0,r.landingCount=0,r.lastLandingTime=0,r.lastJsapiName="",r.lastJsapiStatus=0,r.lastJsapiCostTime=0,r.isLandingPage=!1,r.landingPageCostTime=0,r.hideTime=0,r.isShowedExposureReported=!1,r.isViewableExposureReported=!1,r.isReady=!1,r.isShow=!1,r.emitter.on("ready",(()=>r.isReady=!0)),r.isHideBYCover=!1,r.adCover=new nm({adUnitId:t,adType:"grid"}),r.adIntervals="number"==typeof a?a:0,r.adTimer=null,r.showedExposureTime=0,r.clickFirstGradeTime=0,r.adCover.on(em,(()=>{MA.call(this)||EA.call(this).then((()=>{r.isShow&&!MA.call(this)&&(r.container.style.hidden=!0),r.isHideBYCover=!0,r.lastDisplayAction=""})).catch((e=>{}))})),r.adCover.on(tm,(()=>{MA.call(this)||EA.call(this).then((()=>{r.isShow&&!MA.call(this)&&(r.container.style.hidden=!1),r.isHideBYCover=!1,"show"==r.lastDisplayAction?this.show():"hide"==r.lastDisplayAction&&this.hide()})).catch((e=>{}))})),r.lastRealWidth=0,r.lastRealHeight=0,r.updateResult=Promise.resolve(),this.adUnitId=t,-1!==[cA,uA].indexOf(o))if(r.gridCount=o,-1!==["white","black"].indexOf(n)){this.adTheme=n,this.style={},this._destroyed=!1;var s=null;Object.keys(i).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>i[e],set:t=>{MA.call(this)||t!==i[e]&&(i[e]=t,r.updateResult=new Promise((e=>{clearTimeout(s),s=setTimeout(e,0)})).then((()=>EA.call(this))).then((()=>Promise.all([xA.call(this),r.container.nextLayout().then((()=>IA.call(this)))]))))}})})),this.style.realWidth=this.style.width,this.style.realHeight=this.style.height,r.adProxy.setSlotData({gridCount:o,adTheme:n,gridOpacity:this.style.opacity});var l=r.adProxy.fetch();l.catch((e=>r.emitter.emit("_error",e))),r.adFetchResult=l,r.adFetchResult.then((t=>{(r.emitter.emitter._events?Object.keys(r.emitter.emitter._events):[]).includes("_error")||"devtools"!==nA?(r.datas=t,r.data=r.adProxy.data,_A.call(this)):e.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。")})),r.checkAdState=()=>{r.adFetchResult.then((()=>{if(r.isLandingPage){r.lastJsapiStatus=0,r.isLandingPage=!1;var e=+new Date;r.landingPageCostTime=e-r.hideTime,r.adProxy.reportLandingTime({slotId:dA,costType:r.adProxy.data&&r.adProxy.data.is_cpm?1:2,openTime:r.hideTime,closeTime:e,stayTime:r.landingPageCostTime,jsapiName:r.lastJsapiName,clickTime:r.lastLandingTime,clkCnt:r.landingCount,retCode:r.lastJsapiStatus,costTime:r.lastJsapiCostTime,actTypeInt:1})}})).then((()=>{r.isShow&&!r.adTimer&&RA.call(this)})).catch((()=>{}))},jC(r.checkAdState),r.onHide=e=>{OA.call(this),r.hideTime=+new Date},$C(r.onHide)}else e.error("您设置的adTheme参数有误");else e.error("您设置的gridCount参数有误")}show({branchId:e,branchDim:t}={}){if(MA.call(this))return Promise.reject({errMsg:"grid-ad has been destroyed"});var i=ZC(this);return i.isHideBYCover?(i.lastDisplayAction="show",EA.call(this)):(i.isShow=!0,NA.call(this,{stage:1001}),e?i.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):i.adProxy.resetAnalyseBranchInfo(),EA.call(this).then((()=>{i.container.style.hidden=!1,i.container.nextLayout((()=>IA.call(this))),RA.call(this)})))}hide(){if(!MA.call(this)){var e=ZC(this);return e.isHideBYCover?(e.lastDisplayAction="hide",EA.call(this)):(e.isShow=!1,e.adProxy.isViewable=!1,EA.call(this).then((()=>{e.container.style.hidden=!0,OA.call(this)})))}}destory(){LA.call(this)}destroy(){LA.call(this)}onResize(e){MA.call(this)||ZC(this).emitter.on("resize",e)}offResize(e){MA.call(this)||ZC(this).emitter.off("resize",e)}onError(e){MA.call(this)||ZC(this).emitter.on("_error",e)}offError(e){MA.call(this)||ZC(this).emitter.off("_error",e)}onLoad(e){MA.call(this)||ZC(this).emitter.on("load",e)}offLoad(e){MA.call(this)||ZC(this).emitter.off("load",e)}}var VA,WA,FA="self",HA="cpsShopAd has been destroyed",UA="cpsShopAd render-mode should be self",GA="doExposure argument should be an object",zA="exposureType should be showed or viewable",jA="adList should be an array",$A="uuid is unavailable or exposured",YA="doClick argument should be an object",qA="uuid is unavailable",XA="showFeedback argument should be an object",KA="no ad data, please invoke load before showFeedback",JA={type:"feedback",id:"cpsFeedback",options:{baseType:2,innerStyles:{container:{style:{padding:"0px 0px 0px 0px"}},feedbackTagContainer:{style:{padding:"1px 2px 1px 2px"}},feedbackTag:{style:{lineHeight:"10px",height:"10px",fontSize:"8px",textAlign:"center"}},feedbackIcon:{style:{hidden:!0,marginLeft:0}}}},style:{position:"absolute"}},{deviceInfo:ZA,Component:QA,getPrivateThis:eD,removePrivateThis:tD}=y,iD=1,aD=e=>eD(e),nD=function(){return this._destroyed},oD=function(e){nD.call(this)||aD(this).adProxy.reportAdMonitorData(yi.CALL_ERROR,e);return Promise.reject({errMsg:e})},rD=function(){if(nD.call(this))return Promise.reject({errMsg:HA});var t=aD(this);return t.adProxy.fetch(!1,{},{cpsShopReqInfo:r()({},t.query),isAdunitTmpl:t.renderMode!==FA}).then((i=>{try{var a=Object.keys(t.emitter.emitter).includes("_events")?Object.keys(t.emitter.emitter._events):[];if("devtools"===ZA.platform&&!a.includes("_error"))return void e.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。");for(var n of i)void 0!==n.extBackComm.cpsProduct.uuid&&t.adProxy.reportAdMonitorData(yi.HAS_UUID),n.extBackComm.cpsProduct.uuid=iD,iD+=1;if(t.datas=t.adProxy.datas,t.renderMode===FA){var o=i.map((e=>{var t=we(e.extBackComm.cpsProduct);return t.exp_url&&delete t.exp_url,t.click_url&&delete t.click_url,Ce(t),t}));return t.emitter.emit("load",o),o}return void t.emitter.emit("load")}catch(e){throw t.adProxy.reportAdMonitorData(yi.PARSE_ERROR,e),{}}}))},sD=function(e){var t=aD(this).datas.find((t=>t.extBackComm.cpsProduct.uuid===e));return null==t?void 0:t.extBackComm.cpsProduct},lD=function(e){return aD(this).datas.findIndex((t=>t.extBackComm.cpsProduct.uuid===e))},dD=function(e){var t;if(nD.call(this))return oD.call(this,HA);var i=aD(this);if(i.renderMode!==FA)return oD.call(this,UA);if(!_e(e))return oD.call(this,GA);var{exposureType:a,adList:n}=e;if(!["showed","viewable"].includes(a))return oD.call(this,zA);if(!Array.isArray(n))return oD.call(this,jA);var o=[];for(var r of n){var s=sD.call(this,r.uuid);s&&("showed"!==a||s.isShowedExposure?"viewable"!==a||s.isViewableExposure||(o.push(s),s.isViewableExposure=!0):(o.push(s),s.isShowedExposure=!0))}if(!o.length)return oD.call(this,$A);var l={};try{l.s_cps_shop_exp_url=JSON.stringify(o.map((e=>e.exp_url)))}catch(e){return i.adProxy.reportAdMonitorData(yi.EXPURL_ERROR,e),Promise.resolve()}return i.adProxy.reportExposure({exposureType:a,extExposureComm:l}),setTimeout((()=>{try{i.adProxy.reportAdMonitorData(yi.EXPOSURE_DATA,{adList:n,reportList:o.map((e=>({uuid:e.uuid,trace_id:e.trace_id,product_id:e.product_id})))})}catch(e){}}),500),0===(null===(t=i.feedbackElements)||void 0===t?void 0:t.length)&&i.adProxy.reportAdMonitorData(yi.EXPOSURE_NOFEEDBACK),Promise.resolve()},cD=function(t){var i,a,n,o;if(nD.call(this))return oD.call(this,HA);var r=aD(this);if(r.renderMode!==FA)return oD.call(this,UA);if(!_e(t))return oD.call(this,YA);if(void 0===t.rect||void 0===t.click_pos){if("devtools"===ZA.platform)return e.error("参数错误，当调用doClick时，需要传递`rect`和`click_pos`"),Promise.resolve();r.adProxy.reportAdMonitorData(yi.CLICK_INOF_ERROR)}var s=lD.call(this,t.uuid);if(-1===s)return oD.call(this,qA);r.adProxy.setCurrentData(s);var l=null===(i=r.adProxy.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.cpsProduct;return l?(r.adProxy.reportClick({extClickComm:{cps_shop_click_url:l.click_url}}),null!==(n=l.wechat_app_info)&&void 0!==n&&n.app_id?(r.adProxy.data.weapp_info={appid:l.wechat_app_info.app_id},r.adProxy.landPage(Ai.DEST_TYPE_WECHAT_APPLET,l.wechat_app_info.app_path,{isButton:!1})):l.h5_page?r.adProxy.landPage(Ai.DEST_TYPE_OUTER,l.h5_page,{isButton:!1}):r.adProxy.reportAdMonitorData(yi.DEST_ERROR),0===(null===(o=r.feedbackElements)||void 0===o?void 0:o.length)&&r.adProxy.reportAdMonitorData(yi.CLICK_NOFEEDBACK),r.adProxy.reportAdMonitorData(yi.CLICK_DATA,{rect:t.rect||{},click_pos:t.click_pos||{}}),Promise.resolve()):oD.call(this,qA)},uD=1,hD=function(e){var t;if(nD.call(this))return oD.call(this,HA);var i=aD(this);if(i.renderMode!==FA)return oD.call(this,UA);if(!_e(e))return oD.call(this,XA);if(0===(null===(t=i.datas)||void 0===t?void 0:t.length))return oD.call(this,KA);var a=Mn($p,{manager:null,reporter:null,emitter:i.feedbackEmitter,adProxy:i.adProxy,template:JA,systemInfo:{},scope:{private:i},adData:i.adProxy.data,adDatas:i.adProxy.datas,adCustomId:`CPSFEEDBACK-${uD}`,isEmpty:!1},!1);uD+=1;var n=a.getRootElement();return n.style.left=e.left||0,n.style.top=e.top||0,i.feedbackElements.push(n),Eo.add(n),Eo.nextLayout()},pD=function(){if(!nD.call(this)){var e=aD(this);if(e.feedbackElements.length){for(var t of e.feedbackElements)t.referComponent&&Vn(t.referComponent);e.feedbackElements=[]}}},fD=function(){if(!nD.call(this)){var e=aD(this);e.emitter.off("_error"),e.emitter.off("load"),pD.call(this),this._destroyed=!0,tD(this)}};class gD extends QA{constructor({adUnitId:e,pluginId:t="",query:i={},renderMode:a=FA}){super(),this._destroyed=void 0;var n=aD(this);n.emitter=new _f,this._destroyed=!1,n.adType="cpsShopAd",n.adUnitId=e,n.renderMode=a,n.query=i,n.isLoading=!1,n.adProxy=new Dp({adUnitId:e,adType:"cpsShopAd",pluginAppid:t}),n.feedbackEmitter=new _f,n.feedbackElements=[]}load(){if(nD.call(this))return Promise.reject({errMsg:HA});var e=aD(this);if(e.isLoading)return Promise.reject({errMsg:"CpsShopAd is loading"});e.isLoading=!0;var t=rD.call(this);return e.adFetchResult=t.then((t=>(e.isLoading=!1,t))).catch((t=>{e.isLoading=!1;var i=-12001===t.errCode?{errMsg:"CpsShopAd fail no permission"}:t;throw e.emitter.emit("_error",i),i})),e.adFetchResult}onLoad(e){nD.call(this)||aD(this).emitter.on("load",e)}offLoad(e){nD.call(this)||aD(this).emitter.off("load",e)}onError(e){nD.call(this)||aD(this).emitter.on("_error",e)}offError(e){nD.call(this)||aD(this).emitter.off("_error",e)}doExposure(e){return dD.call(this,e)}doClick(e){return cD.call(this,e)}showFeedback(e){return hD.call(this,e)}hideFeedback(){return pD.call(this)}destroy(){fD.call(this)}}"function"==typeof(WA=()=>{VA||(VA=new Zg),VA.otherAdsEmitFetch()})&&_.on("_onEmitSplashAdFetch",WA);var mD=null,yD={createBannerAd:e=>new Bw(e),createRewardedVideoAd:e=>{var t=r()({},e);return delete t.pluginId,(e=>e&&!0===e.multiton?new Lb(e):(mD||(mD=new Lb(e)),mD))(t)},createInterstitialAd:e=>{var t=r()({},e);return delete t.pluginId,new CC(t)},createAdProxy:e=>new Dp(e),createCustomAd:e=>{var t=r()({},e);return delete t.pluginId,new zC(t)},createGridAd:e=>new BA(e),createCpsAd:e=>new gD(e)};globalThis.AD=yD})()})()}();